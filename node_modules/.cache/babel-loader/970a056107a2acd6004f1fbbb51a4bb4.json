{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-mobile-audio/src/lib/audio.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-mobile-audio/src/lib/audio.vue","mtime":1634630052361},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ20tYXVkaW8nLAogIHByb3BzOiB7CiAgICBzcmM6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRleHQ6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi6L276Kem5pKt5pS+IgogICAgfSwKICAgIHNob3dEdXJhdGlvbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgYmxvY2s6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhdWRpbzogbnVsbCwKICAgICAgYW5pbWF0ZTogZmFsc2UsCiAgICAgIHRpbWVyOiBudWxsLAogICAgICBkdXJhdGlvbjogbnVsbAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHRoaXMuYXVkaW8gPSBuZXcgQXVkaW8oKTsKICAgIHRoaXMuYXVkaW8uc3JjID0gdGhpcy5zcmM7CiAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5kdXJhdGlvbiA9IF90aGlzLmZvcm1hdChfdGhpcy5hdWRpby5kdXJhdGlvbik7CiAgICB9KTsKCiAgICB0aGlzLmF1ZGlvLm9ucGxheSA9IGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuYW5pbWF0ZSA9IHRydWU7CiAgICAgIF90aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmFuaW1hdGUgPSBmYWxzZTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmFuaW1hdGUgPSB0cnVlOwogICAgICAgIH0sIDUwKTsKICAgICAgfSwgMTI1MCk7CiAgICB9OwoKICAgIHRoaXMuYXVkaW8ub25wYXVzZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMuYW5pbWF0ZSA9IGZhbHNlOwogICAgICBfdGhpcy50aW1lciAmJiBjbGVhckludGVydmFsKF90aGlzLnRpbWVyKTsKICAgIH07CgogICAgdGhpcy5hdWRpby5vbmVuZGVkID0gZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5hbmltYXRlID0gZmFsc2U7CiAgICAgIF90aGlzLnRpbWVyICYmIGNsZWFySW50ZXJ2YWwoX3RoaXMudGltZXIpOwogICAgfTsKCiAgICB3aW5kb3cuYXVkaW9MaXN0LnB1c2godGhpcy5hdWRpbyk7IC8v5omA5pyJ5a6e5L6L5Yqg5YWl5YWo5bGA5Y+Y6YePCiAgfSwKICBtZXRob2RzOiB7CiAgICBwbGF5OiBmdW5jdGlvbiBwbGF5KCkgewogICAgICB2YXIgcGF1c2VkID0gdGhpcy5hdWRpby5wYXVzZWQ7CiAgICAgIHdpbmRvdy5hdWRpb0xpc3QuZm9yRWFjaChmdW5jdGlvbiAoYXVkaW8pIHsKICAgICAgICAvL+W8gOWni+WJjeWFiOWFs+mXreaJgOacieWPr+iDveato+WcqOi/kOihjOeahOWunuS+iwogICAgICAgIGF1ZGlvLnBhdXNlKCk7CiAgICAgIH0pOwoKICAgICAgaWYgKHBhdXNlZCkgewogICAgICAgIHRoaXMuYXVkaW8ucGxheSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTsKICAgICAgfQogICAgfSwKICAgIGZvcm1hdDogZnVuY3Rpb24gZm9ybWF0KHMpIHsKICAgICAgdmFyIHQgPSAnJzsKCiAgICAgIGlmIChzID4gLTEpIHsKICAgICAgICB2YXIgbWluID0gTWF0aC5mbG9vcihzIC8gNjApICUgNjA7CiAgICAgICAgdmFyIHNlYyA9IHMgJSA2MDsKCiAgICAgICAgaWYgKG1pbiA8IDEwKSB7CiAgICAgICAgICB0ICs9ICIwIjsKICAgICAgICB9CgogICAgICAgIHQgKz0gbWluICsgIiciOwoKICAgICAgICBpZiAoc2VjIDwgMTApIHsKICAgICAgICAgIHQgKz0gIjAiOwogICAgICAgIH0KCiAgICAgICAgdCArPSBzZWMudG9GaXhlZCgyKTsKICAgICAgfQoKICAgICAgdCA9IHQucmVwbGFjZSgnLicsICdcIicpOwogICAgICByZXR1cm4gdDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["audio.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"x-audio-wrap\" :class=\"{inline:!block}\" ref=\"wrap\" @click=\"play\">\n        <div class=\"x-sector\" :class=\"{play:animate}\">\n            <div class=\"x-dot\"></div>\n        </div>\n        <div class=\"x-time\">{{duration&&showDuration?duration:text}}</div>\n    </div>\n</template>\n<script>\nexport default {\n    name:'m-audio',\n    props:{\n        src:{\n            type:String,\n            default:''\n        },\n        text:{\n            type:String,\n            default:\"轻触播放\"\n        },\n        showDuration:{\n            type:Boolean,\n            default:true\n        },\n        block:{\n            type:Boolean,\n            default:false\n        },\n    },\n    data(){\n        return{\n            audio:null,\n            animate:false,\n            timer:null,\n            duration:null\n        }\n    },\n    mounted(){\n        this.audio=new Audio()\n        this.audio.src=this.src\n        this.audio.addEventListener('canplaythrough',()=>{\n            this.duration=this.format(this.audio.duration)\n        })\n        this.audio.onplay=()=>{\n            this.animate=true\n            this.timer=setInterval(() => {\n                this.animate=false\n                setTimeout(()=>{\n                    this.animate=true\n                },50)\n            }, 1250);\n        }\n        this.audio.onpause=()=>{\n            this.animate=false\n            this.timer&&clearInterval( this.timer)\n        }\n        this.audio.onended=()=>{\n            this.animate=false\n            this.timer&&clearInterval( this.timer)\n        }\n        window.audioList.push(this.audio)//所有实例加入全局变量\n    },\n    methods:{\n        play(){\n            let paused = this.audio.paused\n            window.audioList.forEach(audio=>{//开始前先关闭所有可能正在运行的实例\n                audio.pause()\n            })\n            if(paused){\n                this.audio.play()\n            }else{\n                this.audio.pause()\n            }\n        },\n        format(s){\n            var t='';\n            if(s > -1){\n                var min = Math.floor(s/60) % 60;\n                var sec = s % 60;\n\n                if(min < 10){t += \"0\";}\n                t += min + \"'\";\n                if(sec < 10){t += \"0\";}\n                t += sec.toFixed(2);\n            }\n            t=t.replace('.','\\\"')\n            return t;\n        },\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n.x-audio-wrap{\n    height: 30px;\n    width: 110px;\n    border-radius: 15px;\n    // border: 1px solid #ddd;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    cursor: pointer;\n    box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.25);\n    .x-sector{\n        height: 7px;\n        width: 7px;\n        border-radius:4px 10px;\n        border-right: 2px solid #ddd;\n        border-top: 2px solid #ddd;\n        transform: rotate(45deg);\n        position: relative;\n        margin-left: 10px;\n        .x-dot{\n            height: 4px;\n            width: 4px;\n            border-radius: 4px;\n            background: #ddd;\n            position: absolute;\n            top: 4px;\n        }\n    }\n    .x-sector::before{\n        content: \"\";\n        height: 9px;\n        width: 9px;\n        border-radius:4px 12px;\n        border-right: 2px solid #ddd;\n        border-top: 2px solid #ddd;\n        transform: rotate(0deg);\n        position: absolute;\n        right: -7px;\n        top: -7px;\n    }\n    .x-sector::after{\n        content: \"\";\n        height: 12px;\n        width: 12px;\n        border-radius:4px 14px;\n        border-right: 2px solid #ddd;\n        border-top: 2px solid #ddd;\n        transform: rotate(0deg);\n        position: absolute;\n        right: -13px;\n        top: -13px;\n    }\n\n    .x-time{\n        color: #999;\n        font-size: 12px;\n        margin-right: 10px;\n    }\n    &.inline{\n        display: inline-flex\n    }\n}\n\n@keyframes play-dot{\n    from{\n        background: #ddd\n    }\n    to{\n        background: #5cadff\n    }\n}\n@keyframes play-sector{\n    from{\n        border-color: #ddd\n    }\n    to{\n        border-color: #5cadff\n    }\n}\n.x-sector.play{\n    animation: play-sector 0.3s 0.1s ease-in-out;\n}\n.x-sector.play::before{\n    animation: play-sector 0.3s 0.2s ease-in-out;\n}\n.x-sector.play::after{\n    animation: play-sector 0.3s 0.3s ease-in-out;\n}\n.x-sector.play .x-dot{\n    animation: play-dot 0.3s ease-in-out;\n}\n</style>\n"],"sourceRoot":"node_modules/vue-mobile-audio/src/lib"}]}