{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin-design/src/views/image/ImageSynthesizer.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/src/views/image/ImageSynthesizer.vue","mtime":1624500048824},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluLWRlc2lnbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnZhciBfSGludHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvSGludHMiKSk7Cgp2YXIgX0VsZW1lbnREcnIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvRWxlbWVudERyciIpKTsKCnZhciBfSW1hZ2VSaWNoVGV4dCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vY29tcG9uZW50cy9JbWFnZVJpY2hUZXh0IikpOwoKdmFyIF9UZXh0U2V0dGluZyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vY29tcG9uZW50cy9UZXh0U2V0dGluZyIpKTsKCnZhciBfVXBsb2FkSW1hZ2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvVXBsb2FkSW1hZ2UiKSk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgiLi4vLi4vdXRpbHMiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnSW1hZ2VTeW50aGVzaXplcicsCiAgY29tcG9uZW50czogewogICAgSGludHM6IF9IaW50cy5kZWZhdWx0LAogICAgRWxlbWVudERycjogX0VsZW1lbnREcnIuZGVmYXVsdCwKICAgIEltYWdlUmljaFRleHQ6IF9JbWFnZVJpY2hUZXh0LmRlZmF1bHQsCiAgICBUZXh0U2V0dGluZzogX1RleHRTZXR0aW5nLmRlZmF1bHQsCiAgICBVcGxvYWRJbWFnZTogX1VwbG9hZEltYWdlLmRlZmF1bHQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb250YWluZXI6IHsKICAgICAgICAvLyDlsZXnpLrljLrvvIjlj6/mi5bmi73ljLrvvInmoLflvI8KICAgICAgICB3aWR0aDogMCwKICAgICAgICBoZWlnaHQ6IDAsCiAgICAgICAgYmdJbWFnZVNyYzogJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9iYWltaW5neHVhbi9tZWRpYS1zdG9yZS9pbWFnZXMvaW1nMDEuanBnJyAvLyDlupXlm77ot6/lvoQKCiAgICAgIH0sCiAgICAgIGVsZW1lbnRzOiBbXSwKICAgICAgLy8g5Y+g5Yqg57uE5Lu25pWw57uECiAgICAgIGFjdGl2ZUVsZToge30sCiAgICAgIC8vIOW9k+WJjeWbvueJh+S4iuiBmueEpueahOWPoOWKoOe7hOS7tgogICAgICBlbGVOdW06IDAKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5bGV56S65Yy677yI5Y+v5ouW5ou95Yy677yJ5qC35byPCiAgICBjb250YWluZXJTdHlsZTogZnVuY3Rpb24gY29udGFpbmVyU3R5bGUoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgd2lkdGg6IHRoaXMuY29udGFpbmVyLndpZHRoICsgJ3B4JywKICAgICAgICBoZWlnaHQ6IHRoaXMuY29udGFpbmVyLmhlaWdodCArICdweCcsCiAgICAgICAgYmFja2dyb3VuZEltYWdlOiAndXJsKFwnJyArIHRoaXMuY29udGFpbmVyLmJnSW1hZ2VTcmMgKyAnXCcpJwogICAgICB9OwogICAgfSwKICAgIC8vIOmAieaLqeeahOaWh+acrAogICAgYWN0aXZlRWxlVGV4dDogZnVuY3Rpb24gYWN0aXZlRWxlVGV4dCgpIHsKICAgICAgaWYgKHRoaXMuYWN0aXZlRWxlLnR5cGUgPT09ICd0ZXh0JykgewogICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUVsZTsKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RHJhZ0NvbnRhaW5lclNpemUoMTkyMCwgMTIwMCk7CiAgICB0aGlzLmFkZFRleHQoKTsKICAgIHRoaXMuYWRkSW1hZ2UoewogICAgICBhY3RpdmU6IGZhbHNlLAogICAgICBzcmM6ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYmFpbWluZ3h1YW4vbWVkaWEtc3RvcmUvaW1hZ2VzL2ltZzA1LmpwZWcnLAogICAgICBzaXplOiA1MzI0OCwKICAgICAgd2lkdGg6IDEzMiwKICAgICAgaGVpZ2h0OiAxMzIKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5ouW5Yqo5YWD57Sg5oqK5p+ECiAgICBkcmFnSGFuZGxlczogZnVuY3Rpb24gZHJhZ0hhbmRsZXModHlwZSkgewogICAgICBpZiAodHlwZSA9PT0gJ3RleHQnKSB7CiAgICAgICAgcmV0dXJuIFsnZScsICd3J107CiAgICAgIH0KICAgIH0sCiAgICAvLyDlhYPntKDlsYLnuqfmjpLluo8KICAgIGVsZW1lbnRaSW5kZXg6IGZ1bmN0aW9uIGVsZW1lbnRaSW5kZXgodHlwZSkgewogICAgICB2YXIgekluZGV4ID0gMTsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgJ3RleHQnOgogICAgICAgICAgekluZGV4ID0gMzsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlICdpbWFnZSc6CiAgICAgICAgICB6SW5kZXggPSAyOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHJldHVybiB7CiAgICAgICAgekluZGV4OiB6SW5kZXgKICAgICAgfTsKICAgIH0sCiAgICAvLyDlupXlm77kuIrkvKDmiJDlip8KICAgIGhhbmRsZVN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5jb250YWluZXIuYmdJbWFnZVNyYyA9IGRhdGE7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICBpbWFnZS5zcmMgPSBkYXRhOwoKICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmdldERyYWdDb250YWluZXJTaXplKGltYWdlLndpZHRoLCBpbWFnZS5oZWlnaHQpOwogICAgICB9OwogICAgfSwKICAgIC8vIOiuoeeul+W6leWbvuWxleekuuWuvemrmAogICAgZ2V0RHJhZ0NvbnRhaW5lclNpemU6IGZ1bmN0aW9uIGdldERyYWdDb250YWluZXJTaXplKGltYWdlVywgaW1hZ2VIKSB7CiAgICAgIHZhciBzaG93QXJlYVcgPSA4NTAsCiAgICAgICAgICBzaG93QXJlYUggPSA1NTA7CiAgICAgIHZhciBzaXplT2JqID0gKDAsIF91dGlscy5jYWxjSW1hZ2VTaXplKShpbWFnZVcsIGltYWdlSCwgc2hvd0FyZWFXLCBzaG93QXJlYUgpOyAvLyDmm7TmlrDlm77niYflsZXnpLrljLrlrr3pq5gKCiAgICAgIHRoaXMuY29udGFpbmVyLndpZHRoID0gc2l6ZU9iai53aWR0aDsKICAgICAgdGhpcy5jb250YWluZXIuaGVpZ2h0ID0gc2l6ZU9iai5oZWlnaHQ7CiAgICB9LAogICAgLy8g5re75Yqg5paH5pysCiAgICBhZGRUZXh0OiBmdW5jdGlvbiBhZGRUZXh0KCkgewogICAgICB2YXIgdGFnTnVtID0gKyt0aGlzLmVsZU51bTsKICAgICAgdmFyIHRleHQgPSB7CiAgICAgICAgYWN0aXZlOiB0cnVlLAogICAgICAgIHRleHQ6ICfor7fovpPlhaXmlofmnKwnLAogICAgICAgIHR5cGU6ICd0ZXh0JywKICAgICAgICB0YWc6ICd0ZXh0XycgKyB0YWdOdW0sCiAgICAgICAgeDogMzAwLAogICAgICAgIHk6IDEwMCwKICAgICAgICB3OiAxODAsCiAgICAgICAgaDogMzYsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHRleHRBbGlnbjogJ2xlZnQnLAogICAgICAgICAgbGluZUhlaWdodDogJzI0cHgnLAogICAgICAgICAgZm9udFNpemU6ICcyNHB4JywKICAgICAgICAgIGZvbnRGYW1pbHk6ICflvq7ova/pu5HkvZMnLAogICAgICAgICAgZm9udFdlaWdodDogNDAwLAogICAgICAgICAgY29sb3I6ICcjZjcwNzA3JywKICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwNWY4ZTgnLAogICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nCiAgICAgICAgfQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID4gNCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5Zu+54mH5LiK5pyA5aSa5Y+g5YqgNeS4quWFg+e0oO+8gScpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZWxlbWVudHMucHVzaCh0ZXh0KTsKICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUVsZSh0ZXh0KTsKICAgICAgfQogICAgfSwKICAgIC8vIOa3u+WKoOWbvueJhwogICAgYWRkSW1hZ2U6IGZ1bmN0aW9uIGFkZEltYWdlKGltZ09iaikgewogICAgICB2YXIgdGFnTnVtID0gKyt0aGlzLmVsZU51bTsKICAgICAgdmFyIGltYWdlID0gewogICAgICAgIGFjdGl2ZTogaW1nT2JqLmFjdGl2ZSwKICAgICAgICB0eXBlOiAnaW1hZ2UnLAogICAgICAgIHRhZzogJ2ltYWdlXycgKyB0YWdOdW0sCiAgICAgICAgeDogMzIwLAogICAgICAgIHk6IDMwMCwKICAgICAgICB3OiBwYXJzZUludChpbWdPYmoud2lkdGgpLAogICAgICAgIGg6IHBhcnNlSW50KGltZ09iai5oZWlnaHQpLAogICAgICAgIHNyYzogaW1nT2JqLnNyYywKICAgICAgICBzaXplOiBpbWdPYmouc2l6ZQogICAgICB9OwoKICAgICAgaWYgKHRoaXMuZWxlbWVudHMubGVuZ3RoID4gNCkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uud2FybmluZygn5Zu+54mH5LiK5pyA5aSa5Y+g5YqgNeS4quWFg+e0oO+8gScpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZWxlbWVudHMucHVzaChpbWFnZSk7CgogICAgICAgIGlmIChpbWdPYmouYWN0aXZlKSB7CiAgICAgICAgICB0aGlzLnVwZGF0ZUFjdGl2ZUVsZShpbWFnZSk7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5LiK5Lyg5Zu+54mH5oiQ5YqfCiAgICBoYW5kbGVBZGRJbWFnZTogZnVuY3Rpb24gaGFuZGxlQWRkSW1hZ2UoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciBkYXRhU3RyTGVuID0gZGF0YS5yZXBsYWNlKCdkYXRhOmltYWdlL2pwZWc7YmFzZTY0LCcsICcnKS5sZW5ndGg7CiAgICAgIHZhciBkYXRhU2l6ZSA9IHBhcnNlSW50KGRhdGFTdHJMZW4gLSBkYXRhU3RyTGVuIC8gOCAqIDIpOwogICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgIGltZy5zcmMgPSBkYXRhOwoKICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgaW1hZ2VTaXplID0gKDAsIF91dGlscy5jYWxjSW1hZ2VTaXplKShpbWcud2lkdGgsIGltZy5oZWlnaHQsIHBhcnNlSW50KF90aGlzMi5jb250YWluZXIud2lkdGggLyA0KSwgcGFyc2VJbnQoX3RoaXMyLmNvbnRhaW5lci5oZWlnaHQgLyA0KSk7CgogICAgICAgIF90aGlzMi5hZGRJbWFnZSh7CiAgICAgICAgICBhY3RpdmU6IHRydWUsCiAgICAgICAgICBzcmM6IGRhdGEsCiAgICAgICAgICBzaXplOiBkYXRhU2l6ZSwKICAgICAgICAgIHdpZHRoOiBpbWFnZVNpemUud2lkdGgsCiAgICAgICAgICBoZWlnaHQ6IGltYWdlU2l6ZS5oZWlnaHQKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCiAgICAvLyDmm7TmlrDlvZPliY3pgInkuK3nmoTlhYPntKAKICAgIHVwZGF0ZUFjdGl2ZUVsZTogZnVuY3Rpb24gdXBkYXRlQWN0aXZlRWxlKGVsZW1lbnQpIHsKICAgICAgdGhpcy5hY3RpdmVFbGUgPSBlbGVtZW50OwogICAgfSwKICAgIC8vIOWIoOmZpOWbvueJh+S4iuW9k+WJjemAieaLqeeahOWFg+e0oAogICAgZGVsZXRlQWN0aXZlRWxlOiBmdW5jdGlvbiBkZWxldGVBY3RpdmVFbGUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIG5ld0VsZW1lbnRzID0gdGhpcy5lbGVtZW50cy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS50YWcgIT09IF90aGlzMy5hY3RpdmVFbGUudGFnOwogICAgICB9KTsKICAgICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzMy5lbGVtZW50cyA9IG5ld0VsZW1lbnRzOwogICAgICB9KTsKICAgICAgdGhpcy51cGRhdGVBY3RpdmVFbGUoe30pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["ImageSynthesizer.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"image-synthesizer\">\n    <Hints>\n      <template slot=\"hintName\">图片合成</template>\n      <template slot=\"hintInfo\">\n        <p>基于VueDRR拖拽功能，在其上通过叠加图片、文字等，实现图片的叠加伪合成功能</p>\n        <p>VueDRR：基于vue-draggable-resizable的vue组件，可以实现拖动、拉伸和旋转功能</p>\n      </template>\n    </Hints>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"16\">\n        <el-card shadow=\"always\">\n          <div slot=\"header\" class=\"title\">合成区域</div>\n          <div class=\"box-wrapper\">\n            <div class=\"drag-container\" :style=\"containerStyle\">\n              <ElementDrr\n                v-for=\"(item, index) in elements\"\n                :key=\"index\"\n                :element=\"item\"\n                :handles=\"dragHandles(item.type)\"\n                :style=\"elementZIndex(item.type)\"\n                @updateActiveEle=\"updateActiveEle\"\n              >\n                <!-- 图片 -->\n                <img v-if=\"item.type==='image'\" :src=\"item.src\" draggable=\"false\">\n                <!-- 文字 -->\n                <ImageRichText v-if=\"item.type === 'text'\" v-model=\"item.text\" :element=\"item\" :active-ele-text=\"activeEleText\" />\n              </ElementDrr>\n            </div>\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"8\">\n        <el-card shadow=\"always\">\n          <div slot=\"header\" class=\"title\">设置区域</div>\n          <div class=\"box-content\">\n            <el-form class=\"form-wrapper\" label-width=\"70px\">\n              <el-form-item label=\"选择底图\">\n                <UploadImage btn-name=\"选择底图\" @on-success=\"handleSuccess\" />\n              </el-form-item>\n              <el-form-item label=\"添加文本\">\n                <el-button @click=\"addText\">添加文本</el-button>\n              </el-form-item>\n              <el-form-item label=\"添加图片\">\n                <UploadImage @on-success=\"handleAddImage\" />\n              </el-form-item>\n              <el-form-item label=\"删除元素\">\n                <el-button type=\"danger\" @click=\"deleteActiveEle\">删除元素</el-button>\n              </el-form-item>\n            </el-form>\n            <TextSetting v-if=\"activeEle.type === 'text'\" :active-ele-text=\"activeEleText\" />\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport Hints from '../../components/Hints'\nimport ElementDrr from '../../components/ElementDrr'\nimport ImageRichText from '../../components/ImageRichText'\nimport TextSetting from '../../components/TextSetting'\nimport UploadImage from '../../components/UploadImage'\nimport { calcImageSize } from '../../utils'\n\nexport default {\n  name: 'ImageSynthesizer',\n  components: { Hints, ElementDrr, ImageRichText, TextSetting, UploadImage },\n  data() {\n    return {\n      container: { // 展示区（可拖拽区）样式\n        width: 0,\n        height: 0,\n        bgImageSrc: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img01.jpg' // 底图路径\n      },\n      elements: [], // 叠加组件数组\n      activeEle: {}, // 当前图片上聚焦的叠加组件\n      eleNum: 0\n    }\n  },\n  computed: {\n    // 展示区（可拖拽区）样式\n    containerStyle() {\n      return {\n        width: this.container.width + 'px',\n        height: this.container.height + 'px',\n        backgroundImage: 'url(\\'' + this.container.bgImageSrc + '\\')'\n      }\n    },\n    // 选择的文本\n    activeEleText() {\n      if (this.activeEle.type === 'text') {\n        return this.activeEle\n      }\n    }\n  },\n  created() {\n    this.getDragContainerSize(1920, 1200)\n    this.addText()\n    this.addImage({\n      active: false,\n      src: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img05.jpeg',\n      size: 53248,\n      width: 132,\n      height: 132\n    })\n  },\n  methods: {\n    // 拖动元素把柄\n    dragHandles(type) {\n      if (type === 'text') {\n        return ['e', 'w']\n      }\n    },\n    // 元素层级排序\n    elementZIndex(type) {\n      let zIndex = 1\n      switch (type) {\n        case 'text':\n          zIndex = 3\n          break\n        case 'image':\n          zIndex = 2\n          break\n      }\n      return {\n        zIndex: zIndex\n      }\n    },\n    // 底图上传成功\n    handleSuccess(data) {\n      this.container.bgImageSrc = data\n      const image = new Image()\n      image.src = data\n      image.onload = () => {\n        this.getDragContainerSize(image.width, image.height)\n      }\n    },\n    // 计算底图展示宽高\n    getDragContainerSize(imageW, imageH) {\n      const [showAreaW, showAreaH] = [850, 550]\n      const sizeObj = calcImageSize(imageW, imageH, showAreaW, showAreaH)\n      // 更新图片展示区宽高\n      this.container.width = sizeObj.width\n      this.container.height = sizeObj.height\n    },\n    // 添加文本\n    addText() {\n      const tagNum = ++this.eleNum\n      const text = {\n        active: true,\n        text: '请输入文本',\n        type: 'text',\n        tag: 'text_' + tagNum,\n        x: 300,\n        y: 100,\n        w: 180,\n        h: 36,\n        style: {\n          textAlign: 'left',\n          lineHeight: '24px',\n          fontSize: '24px',\n          fontFamily: '微软黑体',\n          fontWeight: 400,\n          color: '#f70707',\n          backgroundColor: '#05f8e8',\n          overflow: 'hidden'\n        }\n      }\n      if (this.elements.length > 4) {\n        this.$message.warning('图片上最多叠加5个元素！')\n      } else {\n        this.elements.push(text)\n        this.updateActiveEle(text)\n      }\n    },\n    // 添加图片\n    addImage(imgObj) {\n      const tagNum = ++this.eleNum\n      const image = {\n        active: imgObj.active,\n        type: 'image',\n        tag: 'image_' + tagNum,\n        x: 320,\n        y: 300,\n        w: parseInt(imgObj.width),\n        h: parseInt(imgObj.height),\n        src: imgObj.src,\n        size: imgObj.size\n      }\n      if (this.elements.length > 4) {\n        this.$message.warning('图片上最多叠加5个元素！')\n      } else {\n        this.elements.push(image)\n        if (imgObj.active) {\n          this.updateActiveEle(image)\n        }\n      }\n    },\n    // 上传图片成功\n    handleAddImage(data) {\n      const dataStrLen = data.replace('data:image/jpeg;base64,', '').length\n      const dataSize = parseInt(dataStrLen - (dataStrLen / 8) * 2)\n      const img = new Image()\n      img.src = data\n      img.onload = () => {\n        const imageSize = calcImageSize(img.width, img.height, parseInt(this.container.width / 4), parseInt(this.container.height / 4))\n        this.addImage({\n          active: true,\n          src: data,\n          size: dataSize,\n          width: imageSize.width,\n          height: imageSize.height\n        })\n      }\n    },\n    // 更新当前选中的元素\n    updateActiveEle(element) {\n      this.activeEle = element\n    },\n    // 删除图片上当前选择的元素\n    deleteActiveEle() {\n      const newElements = this.elements.filter(item => {\n        return item.tag !== this.activeEle.tag\n      })\n      this.$nextTick(() => {\n        this.elements = newElements\n      })\n      this.updateActiveEle({})\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.image-synthesizer {\n  .box-wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 550px;\n    overflow: hidden;\n    .drag-container {\n      position: relative;\n      background-size: contain;\n      background-position: center;\n      background-repeat: no-repeat;\n      .z-drr-container {\n        border: 1px dashed transparent;\n        &.z-active {\n          border: 1px dashed #2e95ff;\n        }\n      }\n    }\n  }\n  .box-content {\n    height: 550px;\n    overflow: hidden;\n    .form-wrapper {\n      width: 300px;\n      margin: 15px auto 0;\n    }\n    .el-button {\n      width: 210px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views/image"}]}