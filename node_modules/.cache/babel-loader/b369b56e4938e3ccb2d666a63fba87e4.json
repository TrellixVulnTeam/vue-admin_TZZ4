{"remainingRequest":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/image/ImageCompress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/image/ImageCompress.vue","mtime":1624500048824},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9Eb2N1bWVudHMvaXdvcmsva2Fmby92dWUtYWRtaW4tZGVzaWduL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xNC42QEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0IikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyIpOwoKdmFyIF9IaW50cyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi4vLi4vY29tcG9uZW50cy9IaW50cyIpKTsKCnZhciBfVXBsb2FkSW1hZ2UgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvVXBsb2FkSW1hZ2UiKSk7Cgp2YXIgX3V0aWxzID0gcmVxdWlyZSgiLi4vLi4vdXRpbHMiKTsKCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBxdWFsaXR5T3B0aW9ucyA9IFt7CiAgbGFiZWw6IDEwMCwKICB2YWx1ZTogMQp9LCB7CiAgbGFiZWw6IDkwLAogIHZhbHVlOiAwLjkKfSwgewogIGxhYmVsOiA4MCwKICB2YWx1ZTogMC44Cn0sIHsKICBsYWJlbDogNzAsCiAgdmFsdWU6IDAuNwp9LCB7CiAgbGFiZWw6IDYwLAogIHZhbHVlOiAwLjYKfSwgewogIGxhYmVsOiA1MCwKICB2YWx1ZTogMC41Cn1dOwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ0ltYWdlQ29tcHJlc3MnLAogIGNvbXBvbmVudHM6IHsKICAgIEhpbnRzOiBfSGludHMuZGVmYXVsdCwKICAgIFVwbG9hZEltYWdlOiBfVXBsb2FkSW1hZ2UuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8vIOWbvueJh+WvueixoQogICAgICBpbWFnZTogewogICAgICAgIHdpZHRoOiAxOTIwLAogICAgICAgIGhlaWdodDogMTA4MCwKICAgICAgICBzcmM6ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYmFpbWluZ3h1YW4vbWVkaWEtc3RvcmUvaW1hZ2VzL2ltZzAzLmpwZycKICAgICAgfSwKICAgICAgLy8g5Zu+54mH5pi+56S65a+56LGhCiAgICAgIGltYWdlU2hvdzogewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICBpbWdTcmM6ICcnCiAgICAgIH0sCiAgICAgIC8vIOWbvueJh+WOi+e8qeeahOWAvOWvueixoQogICAgICBpbWFnZU9iajogewogICAgICAgIHdpZHRoOiAwLAogICAgICAgIGhlaWdodDogMCwKICAgICAgICByYXRpbzogMTAwICsgJyUnLAogICAgICAgIHF1YWxpdHk6IDEKICAgICAgfSwKICAgICAgcXVhbGl0eU9wdGlvbnM6IHF1YWxpdHlPcHRpb25zCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC8vIOWbvueJh+aYvuekuuWMuuagt+W8jwogICAgaW1hZ2VTdHlsZTogZnVuY3Rpb24gaW1hZ2VTdHlsZSgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB3aWR0aDogdGhpcy5pbWFnZVNob3cud2lkdGggKyAncHgnLAogICAgICAgIGhlaWdodDogdGhpcy5pbWFnZVNob3cuaGVpZ2h0ICsgJ3B4JywKICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCcnICsgdGhpcy5pbWFnZVNob3cuaW1nU3JjICsgJ1wnKScKICAgICAgfTsKICAgIH0sCiAgICAvLyDlm77niYflrr3pq5jmr5TnjocKICAgIGltYWdlUmF0aW86IGZ1bmN0aW9uIGltYWdlUmF0aW8oKSB7CiAgICAgIHJldHVybiB0aGlzLmltYWdlLndpZHRoIC8gdGhpcy5pbWFnZS5oZWlnaHQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaW1hZ2U6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLmdldERyYWdDb250YWluZXJTaXplKHZhbC53aWR0aCwgdmFsLmhlaWdodCk7CiAgICAgICAgdGhpcy5pbWFnZVNob3cuaW1nU3JjID0gdmFsLnNyYzsKICAgICAgICB0aGlzLmltYWdlT2JqLndpZHRoID0gdmFsLndpZHRoOwogICAgICAgIHRoaXMuaW1hZ2VPYmouaGVpZ2h0ID0gdmFsLmhlaWdodDsKICAgICAgICB0aGlzLmltYWdlT2JqLnJhdGlvID0gMTAwICsgJyUnOwogICAgICAgIHRoaXMuaW1hZ2VPYmoucXVhbGl0eSA9IDE7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERyYWdDb250YWluZXJTaXplKHRoaXMuaW1hZ2Uud2lkdGgsIHRoaXMuaW1hZ2UuaGVpZ2h0KTsKICAgIHRoaXMuaW1hZ2VTaG93LmltZ1NyYyA9IHRoaXMuaW1hZ2Uuc3JjOwogICAgdGhpcy5pbWFnZU9iai53aWR0aCA9IHRoaXMuaW1hZ2Uud2lkdGg7CiAgICB0aGlzLmltYWdlT2JqLmhlaWdodCA9IHRoaXMuaW1hZ2UuaGVpZ2h0OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g6L6T5YWl5a696auY5YWz6IGUCiAgICBiaW5kSW5wdXQ6IGZ1bmN0aW9uIGJpbmRJbnB1dCh0eXBlKSB7CiAgICAgIGlmICh0eXBlID09PSAnaCcpIHsKICAgICAgICB0aGlzLmltYWdlT2JqLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5pbWFnZU9iai53aWR0aCAvIHRoaXMuaW1hZ2VSYXRpbykudG9GaXhlZCgwKTsKICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAndycpIHsKICAgICAgICB0aGlzLmltYWdlT2JqLndpZHRoID0gTWF0aC5yb3VuZCh0aGlzLmltYWdlT2JqLmhlaWdodCAqIHRoaXMuaW1hZ2VSYXRpbykudG9GaXhlZCgwKTsKICAgICAgfQoKICAgICAgdGhpcy5pbWFnZU9iai5yYXRpbyA9ICh0aGlzLmltYWdlT2JqLndpZHRoIC8gdGhpcy5pbWFnZS53aWR0aCAqIDEwMCkudG9GaXhlZCgyKSArICclJzsKICAgIH0sCiAgICAvLyDorqHnrpflm77niYfmmL7npLrlrr3pq5gKICAgIGdldERyYWdDb250YWluZXJTaXplOiBmdW5jdGlvbiBnZXREcmFnQ29udGFpbmVyU2l6ZShpbWFnZVcsIGltYWdlSCkgewogICAgICB2YXIgc2hvd0FyZWFXID0gODUwLAogICAgICAgICAgc2hvd0FyZWFIID0gNTUwOwogICAgICB2YXIgc2l6ZU9iaiA9ICgwLCBfdXRpbHMuY2FsY0ltYWdlU2l6ZSkoaW1hZ2VXLCBpbWFnZUgsIHNob3dBcmVhVywgc2hvd0FyZWFIKTsgLy8g5pu05paw5Zu+54mH5bGV56S65Yy65a696auYCgogICAgICB0aGlzLmltYWdlU2hvdy53aWR0aCA9IHNpemVPYmoud2lkdGg7CiAgICAgIHRoaXMuaW1hZ2VTaG93LmhlaWdodCA9IHNpemVPYmouaGVpZ2h0OwogICAgfSwKICAgIGhhbmRsZVN1Y2Nlc3M6IGZ1bmN0aW9uIGhhbmRsZVN1Y2Nlc3MoZGF0YSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5pbWFnZS5zcmMgPSBkYXRhOwogICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTsKICAgICAgaW1hZ2Uuc3JjID0gZGF0YTsKCiAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5pbWFnZS53aWR0aCA9IGltYWdlLndpZHRoOwogICAgICAgIF90aGlzLmltYWdlLmhlaWdodCA9IGltYWdlLmhlaWdodDsKICAgICAgfTsKICAgIH0sCiAgICAvLyDlm77niYfljovnvKkKICAgIGNvbXByZXNzSW1hZ2U6IGZ1bmN0aW9uIGNvbXByZXNzSW1hZ2UoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHdpZHRoID0gdGhpcy5pbWFnZU9iai53aWR0aDsKICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaW1hZ2VPYmouaGVpZ2h0OwogICAgICB2YXIgcXVhbGl0eSA9IHRoaXMuaW1hZ2VPYmoucXVhbGl0eTsKICAgICAgdmFyIGltZyA9IG5ldyBJbWFnZSgpOwogICAgICBpbWcuc3JjID0gdGhpcy5pbWFnZS5zcmM7CgogICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIC8vIOWIm+W7umNhbnZhcwogICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTsKICAgICAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7IC8vIOWIm+W7uuWxnuaAp+iKgueCuQoKICAgICAgICB2YXIgYW53ID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCd3aWR0aCcpOwogICAgICAgIGFudy5ub2RlVmFsdWUgPSB3aWR0aDsKICAgICAgICB2YXIgYW5oID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCdoZWlnaHQnKTsKICAgICAgICBhbmgubm9kZVZhbHVlID0gaGVpZ2h0OwogICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGVOb2RlKGFudyk7CiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW5oKTsgLy8g57uY5Yi25Zu+54mHCgogICAgICAgIGN0eC5maWxsUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTsKICAgICAgICBjdHguZHJhd0ltYWdlKGltZywgMCwgMCwgd2lkdGgsIGhlaWdodCk7IC8vIOeUn+aIkGJhc2U2NOWbvueJhwoKICAgICAgICB2YXIgaW1hZ2VCYXNlNjQgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnLCBxdWFsaXR5KTsKCiAgICAgICAgX3RoaXMyLmRvd25sb2FkSW1hZ2UoaW1hZ2VCYXNlNjQpOwogICAgICB9OwogICAgfSwKICAgIC8vIOS4i+i9veWOi+e8qeeahOWbvueJhwogICAgZG93bmxvYWRJbWFnZTogZnVuY3Rpb24gZG93bmxvYWRJbWFnZShpbWFnZUJhc2U2NCkgewogICAgICB2YXIgaW1hZ2VCbG9iID0gKDAsIF91dGlscy5iYXNlNjR0b0Jsb2IpKGltYWdlQmFzZTY0KTsKICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIHZhciBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdIVE1MRXZlbnRzJyk7IC8vIGluaXRFdmVudCDkuI3liqDlkI7kuKTkuKrlj4LmlbDkvJrlnKjngavni5DkuIvmiqXplJkg5LqL5Lu257G75Z6L77yM5piv5ZCm5YaS5rOh77yM5piv5ZCm6Zi75q2i5rWP6KeI5Zmo55qE6buY6K6k6KGM5Li6CgogICAgICBldmVudC5pbml0RXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSk7CiAgICAgIGxpbmsuZG93bmxvYWQgPSAnaW1hZ2UucG5nJzsKICAgICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChpbWFnZUJsb2IpOyAvLyDlhbzlrrnngavni5AKCiAgICAgIGxpbmsuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnY2xpY2snLCB7CiAgICAgICAgYnViYmxlczogdHJ1ZSwKICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLAogICAgICAgIHZpZXc6IHdpbmRvdwogICAgICB9KSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["ImageCompress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"image-compress\">\n    <Hints>\n      <template slot=\"hintName\">图片压缩</template>\n      <template slot=\"hintInfo\">\n        <p>纯JS实现对图片的等比压缩和放大的功能，并对图片进行下载</p>\n      </template>\n    </Hints>\n    <el-row :gutter=\"20\">\n      <el-col :span=\"16\">\n        <el-card shadow=\"always\">\n          <div slot=\"header\" class=\"title\">图片区域</div>\n          <div class=\"box-wrapper\">\n            <div class=\"image-container\" :style=\"imageStyle\" />\n          </div>\n        </el-card>\n      </el-col>\n      <el-col :span=\"8\">\n        <el-card shadow=\"always\">\n          <div slot=\"header\" class=\"title\">设置区域</div>\n          <div class=\"box-content\">\n            <el-form label-width=\"82px\" label-position=\"left\">\n              <el-form-item label=\"选择图片：\">\n                <UploadImage class=\"select-image\" btn-name=\"选择图片\" @on-success=\"handleSuccess\" />\n              </el-form-item>\n              <el-form-item label=\"图片尺寸：\">\n                <div class=\"ratio-size\">\n                  <el-input v-model.number=\"imageObj.width\" @keyup.native=\"bindInput('h')\" />\n                  <i class=\"vue-dsn-icon-edit-img-size-locking icon-link\" />\n                  <el-input v-model.number=\"imageObj.height\" @keyup.native=\"bindInput('w')\" />\n                  <ul class=\"ratio-type clearfix\">\n                    <li>宽</li>\n                    <li>高</li>\n                  </ul>\n                </div>\n              </el-form-item>\n              <el-form-item label=\"压缩比例：\" class=\"item-ratio\">\n                <el-input v-model.number=\"imageObj.ratio\" disabled />\n              </el-form-item>\n              <el-form-item label=\"图片质量：\">\n                <el-select v-model=\"imageObj.quality\" placeholder=\"请选择\">\n                  <el-option\n                    v-for=\"item in qualityOptions\"\n                    :key=\"item.value\"\n                    :label=\"item.label\"\n                    :value=\"item.value\"\n                  />\n                </el-select>\n              </el-form-item>\n              <div>\n                <el-button class=\"btn-compress\" type=\"primary\" @click=\"compressImage\">压缩图片</el-button>\n              </div>\n            </el-form>\n          </div>\n        </el-card>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport Hints from '../../components/Hints'\nimport UploadImage from '../../components/UploadImage'\nimport { base64toBlob, calcImageSize } from '../../utils'\nconst qualityOptions = [\n  { label: 100, value: 1 },\n  { label: 90, value: 0.9 },\n  { label: 80, value: 0.8 },\n  { label: 70, value: 0.7 },\n  { label: 60, value: 0.6 },\n  { label: 50, value: 0.5 }\n]\n\nexport default {\n  name: 'ImageCompress',\n  components: { Hints, UploadImage },\n  data() {\n    return {\n      // 图片对象\n      image: {\n        width: 1920,\n        height: 1080,\n        src: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img03.jpg'\n      },\n      // 图片显示对象\n      imageShow: {\n        width: 0,\n        height: 0,\n        imgSrc: ''\n      },\n      // 图片压缩的值对象\n      imageObj: {\n        width: 0,\n        height: 0,\n        ratio: 100 + '%',\n        quality: 1\n      },\n      qualityOptions\n    }\n  },\n  computed: {\n    // 图片显示区样式\n    imageStyle() {\n      return {\n        width: this.imageShow.width + 'px',\n        height: this.imageShow.height + 'px',\n        backgroundImage: 'url(\\'' + this.imageShow.imgSrc + '\\')'\n      }\n    },\n    // 图片宽高比率\n    imageRatio() {\n      return this.image.width / this.image.height\n    }\n  },\n  watch: {\n    image: {\n      handler(val) {\n        this.getDragContainerSize(val.width, val.height)\n        this.imageShow.imgSrc = val.src\n        this.imageObj.width = val.width\n        this.imageObj.height = val.height\n        this.imageObj.ratio = 100 + '%'\n        this.imageObj.quality = 1\n      },\n      deep: true\n    }\n  },\n  created() {\n    this.getDragContainerSize(this.image.width, this.image.height)\n    this.imageShow.imgSrc = this.image.src\n    this.imageObj.width = this.image.width\n    this.imageObj.height = this.image.height\n  },\n  methods: {\n    // 输入宽高关联\n    bindInput(type) {\n      if (type === 'h') {\n        this.imageObj.height = Math.round(this.imageObj.width / this.imageRatio).toFixed(0)\n      } else if (type === 'w') {\n        this.imageObj.width = Math.round(this.imageObj.height * this.imageRatio).toFixed(0)\n      }\n      this.imageObj.ratio = (this.imageObj.width / this.image.width * 100).toFixed(2) + '%'\n    },\n    // 计算图片显示宽高\n    getDragContainerSize(imageW, imageH) {\n      const [showAreaW, showAreaH] = [850, 550]\n      const sizeObj = calcImageSize(imageW, imageH, showAreaW, showAreaH)\n      // 更新图片展示区宽高\n      this.imageShow.width = sizeObj.width\n      this.imageShow.height = sizeObj.height\n    },\n    handleSuccess(data) {\n      this.image.src = data\n      const image = new Image()\n      image.src = data\n      image.onload = () => {\n        this.image.width = image.width\n        this.image.height = image.height\n      }\n    },\n    // 图片压缩\n    compressImage() {\n      const width = this.imageObj.width\n      const height = this.imageObj.height\n      const quality = this.imageObj.quality\n      const img = new Image()\n      img.src = this.image.src\n      img.onload = () => {\n        // 创建canvas\n        const canvas = document.createElement('canvas')\n        const ctx = canvas.getContext('2d')\n        // 创建属性节点\n        const anw = document.createAttribute('width')\n        anw.nodeValue = width\n        const anh = document.createAttribute('height')\n        anh.nodeValue = height\n        canvas.setAttributeNode(anw)\n        canvas.setAttributeNode(anh)\n        // 绘制图片\n        ctx.fillRect(0, 0, width, height)\n        ctx.drawImage(img, 0, 0, width, height)\n        // 生成base64图片\n        const imageBase64 = canvas.toDataURL('image/png', quality)\n        this.downloadImage(imageBase64)\n      }\n    },\n    // 下载压缩的图片\n    downloadImage(imageBase64) {\n      const imageBlob = base64toBlob(imageBase64)\n      const link = document.createElement('a')\n      const event = document.createEvent('HTMLEvents')\n      // initEvent 不加后两个参数会在火狐下报错 事件类型，是否冒泡，是否阻止浏览器的默认行为\n      event.initEvent('click', true, true)\n      link.download = 'image.png'\n      link.href = URL.createObjectURL(imageBlob)\n      // 兼容火狐\n      link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }))\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/less/image-compress\";\n</style>\n"],"sourceRoot":"src/views/image"}]}