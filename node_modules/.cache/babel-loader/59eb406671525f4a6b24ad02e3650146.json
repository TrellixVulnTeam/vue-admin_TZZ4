{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-manage/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-manage/src/api/services/admin.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-manage/src/api/services/admin.js","mtime":1629976944105},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLW1hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIik7CgpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKCnJlcXVpcmUoInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSIpOwoKdmFyIF9hc3luY1RvR2VuZXJhdG9yMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL2hvbWUvbWVuZ3kvZGV2ZWxvcC9pd29yay9rYWZvL3Z1ZS1tYW5hZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciIpKTsKCnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLW1hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLW1hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyIpKTsKCnZhciBfY29va2llID0gcmVxdWlyZSgiQC91dGlscy9jb29raWUiKTsKCnZhciBfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gX2RlZmF1bHQoZGVwcykgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgX2RlZmF1bHQpOwogICAgdGhpcy5wcm90byA9IGRlcHMucHJvdG87CiAgICB0aGlzLmNsaWVudCA9IG5ldyBkZXBzLnByb3RvLkNtc0NsaWVudCgiaHR0cDovL2xvY2FsaG9zdDoxMDAwMCIsIG51bGwsIG51bGwpOwogIH0KICAvKioKICAgKiDmn6Xor6LlkI7lj7DnrqHnkIbluJDlj7cKICAgKiBAcGFyYW0gY2FsbGJhY2sKICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0KICAgKi8KCgogICgwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKF9kZWZhdWx0LCBbewogICAga2V5OiAiZ2V0QWRtaW5MaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0QWRtaW5MaXN0ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIGVtcHR5UmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBlbXB0eVJlcSA9IG5ldyB0aGlzLnByb3RvLkVtcHR5KCk7CiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgJ3Rva2VuJzogKDAsIF9jb29raWUuZ2V0VG9rZW4pKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5nZXRBZG1pbkxpc3QoZW1wdHlSZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRBZG1pbkxpc3QoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZ2V0QWRtaW5MaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRBZG1pbkxpc3Q7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzYXZlQWRtaW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zYXZlQWRtaW4gPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIGFkbWluLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgYWRtaW4gPSBuZXcgdGhpcy5wcm90by5BZG1pbigpOwogICAgICAgICAgICAgICAgYWRtaW4uc2V0RW5hYmxlKHRydWUpOwogICAgICAgICAgICAgICAgYWRtaW4uc2V0SWQocGFyYW0uaWQpOwogICAgICAgICAgICAgICAgYWRtaW4uc2V0RW1haWwocGFyYW0uZW1haWwpOwogICAgICAgICAgICAgICAgYWRtaW4uc2V0UGFzc3dvcmQocGFyYW0ucGFzc3dvcmQpOwogICAgICAgICAgICAgICAgYWRtaW4uc2V0TmFtZShwYXJhbS5uYW1lKTsKICAgICAgICAgICAgICAgIGFkbWluLnNldEFyZWFJZHNMaXN0KHBhcmFtLmFyZWEpOwogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuc2F2ZUFkbWluKGFkbWluLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgICAgICAgICAgICAhZXJyID8gY2FsbGJhY2sodHJ1ZSkgOiBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gc2F2ZUFkbWluKF94MywgX3g0KSB7CiAgICAgICAgcmV0dXJuIF9zYXZlQWRtaW4uYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHNhdmVBZG1pbjsKICAgIH0oKQogIH1dKTsKICByZXR1cm4gX2RlZmF1bHQ7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-manage/src/api/services/admin.js"],"names":["deps","proto","client","CmsClient","param","callback","emptyReq","Empty","metadata","getAdminList","err","resp","console","log","admin","Admin","setEnable","setId","id","setEmail","email","setPassword","password","setName","name","setAreaIdsList","area","saveAdmin"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;AAGI,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyB,wBAAzB,EAAmD,IAAnD,EAAyD,IAAzD,CAAd;AACH;AAGD;;;;;;;;;;iHAKoBC,K,EAAOC,Q;;;;;;AACjBC,gBAAAA,Q,GAAW,IAAI,KAAKL,KAAL,CAAWM,KAAf,E;AACXC,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKN,MAAL,CAAYO,YAAZ,CAAyBH,QAAzB,EAAmCE,QAAnC,EAA6C,UAACE,GAAD,EAAMC,IAAN,EAAe;AACxD,sBAAI,CAACD,GAAL,EAAU;AACNL,oBAAAA,QAAQ,CAACM,IAAD,CAAR;AACH,mBAFD,MAEO;AACHC,oBAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;AACJ,iBAND;;;;;;;;;;;;;;;;;;;+GASaN,K,EAAOC,Q;;;;;;AACdS,gBAAAA,K,GAAQ,IAAI,KAAKb,KAAL,CAAWc,KAAf,E;AACdD,gBAAAA,KAAK,CAACE,SAAN,CAAgB,IAAhB;AACAF,gBAAAA,KAAK,CAACG,KAAN,CAAYb,KAAK,CAACc,EAAlB;AACAJ,gBAAAA,KAAK,CAACK,QAAN,CAAef,KAAK,CAACgB,KAArB;AACAN,gBAAAA,KAAK,CAACO,WAAN,CAAkBjB,KAAK,CAACkB,QAAxB;AACAR,gBAAAA,KAAK,CAACS,OAAN,CAAcnB,KAAK,CAACoB,IAApB;AACAV,gBAAAA,KAAK,CAACW,cAAN,CAAqBrB,KAAK,CAACsB,IAA3B;AAEMlB,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKN,MAAL,CAAYyB,SAAZ,CAAsBb,KAAtB,EAA6BN,QAA7B,EAAuC,UAACE,GAAD,EAAMC,IAAN,EAAe;AAClD,mBAACD,GAAD,GAAOL,QAAQ,CAAC,IAAD,CAAf,GAAwBA,QAAQ,CAAC,KAAD,CAAhC;AACH,iBAFD","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(\"http://localhost:10000\", null, null)\n    }\n\n\n    /**\n     * 查询后台管理帐号\n     * @param callback\n     * @returns {Promise<void>}\n     */\n    async getAdminList (param, callback) {\n        const emptyReq = new this.proto.Empty();\n        const metadata = {'token': getToken()};\n        this.client.getAdminList(emptyReq, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                console.log(err)\n            }\n        })\n    }\n\n    async saveAdmin (param, callback) {\n        const admin = new this.proto.Admin();\n        admin.setEnable(true)\n        admin.setId(param.id)\n        admin.setEmail(param.email)\n        admin.setPassword(param.password)\n        admin.setName(param.name)\n        admin.setAreaIdsList(param.area)\n\n        const metadata = {'token': getToken()};\n        this.client.saveAdmin(admin, metadata, (err, resp) => {\n            !err ? callback(true) : callback(false)\n        })\n    }\n\n\n}\n"]}]}