{"remainingRequest":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/form-table/TableInlineEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/form-table/TableInlineEdit.vue","mtime":1624500048824},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9Eb2N1bWVudHMvaXdvcmsva2Fmby92dWUtYWRtaW4tZGVzaWduL25vZGVfbW9kdWxlcy9fQGJhYmVsX3J1bnRpbWVANy4xNC42QEBiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0IikuZGVmYXVsdDsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwoKdmFyIF9hcGkgPSByZXF1aXJlKCIuLi8uLi9hcGkiKTsKCnZhciBfSGludHMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uLy4uL2NvbXBvbmVudHMvSGludHMiKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ1RhYmxlSW5saW5lRWRpdCcsCiAgY29tcG9uZW50czogewogICAgSGludHM6IF9IaW50cy5kZWZhdWx0CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdExvYWRpbmc6IHRydWUsCiAgICAgIHRhYmxlTGlzdDogW10sCiAgICAgIGxpc3RRdWVyeTogewogICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgIHBhZ2VTaXplOiAxMAogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZmV0Y2hEYXRhKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5bmlbDmja7liJfooagKICAgIGZldGNoRGF0YTogZnVuY3Rpb24gZmV0Y2hEYXRhKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5saXN0TG9hZGluZyA9IHRydWU7IC8vIOiOt+WPluaVsOaNruWIl+ihqOaOpeWPowoKICAgICAgKDAsIF9hcGkuZ2V0VGFibGVMaXN0KSh0aGlzLmxpc3RRdWVyeSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgdmFyIGRhdGEgPSByZXMuZGF0YTsKCiAgICAgICAgaWYgKGRhdGEuY29kZSA9PT0gMCkgewogICAgICAgICAgX3RoaXMudGFibGVMaXN0ID0gZGF0YS5kYXRhLmxpc3QubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIF90aGlzLiRzZXQoaXRlbSwgJ2VkaXRhYmxlJywgZmFsc2UpOwoKICAgICAgICAgICAgaXRlbS5vcmlnaW5hbEhvYmJ5ID0gaXRlbS5ob2JieTsKICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLnRhYmxlTGlzdCk7CiAgICAgICAgICBfdGhpcy5saXN0TG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmxpc3RMb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbEVkaXQ6IGZ1bmN0aW9uIGNhbmNlbEVkaXQocm93KSB7CiAgICAgIHJvdy5ob2JieSA9IHJvdy5vcmlnaW5hbEhvYmJ5OwogICAgICByb3cuZWRpdGFibGUgPSBmYWxzZTsKICAgIH0sCiAgICBjb25maXJtRWRpdDogZnVuY3Rpb24gY29uZmlybUVkaXQocm93KSB7CiAgICAgIHJvdy5lZGl0YWJsZSA9IGZhbHNlOwogICAgICByb3cub3JpZ2luYWxIb2JieSA9IHJvdy5ob2JieTsgLy8g5q2k5aSE5re75YqgIOWQjuerr+S/neWtmOaVsOaNruaOpeWPowogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["TableInlineEdit.vue"],"names":[],"mappings":";;;;;;;;;;;AAsCA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,KAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,WAAA,EAAA,IADA;AAEA,MAAA,SAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA;AACA,QAAA,WAAA,EAAA,CADA;AAEA,QAAA,QAAA,EAAA;AAFA;AAHA,KAAA;AAQA,GAZA;AAaA,EAAA,OAbA,qBAaA;AACA,SAAA,SAAA;AACA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,SAFA,uBAEA;AAAA;;AACA,WAAA,WAAA,GAAA,IAAA,CADA,CAEA;;AACA,6BAAA,KAAA,SAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,IAAA,GAAA,GAAA,CAAA,IAAA;;AACA,YAAA,IAAA,CAAA,IAAA,KAAA,CAAA,EAAA;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA;AACA,YAAA,KAAA,CAAA,IAAA,CAAA,IAAA,EAAA,UAAA,EAAA,KAAA;;AACA,YAAA,IAAA,CAAA,aAAA,GAAA,IAAA,CAAA,KAAA;AACA,mBAAA,IAAA;AACA,WAJA,CAAA;AAKA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,SAAA;AACA,UAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA;AACA,OAXA,EAWA,KAXA,CAWA,YAAA;AACA,QAAA,KAAA,CAAA,WAAA,GAAA,KAAA;AACA,OAbA;AAcA,KAnBA;AAoBA,IAAA,UApBA,sBAoBA,GApBA,EAoBA;AACA,MAAA,GAAA,CAAA,KAAA,GAAA,GAAA,CAAA,aAAA;AACA,MAAA,GAAA,CAAA,QAAA,GAAA,KAAA;AACA,KAvBA;AAwBA,IAAA,WAxBA,uBAwBA,GAxBA,EAwBA;AACA,MAAA,GAAA,CAAA,QAAA,GAAA,KAAA;AACA,MAAA,GAAA,CAAA,aAAA,GAAA,GAAA,CAAA,KAAA,CAFA,CAGA;AACA;AA5BA;AAhBA,C","sourcesContent":["<template>\r\n  <div class=\"table-inline-edit\">\r\n    <Hints>\r\n      <template slot=\"hintName\">Table表格组件(行内编辑)</template>\r\n      <template slot=\"hintInfo\">\r\n        <p>element-Table：使用elementUI的Table组件，可用于展示多条结构类似的数据，并对其进行行内编辑操作</p>\r\n        <p>地址：访问 <el-link type=\"success\" href=\"https://element.eleme.cn/2.13/TableClassic.vue#/zh-CN/component/table\" target=\"_blank\">element-Table</el-link></p>\r\n      </template>\r\n    </Hints>\r\n    <el-card shadow=\"always\">\r\n      <el-table v-loading=\"listLoading\" :data=\"tableList\" tooltip-effect=\"dark\" style=\"width: 100%\" size=\"medium\">\r\n        <el-table-column prop=\"id\" label=\"编号\" align=\"center\" width=\"120\" />\r\n        <el-table-column prop=\"name\" label=\"姓名\" align=\"center\" />\r\n        <el-table-column label=\"性别\" align=\"center\">\r\n          <template slot-scope=\"{row}\">{{ row.sex }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"爱好\" align=\"center\" min-width=\"300px\">\r\n          <template slot-scope=\"{row}\">\r\n            <template v-if=\"row.editable\">\r\n              <el-input v-model=\"row.hobby\" style=\"width: 300px;\" />\r\n              <el-button class=\"cancel-btn\" type=\"warning\" @click=\"cancelEdit(row)\">取消</el-button>\r\n            </template>\r\n            <span v-else>{{ row.hobby }}</span>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column prop=\"education\" label=\"学历\" align=\"center\" />\r\n        <el-table-column align=\"center\" label=\"操作\" width=\"200\">\r\n          <template slot-scope=\"{row}\">\r\n            <el-button v-if=\"row.editable\" type=\"success\" size=\"small\" @click=\"confirmEdit(row)\">保存</el-button>\r\n            <el-button v-else type=\"primary\" size=\"small\" @click=\"row.editable = !row.editable\">编辑</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getTableList } from '../../api'\r\nimport Hints from '../../components/Hints'\r\n\r\nexport default {\r\n  name: 'TableInlineEdit',\r\n  components: { Hints },\r\n  data() {\r\n    return {\r\n      listLoading: true,\r\n      tableList: [],\r\n      listQuery: {\r\n        currentPage: 1,\r\n        pageSize: 10\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.fetchData()\r\n  },\r\n  methods: {\r\n    // 获取数据列表\r\n    fetchData() {\r\n      this.listLoading = true\r\n      // 获取数据列表接口\r\n      getTableList(this.listQuery).then(res => {\r\n        const data = res.data\r\n        if (data.code === 0) {\r\n          this.tableList = data.data.list.map(item => {\r\n            this.$set(item, 'editable', false)\r\n            item.originalHobby = item.hobby\r\n            return item\r\n          })\r\n          console.log(this.tableList)\r\n          this.listLoading = false\r\n        }\r\n      }).catch(() => {\r\n        this.listLoading = false\r\n      })\r\n    },\r\n    cancelEdit(row) {\r\n      row.hobby = row.originalHobby\r\n      row.editable = false\r\n    },\r\n    confirmEdit(row) {\r\n      row.editable = false\r\n      row.originalHobby = row.hobby\r\n      // 此处添加 后端保存数据接口\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.table-inline-edit {\r\n  .el-table thead {\r\n    font-weight: 600;\r\n    th {\r\n      padding: 16px 0 15px!important;\r\n      background-color: #f2f3f7;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/form-table"}]}