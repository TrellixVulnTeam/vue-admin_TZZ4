{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/admin.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/admin.js","mtime":1630138195702},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IiKSk7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL2hvbWUvbWVuZ3kvZGV2ZWxvcC9pd29yay9rYWZvL3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCJAL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9kZWZhdWx0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBfZGVmYXVsdChkZXBzKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBfZGVmYXVsdCk7CiAgICB0aGlzLnByb3RvID0gZGVwcy5wcm90bzsKICAgIHRoaXMuY2xpZW50ID0gbmV3IGRlcHMucHJvdG8uQ21zQ2xpZW50KCJodHRwOi8vbG9jYWxob3N0OjEwMDAwIiwgbnVsbCwgbnVsbCk7CiAgfQogIC8qKgogICAqIOafpeivouWQjuWPsOeuoeeQhuW4kOWPtwogICAqIEBwYXJhbSBjYWxsYmFjawogICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fQogICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoX2RlZmF1bHQsIFt7CiAgICBrZXk6ICJnZXRBZG1pbkxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRBZG1pbkxpc3QgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgZW1wdHlSZXEsIG1ldGFkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGVtcHR5UmVxID0gbmV3IHRoaXMucHJvdG8uRW1wdHkoKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmdldEFkbWluTGlzdChlbXB0eVJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEFkbWluTGlzdChfeCwgX3gyKSB7CiAgICAgICAgcmV0dXJuIF9nZXRBZG1pbkxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEFkbWluTGlzdDsKICAgIH0oKQogIH0sIHsKICAgIGtleTogInNhdmVBZG1pbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NhdmVBZG1pbiA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgYWRtaW4sIG1ldGFkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBhZG1pbiA9IG5ldyB0aGlzLnByb3RvLkFkbWluKCk7CiAgICAgICAgICAgICAgICBhZG1pbi5zZXRFbmFibGUodHJ1ZSk7CiAgICAgICAgICAgICAgICBhZG1pbi5zZXRJZChwYXJhbS5pZCk7CiAgICAgICAgICAgICAgICBhZG1pbi5zZXRFbWFpbChwYXJhbS5lbWFpbCk7CiAgICAgICAgICAgICAgICBhZG1pbi5zZXRQYXNzd29yZChwYXJhbS5wYXNzd29yZCk7CiAgICAgICAgICAgICAgICBhZG1pbi5zZXROYW1lKHBhcmFtLm5hbWUpOwogICAgICAgICAgICAgICAgYWRtaW4uc2V0QXJlYUlkc0xpc3QocGFyYW0uYXJlYSk7CiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgJ3Rva2VuJzogKDAsIF9jb29raWUuZ2V0VG9rZW4pKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5zYXZlQWRtaW4oYWRtaW4sIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgICFlcnIgPyBjYWxsYmFjayh0cnVlKSA6IGNhbGxiYWNrKGZhbHNlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzYXZlQWRtaW4oX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX3NhdmVBZG1pbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2F2ZUFkbWluOwogICAgfSgpCiAgfV0pOwogIHJldHVybiBfZGVmYXVsdDsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/admin.js"],"names":["deps","proto","client","CmsClient","param","callback","emptyReq","Empty","metadata","getAdminList","err","resp","console","log","admin","Admin","setEnable","setId","id","setEmail","email","setPassword","password","setName","name","setAreaIdsList","area","saveAdmin"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;;AAGI,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyB,wBAAzB,EAAmD,IAAnD,EAAyD,IAAzD,CAAd;AACH;AAGD;;;;;;;;;;iHAKoBC,K,EAAOC,Q;;;;;;AACjBC,gBAAAA,Q,GAAW,IAAI,KAAKL,KAAL,CAAWM,KAAf,E;AACXC,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKN,MAAL,CAAYO,YAAZ,CAAyBH,QAAzB,EAAmCE,QAAnC,EAA6C,UAACE,GAAD,EAAMC,IAAN,EAAe;AACxD,sBAAI,CAACD,GAAL,EAAU;AACNL,oBAAAA,QAAQ,CAACM,IAAD,CAAR;AACH,mBAFD,MAEO;AACHC,oBAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;AACJ,iBAND;;;;;;;;;;;;;;;;;;;+GASaN,K,EAAOC,Q;;;;;;AACdS,gBAAAA,K,GAAQ,IAAI,KAAKb,KAAL,CAAWc,KAAf,E;AACdD,gBAAAA,KAAK,CAACE,SAAN,CAAgB,IAAhB;AACAF,gBAAAA,KAAK,CAACG,KAAN,CAAYb,KAAK,CAACc,EAAlB;AACAJ,gBAAAA,KAAK,CAACK,QAAN,CAAef,KAAK,CAACgB,KAArB;AACAN,gBAAAA,KAAK,CAACO,WAAN,CAAkBjB,KAAK,CAACkB,QAAxB;AACAR,gBAAAA,KAAK,CAACS,OAAN,CAAcnB,KAAK,CAACoB,IAApB;AACAV,gBAAAA,KAAK,CAACW,cAAN,CAAqBrB,KAAK,CAACsB,IAA3B;AAEMlB,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKN,MAAL,CAAYyB,SAAZ,CAAsBb,KAAtB,EAA6BN,QAA7B,EAAuC,UAACE,GAAD,EAAMC,IAAN,EAAe;AAClD,mBAACD,GAAD,GAAOL,QAAQ,CAAC,IAAD,CAAf,GAAwBA,QAAQ,CAAC,KAAD,CAAhC;AACH,iBAFD","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(\"http://localhost:10000\", null, null)\n    }\n\n\n    /**\n     * 查询后台管理帐号\n     * @param callback\n     * @returns {Promise<void>}\n     */\n    async getAdminList (param, callback) {\n        const emptyReq = new this.proto.Empty();\n        const metadata = {'token': getToken()};\n        this.client.getAdminList(emptyReq, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                console.log(err)\n            }\n        })\n    }\n\n    async saveAdmin (param, callback) {\n        const admin = new this.proto.Admin();\n        admin.setEnable(true)\n        admin.setId(param.id)\n        admin.setEmail(param.email)\n        admin.setPassword(param.password)\n        admin.setName(param.name)\n        admin.setAreaIdsList(param.area)\n\n        const metadata = {'token': getToken()};\n        this.client.saveAdmin(admin, metadata, (err, resp) => {\n            !err ? callback(true) : callback(false)\n        })\n    }\n\n\n}\n"]}]}