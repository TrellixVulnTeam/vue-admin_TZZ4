{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/util.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/util.js","mtime":1630296671827},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL2hvbWUvbWVuZ3kvZGV2ZWxvcC9pd29yay9rYWZvL3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCJAL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9lcnJvciA9IHJlcXVpcmUoIkAvdXRpbHMvZXJyb3IiKTsKCnZhciBfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gX2RlZmF1bHQoZGVwcykgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgX2RlZmF1bHQpOwogICAgdGhpcy5wcm90byA9IGRlcHMucHJvdG87CiAgICB0aGlzLmNsaWVudCA9IG5ldyBkZXBzLnByb3RvLkNtc0NsaWVudCgiaHR0cDovL2xvY2FsaG9zdDoxMDAwMCIsIG51bGwsIG51bGwpOwogIH0KICAvKioKICAgKiDojrflj5bov5DokKXljLrln5/liJfooajvvIzkuI3liIbpobUKICAgKiBAcmV0dXJucyB7KltdfQogICAqLwoKCiAgKDAsIF9jcmVhdGVDbGFzczIuZGVmYXVsdCkoX2RlZmF1bHQsIFt7CiAgICBrZXk6ICJnZXRBcmVhcyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QXJlYXMoKSB7CiAgICAgIHZhciBlbXB0eSA9IHRoaXMucHJvdG8uRW1wdHkoKTsKICAgICAgdmFyIG1ldGFkYXRhID0gewogICAgICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgICAgIH07CiAgICAgIHZhciBkYXRhID0gW107CiAgICAgIHRoaXMuY2xpZW50LmdldEFyZWFMaXN0KGVtcHR5LCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICB2YXIgbGlzdCA9IHJlc3AuZ2V0QXJlYXNMaXN0KCk7CiAgICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICAgIHZhciBqc29uID0gewogICAgICAgICAgICAgIHZhbHVlOiBpdGVtLmdldElkKCksCiAgICAgICAgICAgICAgbGFiZWw6IGl0ZW0uZ2V0VGl0bGUoKQogICAgICAgICAgICB9OwogICAgICAgICAgICBkYXRhLnB1c2goanNvbik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gZGF0YTsKICAgIH0KICB9XSk7CiAgcmV0dXJuIF9kZWZhdWx0Owp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/util.js"],"names":["deps","proto","client","CmsClient","empty","Empty","metadata","data","getAreaList","err","resp","list","getAreasList","forEach","item","index","json","value","getId","label","getTitle","push","console","log"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;;AAII,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyB,wBAAzB,EAAmD,IAAnD,EAAyD,IAAzD,CAAd;AACH;AAGD;;;;;;;;+BAIY;AACR,UAAMC,KAAK,GAAG,KAAKH,KAAL,CAAWI,KAAX,EAAd;AACA,UAAMC,QAAQ,GAAG;AAAC,iBAAS;AAAV,OAAjB;AACA,UAAMC,IAAI,GAAG,EAAb;AACA,WAAKL,MAAL,CAAYM,WAAZ,CAAwBJ,KAAxB,EAA+BE,QAA/B,EAAyC,UAACG,GAAD,EAAMC,IAAN,EAAe;AACpD,YAAI,CAACD,GAAL,EAAU;AACN,cAAME,IAAI,GAAGD,IAAI,CAACE,YAAL,EAAb;AACAD,UAAAA,IAAI,CAACE,OAAL,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAe;AACxB,gBAAMC,IAAI,GAAG;AACTC,cAAAA,KAAK,EAAGH,IAAI,CAACI,KAAL,EADC;AAETC,cAAAA,KAAK,EAAGL,IAAI,CAACM,QAAL;AAFC,aAAb;AAIAb,YAAAA,IAAI,CAACc,IAAL,CAAUL,IAAV;AACH,WAND;AAOH,SATD,MASO;AACHM,UAAAA,OAAO,CAACC,GAAR,CAAYd,GAAZ;AACH;AACJ,OAbD;AAcA,aAAOF,IAAP;AACH","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport { error } from '@/utils/error'\n\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(\"http://localhost:10000\", null, null)\n    }\n\n\n    /**\n     * 获取运营区域列表，不分页\n     * @returns {*[]}\n     */\n    getAreas () {\n        const empty = this.proto.Empty();\n        const metadata = {'token': getToken()};\n        const data = []\n        this.client.getAreaList(empty, metadata, (err, resp) => {\n            if (!err) {\n                const list = resp.getAreasList()\n                list.forEach((item, index)=>{\n                    const json = {\n                        value : item.getId(),\n                        label : item.getTitle(),\n                    }\n                    data.push(json)\n                })\n            } else {\n                console.log(err)\n            }\n        })\n        return data\n    }\n\n}\n"]}]}