{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-manage/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-manage/src/boot/index.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-manage/src/boot/index.js","mtime":1629456778823},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLW1hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIik7CgpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCJAL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9jb25zdGFudHMgPSByZXF1aXJlKCJAL2NvbnN0YW50cyIpOwoKdmFyIF9jbXNfcGIgPSByZXF1aXJlKCIuLi9wcm90by9qcy9jbXNfcGIiKTsKCnZhciBfY21zX2dycGNfd2ViX3BiID0gcmVxdWlyZSgiQC9wcm90by9qcy9jbXNfZ3JwY193ZWJfcGIiKTsKCnZhciBfdnVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWUiKSk7CgovL2ltcG9ydCBidXMgZnJvbSAnLi4vbGlicy9idXMnCnZhciBnZXRNZXRhZGF0YSA9IGZ1bmN0aW9uIGdldE1ldGFkYXRhKCkgewogIHJldHVybiB7CiAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogIH07Cn07Cgp2YXIgZGVwcyA9IHsKICBldmVudHM6IF9jb25zdGFudHMuZXZlbnRzLAogIGdldE1ldGFkYXRhOiBnZXRNZXRhZGF0YSwKICBwcm90bzogewogICAgQXJlYUxpc3RSZXBseTogX2Ntc19wYi5BcmVhTGlzdFJlcGx5LAogICAgTG9naW5SZXF1ZXN0OiBfY21zX3BiLkxvZ2luUmVxdWVzdCwKICAgIEFkbWluTGlzdFJlcGx5OiBfY21zX3BiLkFkbWluTGlzdFJlcGx5LAogICAgR3VpbGRMaXN0UmVwbHk6IF9jbXNfcGIuR3VpbGRMaXN0UmVwbHksCiAgICBBcHBMaXN0UmVwbHk6IF9jbXNfcGIuQXBwTGlzdFJlcGx5LAogICAgQW5jaG9yTGlzdFJlcXVlc3Q6IF9jbXNfcGIuQW5jaG9yTGlzdFJlcXVlc3QsCiAgICBVc2VyTGlzdFJlcXVlc3Q6IF9jbXNfcGIuVXNlckxpc3RSZXF1ZXN0LAogICAgVXNlckxpc3RSZXBseTogX2Ntc19wYi5Vc2VyTGlzdFJlcGx5LAogICAgQWRtaW5GaWxlQ2h1bms6IF9jbXNfcGIuQWRtaW5GaWxlQ2h1bmssCiAgICBDbXNDbGllbnQ6IF9jbXNfZ3JwY193ZWJfcGIuQ21zU2RrQ2xpZW50CiAgfQp9OwoKdmFyIHJlcXVpcmVGaWxlID0gcmVxdWlyZS5jb250ZXh0KCcuLi9zZXJ2aWNlcycsIGZhbHNlLCAvW1x3LV0rXC5qcyQvKTsKCnZhciBpbml0U2VydmljZSA9IGZ1bmN0aW9uIGluaXRTZXJ2aWNlKCkgewogIHZhciBzZXJ2aWNlcyA9IHt9OwogIHJlcXVpcmVGaWxlLmtleXMoKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlTmFtZSkgewogICAgYWxlcnQoZmlsZU5hbWUpOwogICAgdmFyIGNvbmZpZyA9IHJlcXVpcmVGaWxlKGZpbGVOYW1lKTsKICAgIHZhciBuYW1lID0gZmlsZU5hbWUucmVwbGFjZSgvXlwuXC8vLCAnJykucmVwbGFjZSgvXlwuXC9fLywgJycpLnJlcGxhY2UoL1wuXHcrJC8sICcnKTsKICAgIHZhciBTZXJ2aWNlID0gY29uZmlnLmRlZmF1bHQgfHwgY29uZmlnOwogICAgc2VydmljZXNbbmFtZV0gPSBuZXcgU2VydmljZShkZXBzKTsKICB9KTsKICBhbGVydChzZXJ2aWNlcyk7CiAgX3Z1ZS5kZWZhdWx0LnByb3RvdHlwZS4kc2VydmljZSA9IHNlcnZpY2VzOwp9OwoKaW5pdFNlcnZpY2UoKTsKdmFyIF9kZWZhdWx0ID0gaW5pdFNlcnZpY2U7CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-manage/src/boot/index.js"],"names":["getMetadata","deps","events","proto","AreaListReply","LoginRequest","AdminListReply","GuildListReply","AppListReply","AnchorListRequest","UserListRequest","UserListReply","AdminFileChunk","CmsClient","CmsSdkClient","requireFile","require","context","initService","services","keys","forEach","fileName","alert","config","name","replace","Service","default","Vue","prototype","$service"],"mappings":";;;;;;;;;;;;;;;;;;;;;AACA;;AACA;;AACA;;AAIA;;AA+BA;;AAtCA;AASA,IAAMA,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,SAAO;AACL,aAAS;AADJ,GAAP;AAGD,CAJD;;AAMA,IAAMC,IAAI,GAAG;AACXC,EAAAA,MAAM,EAANA,iBADW;AAEXF,EAAAA,WAAW,EAAXA,WAFW;AAGXG,EAAAA,KAAK,EAAE;AACHC,IAAAA,aAAa,EAAbA,qBADG;AAEHC,IAAAA,YAAY,EAAZA,oBAFG;AAGHC,IAAAA,cAAc,EAAdA,sBAHG;AAIHC,IAAAA,cAAc,EAAdA,sBAJG;AAKHC,IAAAA,YAAY,EAAZA,oBALG;AAMHC,IAAAA,iBAAiB,EAAjBA,yBANG;AAOHC,IAAAA,eAAe,EAAfA,uBAPG;AAQHC,IAAAA,aAAa,EAAbA,qBARG;AASHC,IAAAA,cAAc,EAAdA,sBATG;AAUHC,IAAAA,SAAS,EAAEC;AAVR;AAHI,CAAb;;AAiBA,IAAMC,WAAW,GAAGC,OAAO,CAACC,OAAR,CAClB,aADkB,EAElB,KAFkB,EAGlB,aAHkB,CAApB;;AAQA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,MAAMC,QAAQ,GAAG,EAAjB;AACAJ,EAAAA,WAAW,CAACK,IAAZ,GAAmBC,OAAnB,CAA2B,UAAAC,QAAQ,EAAI;AACnCC,IAAAA,KAAK,CAACD,QAAD,CAAL;AACA,QAAME,MAAM,GAAGT,WAAW,CAACO,QAAD,CAA1B;AACA,QAAMG,IAAI,GAAGH,QAAQ,CAChBI,OADQ,CACA,OADA,EACS,EADT,EAERA,OAFQ,CAEA,QAFA,EAEU,EAFV,EAGRA,OAHQ,CAGA,QAHA,EAGU,EAHV,CAAb;AAIA,QAAMC,OAAO,GAAGH,MAAM,CAACI,OAAP,IAAkBJ,MAAlC;AACAL,IAAAA,QAAQ,CAACM,IAAD,CAAR,GAAiB,IAAIE,OAAJ,CAAY1B,IAAZ,CAAjB;AACH,GATD;AAUAsB,EAAAA,KAAK,CAACJ,QAAD,CAAL;AACAU,eAAIC,SAAJ,CAAcC,QAAd,GAAyBZ,QAAzB;AACH,CAdD;;AAeAD,WAAW;eACIA,W","sourcesContent":["//import bus from '../libs/bus'\nimport { getToken } from '@/utils/cookie'\nimport { events } from '@/constants'\nimport {\n    AreaListReply, LoginRequest, AdminListReply, GuildListReply, AppListReply, AnchorListRequest, UserListRequest,\n    UserListReply, AdminFileChunk\n} from '../proto/js/cms_pb'\nimport { CmsSdkClient } from '@/proto/js/cms_grpc_web_pb'\n\nconst getMetadata = () => {\n  return {\n    'token': getToken()\n  }\n}\n\nconst deps = {\n  events,\n  getMetadata,\n  proto: {\n      AreaListReply,\n      LoginRequest,\n      AdminListReply,\n      GuildListReply,\n      AppListReply,\n      AnchorListRequest,\n      UserListRequest,\n      UserListReply,\n      AdminFileChunk,\n      CmsClient: CmsSdkClient\n  }\n}\n\nconst requireFile = require.context(\n  '../services',\n  false,\n  /[\\w-]+\\.js$/\n)\n\nimport Vue from 'vue'\n\nconst initService = () => {\n    const services = {}\n    requireFile.keys().forEach(fileName => {\n        alert(fileName)\n        const config = requireFile(fileName)\n        const name = fileName\n            .replace(/^\\.\\//, '')\n            .replace(/^\\.\\/_/, '')\n            .replace(/\\.\\w+$/, '')\n        const Service = config.default || config\n        services[name] = new Service(deps)\n    })\n    alert(services)\n    Vue.prototype.$service = services\n}\ninitService()\nexport default initService\n"]}]}