{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/api.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/api.js","mtime":1630326128288},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvciI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAnQC91dGlscy9jb29raWUnOwppbXBvcnQgeyBldmVudHMgfSBmcm9tICdAL2NvbnN0YW50cyc7CmltcG9ydCB7IEFyZWFMaXN0UmVwbHksIExvZ2luUmVxdWVzdCwgQWRtaW5MaXN0UmVwbHksIEd1aWxkTGlzdFJlcGx5LCBBcHBMaXN0UmVwbHksIEFuY2hvckxpc3RSZXF1ZXN0LCBVc2VyTGlzdFJlcXVlc3QsIFVzZXJMaXN0UmVwbHksIEFkbWluRmlsZUNodW5rLCBBZGp1c3RCYWxhbmNlUmVxdWVzdCwgUHJvZmlsZUxpc3RSZXF1ZXN0LCBWaW9sYXRpb25MaXN0UmVxdWVzdCB9IGZyb20gJy4uL3Byb3RvL2pzL2Ntc19wYic7CmltcG9ydCB7IEVtcHR5LCBFbnRpdHlUeXBlLCBVc2VyLCBBbmNob3JMZXZlbCwgUmV2aWV3U3RhdHVzIH0gZnJvbSAnLi4vcHJvdG8vanMvdXNlcnR5cGVfcGInOwppbXBvcnQgeyBBZG1pbiwgR3VpbGQgfSBmcm9tICcuLi9wcm90by9qcy9jbXN0eXBlX3BiJzsKaW1wb3J0IHsgQ21zU2RrQ2xpZW50IH0gZnJvbSAnQC9wcm90by9qcy9jbXNfZ3JwY193ZWJfcGIuanMnOwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwoKdmFyIGdldE1ldGFkYXRhID0gZnVuY3Rpb24gZ2V0TWV0YWRhdGEoKSB7CiAgcmV0dXJuIHsKICAgICd0b2tlbic6IGdldFRva2VuKCkKICB9Owp9OwoKdmFyIGRlcHMgPSB7CiAgZXZlbnRzOiBldmVudHMsCiAgZ2V0TWV0YWRhdGE6IGdldE1ldGFkYXRhLAogIHByb3RvOiB7CiAgICBBcmVhTGlzdFJlcGx5OiBBcmVhTGlzdFJlcGx5LAogICAgTG9naW5SZXF1ZXN0OiBMb2dpblJlcXVlc3QsCiAgICBBZG1pbkxpc3RSZXBseTogQWRtaW5MaXN0UmVwbHksCiAgICBHdWlsZExpc3RSZXBseTogR3VpbGRMaXN0UmVwbHksCiAgICBBcHBMaXN0UmVwbHk6IEFwcExpc3RSZXBseSwKICAgIEFuY2hvckxpc3RSZXF1ZXN0OiBBbmNob3JMaXN0UmVxdWVzdCwKICAgIFVzZXJMaXN0UmVxdWVzdDogVXNlckxpc3RSZXF1ZXN0LAogICAgVXNlckxpc3RSZXBseTogVXNlckxpc3RSZXBseSwKICAgIEFkbWluRmlsZUNodW5rOiBBZG1pbkZpbGVDaHVuaywKICAgIEFkanVzdEJhbGFuY2VSZXF1ZXN0OiBBZGp1c3RCYWxhbmNlUmVxdWVzdCwKICAgIFByb2ZpbGVMaXN0UmVxdWVzdDogUHJvZmlsZUxpc3RSZXF1ZXN0LAogICAgVmlvbGF0aW9uTGlzdFJlcXVlc3Q6IFZpb2xhdGlvbkxpc3RSZXF1ZXN0LAogICAgRW1wdHk6IEVtcHR5LAogICAgRW50aXR5VHlwZTogRW50aXR5VHlwZSwKICAgIFVzZXI6IFVzZXIsCiAgICBBbmNob3JMZXZlbDogQW5jaG9yTGV2ZWwsCiAgICBSZXZpZXdTdGF0dXM6IFJldmlld1N0YXR1cywKICAgIEFkbWluOiBBZG1pbiwKICAgIEd1aWxkOiBHdWlsZCwKICAgIENtc0NsaWVudDogQ21zU2RrQ2xpZW50CiAgfQp9OwoKdmFyIHJlcXVpcmVGaWxlID0gcmVxdWlyZS5jb250ZXh0KCcuL3NlcnZpY2VzJywgZmFsc2UsIC9bXHctXStcLmpzJC8pOwoKdmFyIGluaXRTZXJ2aWNlID0gZnVuY3Rpb24gaW5pdFNlcnZpY2UoKSB7CiAgdmFyIHNlcnZpY2VzID0ge307CiAgcmVxdWlyZUZpbGUua2V5cygpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVOYW1lKSB7CiAgICB2YXIgY29uZmlnID0gcmVxdWlyZUZpbGUoZmlsZU5hbWUpOwogICAgdmFyIG5hbWUgPSBmaWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICcnKS5yZXBsYWNlKC9eXC5cL18vLCAnJykucmVwbGFjZSgvXC5cdyskLywgJycpOwogICAgdmFyIFNlcnZpY2UgPSBjb25maWcuZGVmYXVsdCB8fCBjb25maWc7CiAgICBzZXJ2aWNlc1tuYW1lXSA9IG5ldyBTZXJ2aWNlKGRlcHMpOwogIH0pOwogIFZ1ZS5wcm90b3R5cGUuJHNlcnZpY2UgPSBzZXJ2aWNlczsKfTsKCmluaXRTZXJ2aWNlKCk7CmV4cG9ydCBkZWZhdWx0IGluaXRTZXJ2aWNlOyAvLyDorr/pl65qc29u5paH5Lu2CgpleHBvcnQgZnVuY3Rpb24gZ2V0VGFibGVMaXN0KHBhcmFtLCB1cmwpIHsKICByZXR1cm4gYXhpb3MoewogICAgdXJsOiB1cmwsCiAgICBtZXRob2Q6ICdnZXQnLAogICAgcGFyYW06IHBhcmFtCiAgfSk7Cn0KCkRhdGUucHJvdG90eXBlLmZvcm1hdCA9IGZ1bmN0aW9uIChmbXQpIHsKICB2YXIgbyA9IHsKICAgICJNKyI6IHRoaXMuZ2V0TW9udGgoKSArIDEsCiAgICAvL+aciOS7vQogICAgImQrIjogdGhpcy5nZXREYXRlKCksCiAgICAvL+aXpQogICAgImgrIjogdGhpcy5nZXRIb3VycygpLAogICAgLy/lsI/ml7YKICAgICJtKyI6IHRoaXMuZ2V0TWludXRlcygpLAogICAgLy/liIYKICAgICJzKyI6IHRoaXMuZ2V0U2Vjb25kcygpLAogICAgLy/np5IKICAgICJxKyI6IE1hdGguZmxvb3IoKHRoaXMuZ2V0TW9udGgoKSArIDMpIC8gMyksCiAgICAvL+Wto+W6pgogICAgIlMiOiB0aGlzLmdldE1pbGxpc2Vjb25kcygpIC8v5q+r56eSCgogIH07CgogIGlmICgvKHkrKS8udGVzdChmbXQpKSB7CiAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsICh0aGlzLmdldEZ1bGxZZWFyKCkgKyAiIikuc3Vic3RyKDQgLSBSZWdFeHAuJDEubGVuZ3RoKSk7CiAgfQoKICBmb3IgKHZhciBrIGluIG8pIHsKICAgIGlmIChuZXcgUmVnRXhwKCIoIiArIGsgKyAiKSIpLnRlc3QoZm10KSkgewogICAgICBmbXQgPSBmbXQucmVwbGFjZShSZWdFeHAuJDEsIFJlZ0V4cC4kMS5sZW5ndGggPT0gMSA/IG9ba10gOiAoIjAwIiArIG9ba10pLnN1YnN0cigoIiIgKyBvW2tdKS5sZW5ndGgpKTsKICAgIH0KICB9CgogIHJldHVybiBmbXQ7Cn07"},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/api.js"],"names":["Vue","getToken","removeToken","events","AreaListReply","LoginRequest","AdminListReply","GuildListReply","AppListReply","AnchorListRequest","UserListRequest","UserListReply","AdminFileChunk","AdjustBalanceRequest","ProfileListRequest","ViolationListRequest","Empty","EntityType","User","AnchorLevel","ReviewStatus","Admin","Guild","CmsSdkClient","axios","getMetadata","deps","proto","CmsClient","requireFile","require","context","initService","services","keys","forEach","fileName","config","name","replace","Service","default","prototype","$service","getTableList","param","url","method","Date","format","fmt","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","getMilliseconds","test","RegExp","$1","getFullYear","substr","length","k"],"mappings":";;;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,SAAQC,QAAR,EAAkBC,WAAlB,QAAoC,gBAApC;AACA,SAASC,MAAT,QAAuB,aAAvB;AACA,SACIC,aADJ,EACmBC,YADnB,EACiCC,cADjC,EACiDC,cADjD,EACiEC,YADjE,EAC+EC,iBAD/E,EACkGC,eADlG,EAEIC,aAFJ,EAEmBC,cAFnB,EAEmCC,oBAFnC,EAEyDC,kBAFzD,EAE6EC,oBAF7E,QAGO,oBAHP;AAIA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,IAA5B,EAAkCC,WAAlC,EAA+CC,YAA/C,QAAmE,yBAAnE;AACA,SAASC,KAAT,EAAgBC,KAAhB,QAA6B,wBAA7B;AACA,SAASC,YAAT,QAA6B,+BAA7B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,SAAO;AACL,aAASxB,QAAQ;AADZ,GAAP;AAGD,CAJD;;AAMA,IAAMyB,IAAI,GAAG;AACXvB,EAAAA,MAAM,EAANA,MADW;AAEXsB,EAAAA,WAAW,EAAXA,WAFW;AAGXE,EAAAA,KAAK,EAAE;AACHvB,IAAAA,aAAa,EAAbA,aADG;AAEHC,IAAAA,YAAY,EAAZA,YAFG;AAGHC,IAAAA,cAAc,EAAdA,cAHG;AAIHC,IAAAA,cAAc,EAAdA,cAJG;AAKHC,IAAAA,YAAY,EAAZA,YALG;AAMHC,IAAAA,iBAAiB,EAAjBA,iBANG;AAOHC,IAAAA,eAAe,EAAfA,eAPG;AAQHC,IAAAA,aAAa,EAAbA,aARG;AASHC,IAAAA,cAAc,EAAdA,cATG;AAUHC,IAAAA,oBAAoB,EAApBA,oBAVG;AAWHC,IAAAA,kBAAkB,EAAlBA,kBAXG;AAYHC,IAAAA,oBAAoB,EAApBA,oBAZG;AAaHC,IAAAA,KAAK,EAALA,KAbG;AAcHC,IAAAA,UAAU,EAAVA,UAdG;AAeHC,IAAAA,IAAI,EAAJA,IAfG;AAgBHC,IAAAA,WAAW,EAAXA,WAhBG;AAiBHC,IAAAA,YAAY,EAAZA,YAjBG;AAkBHC,IAAAA,KAAK,EAALA,KAlBG;AAmBHC,IAAAA,KAAK,EAALA,KAnBG;AAoBHM,IAAAA,SAAS,EAAEL;AApBR;AAHI,CAAb;;AA2BA,IAAMM,WAAW,GAAGC,OAAO,CAACC,OAAR,CAClB,YADkB,EAElB,KAFkB,EAGlB,aAHkB,CAApB;;AAMA,IAAMC,WAAW,GAAG,SAAdA,WAAc,GAAM;AACtB,MAAMC,QAAQ,GAAG,EAAjB;AACAJ,EAAAA,WAAW,CAACK,IAAZ,GAAmBC,OAAnB,CAA2B,UAAAC,QAAQ,EAAI;AACnC,QAAMC,MAAM,GAAGR,WAAW,CAACO,QAAD,CAA1B;AACA,QAAME,IAAI,GAAGF,QAAQ,CAChBG,OADQ,CACA,OADA,EACS,EADT,EAERA,OAFQ,CAEA,QAFA,EAEU,EAFV,EAGRA,OAHQ,CAGA,QAHA,EAGU,EAHV,CAAb;AAIA,QAAMC,OAAO,GAAGH,MAAM,CAACI,OAAP,IAAkBJ,MAAlC;AACAJ,IAAAA,QAAQ,CAACK,IAAD,CAAR,GAAiB,IAAIE,OAAJ,CAAYd,IAAZ,CAAjB;AACH,GARD;AASA1B,EAAAA,GAAG,CAAC0C,SAAJ,CAAcC,QAAd,GAAyBV,QAAzB;AACH,CAZD;;AAaAD,WAAW;AACX,eAAeA,WAAf,C,CAIA;;AACA,OAAO,SAASY,YAAT,CAAsBC,KAAtB,EAA6BC,GAA7B,EAAkC;AACrC,SAAOtB,KAAK,CAAC;AACTsB,IAAAA,GAAG,EAAEA,GADI;AAETC,IAAAA,MAAM,EAAE,KAFC;AAGTF,IAAAA,KAAK,EAALA;AAHS,GAAD,CAAZ;AAKH;;AAGDG,IAAI,CAACN,SAAL,CAAeO,MAAf,GAAwB,UAASC,GAAT,EAAc;AAClC,MAAIC,CAAC,GAAG;AACJ,UAAO,KAAKC,QAAL,KAAgB,CADnB;AACsC;AAC1C,UAAO,KAAKC,OAAL,EAFH;AAEsC;AAC1C,UAAO,KAAKC,QAAL,EAHH;AAGsC;AAC1C,UAAO,KAAKC,UAAL,EAJH;AAIsC;AAC1C,UAAO,KAAKC,UAAL,EALH;AAKsC;AAC1C,UAAOC,IAAI,CAACC,KAAL,CAAW,CAAC,KAAKN,QAAL,KAAgB,CAAjB,IAAoB,CAA/B,CANH;AAMsC;AAC1C,SAAO,KAAKO,eAAL,EAPH,CAOsC;;AAPtC,GAAR;;AASA,MAAG,OAAOC,IAAP,CAAYV,GAAZ,CAAH,EAAqB;AACjBA,IAAAA,GAAG,GAACA,GAAG,CAACX,OAAJ,CAAYsB,MAAM,CAACC,EAAnB,EAAuB,CAAC,KAAKC,WAAL,KAAmB,EAApB,EAAwBC,MAAxB,CAA+B,IAAIH,MAAM,CAACC,EAAP,CAAUG,MAA7C,CAAvB,CAAJ;AACH;;AACD,OAAI,IAAIC,CAAR,IAAaf,CAAb,EAAgB;AACZ,QAAG,IAAIU,MAAJ,CAAW,MAAKK,CAAL,GAAQ,GAAnB,EAAwBN,IAAxB,CAA6BV,GAA7B,CAAH,EAAqC;AACjCA,MAAAA,GAAG,GAAGA,GAAG,CAACX,OAAJ,CAAYsB,MAAM,CAACC,EAAnB,EAAwBD,MAAM,CAACC,EAAP,CAAUG,MAAV,IAAkB,CAAnB,GAAyBd,CAAC,CAACe,CAAD,CAA1B,GAAkC,CAAC,OAAMf,CAAC,CAACe,CAAD,CAAR,EAAaF,MAAb,CAAoB,CAAC,KAAIb,CAAC,CAACe,CAAD,CAAN,EAAWD,MAA/B,CAAzD,CAAN;AACH;AACJ;;AACD,SAAOf,GAAP;AACH,CAnBD","sourcesContent":["import Vue from 'vue'\nimport {getToken, removeToken} from '@/utils/cookie'\nimport { events } from '@/constants'\nimport {\n    AreaListReply, LoginRequest, AdminListReply, GuildListReply, AppListReply, AnchorListRequest, UserListRequest,\n    UserListReply, AdminFileChunk, AdjustBalanceRequest, ProfileListRequest, ViolationListRequest\n} from '../proto/js/cms_pb'\nimport { Empty, EntityType, User, AnchorLevel, ReviewStatus } from '../proto/js/usertype_pb'\nimport { Admin, Guild } from '../proto/js/cmstype_pb'\nimport { CmsSdkClient } from '@/proto/js/cms_grpc_web_pb.js'\nimport axios from \"axios\";\n\nconst getMetadata = () => {\n  return {\n    'token': getToken()\n  }\n}\n\nconst deps = {\n  events,\n  getMetadata,\n  proto: {\n      AreaListReply,\n      LoginRequest,\n      AdminListReply,\n      GuildListReply,\n      AppListReply,\n      AnchorListRequest,\n      UserListRequest,\n      UserListReply,\n      AdminFileChunk,\n      AdjustBalanceRequest,\n      ProfileListRequest,\n      ViolationListRequest,\n      Empty,\n      EntityType,\n      User,\n      AnchorLevel,\n      ReviewStatus,\n      Admin,\n      Guild,\n      CmsClient: CmsSdkClient\n  }\n}\n\nconst requireFile = require.context(\n  './services',\n  false,\n  /[\\w-]+\\.js$/\n)\n\nconst initService = () => {\n    const services = {}\n    requireFile.keys().forEach(fileName => {\n        const config = requireFile(fileName)\n        const name = fileName\n            .replace(/^\\.\\//, '')\n            .replace(/^\\.\\/_/, '')\n            .replace(/\\.\\w+$/, '')\n        const Service = config.default || config\n        services[name] = new Service(deps)\n    })\n    Vue.prototype.$service = services\n}\ninitService()\nexport default initService\n\n\n\n// 访问json文件\nexport function getTableList(param, url) {\n    return axios({\n        url: url,\n        method: 'get',\n        param\n    })\n}\n\n\nDate.prototype.format = function(fmt) {\n    var o = {\n        \"M+\" : this.getMonth()+1,                 //月份\n        \"d+\" : this.getDate(),                    //日\n        \"h+\" : this.getHours(),                   //小时\n        \"m+\" : this.getMinutes(),                 //分\n        \"s+\" : this.getSeconds(),                 //秒\n        \"q+\" : Math.floor((this.getMonth()+3)/3), //季度\n        \"S\"  : this.getMilliseconds()             //毫秒\n    };\n    if(/(y+)/.test(fmt)) {\n        fmt=fmt.replace(RegExp.$1, (this.getFullYear()+\"\").substr(4 - RegExp.$1.length));\n    }\n    for(var k in o) {\n        if(new RegExp(\"(\"+ k +\")\").test(fmt)){\n            fmt = fmt.replace(RegExp.$1, (RegExp.$1.length==1) ? (o[k]) : ((\"00\"+ o[k]).substr((\"\"+ o[k]).length)));\n        }\n    }\n    return fmt;\n}\n"]}]}