{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/guild.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/guild.js","mtime":1630296628684},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IiKSk7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL2hvbWUvbWVuZ3kvZGV2ZWxvcC9pd29yay9rYWZvL3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCJAL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9lcnJvciA9IHJlcXVpcmUoIkAvdXRpbHMvZXJyb3IiKTsKCnZhciBfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gX2RlZmF1bHQoZGVwcykgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgX2RlZmF1bHQpOwogICAgdGhpcy5wcm90byA9IGRlcHMucHJvdG87CiAgICB0aGlzLmNsaWVudCA9IG5ldyBkZXBzLnByb3RvLkNtc0NsaWVudCgiaHR0cDovL2xvY2FsaG9zdDoxMDAwMCIsIG51bGwsIG51bGwpOwogIH0KICAvKioKICAgKiDmn6Xor6Llt6XkvJoKICAgKiBAcGFyYW0gcGFyYW0KICAgKiBAcGFyYW0gY2FsbGJhY2sKICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0KICAgKi8KCgogICgwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKF9kZWZhdWx0LCBbewogICAga2V5OiAiZ2V0R3VpbGRMaXN0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0R3VpbGRMaXN0ID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHJlcSwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxID0gbmV3IHRoaXMucHJvdG8uRW1wdHkoKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmdldEd1aWxkTGlzdChyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgKDAsIF9lcnJvci5lcnJvcikoZXJyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRHdWlsZExpc3QoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZ2V0R3VpbGRMaXN0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBnZXRHdWlsZExpc3Q7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJzYXZlR3VpbGQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zYXZlR3VpbGQgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHJlcSwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcSA9IG5ldyB0aGlzLnByb3RvLkd1aWxkKCk7CiAgICAgICAgICAgICAgICByZXEuc2V0SWQocGFyYW0uaWQpOwogICAgICAgICAgICAgICAgcmVxLnNldEFyZWFJZChwYXJhbS5hcmVhSWQpOwogICAgICAgICAgICAgICAgcmVxLnNldE5hbWUocGFyYW0ubmFtZSk7CiAgICAgICAgICAgICAgICByZXEuc2V0RW5hYmxlKHBhcmFtLmVuYWJsZSk7CiAgICAgICAgICAgICAgICByZXEuc2V0Tm90ZShwYXJhbS5ub3RlKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnNhdmVHdWlsZChyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgICFlcnIgPyBjYWxsYmFjayh0cnVlKSA6IGNhbGxiYWNrKGZhbHNlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzYXZlR3VpbGQoX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX3NhdmVHdWlsZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc2F2ZUd1aWxkOwogICAgfSgpCiAgfV0pOwogIHJldHVybiBfZGVmYXVsdDsKfSgpOwoKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/guild.js"],"names":["deps","proto","client","CmsClient","param","callback","req","Empty","metadata","getGuildList","err","resp","Guild","setId","id","setAreaId","areaId","setName","name","setEnable","enable","setNote","note","saveGuild"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;AAGI,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyB,wBAAzB,EAAmD,IAAnD,EAAyD,IAAzD,CAAd;AACH;AAGD;;;;;;;;;;;iHAMoBC,K,EAAOC,Q;;;;;;AACjBC,gBAAAA,G,GAAM,IAAI,KAAKL,KAAL,CAAWM,KAAf,E;AACNC,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKN,MAAL,CAAYO,YAAZ,CAAyBH,GAAzB,EAA8BE,QAA9B,EAAwC,UAACE,GAAD,EAAMC,IAAN,EAAe;AACnD,sBAAI,CAACD,GAAL,EAAU;AACNL,oBAAAA,QAAQ,CAACM,IAAD,CAAR;AACH,mBAFD,MAEO;AACH,sCAAMD,GAAN;AACH;AACJ,iBAND;;;;;;;;;;;;;;;;;;;+GASaN,K,EAAOC,Q;;;;;;AACdC,gBAAAA,G,GAAM,IAAI,KAAKL,KAAL,CAAWW,KAAf,E;AACZN,gBAAAA,GAAG,CAACO,KAAJ,CAAUT,KAAK,CAACU,EAAhB;AACAR,gBAAAA,GAAG,CAACS,SAAJ,CAAcX,KAAK,CAACY,MAApB;AACAV,gBAAAA,GAAG,CAACW,OAAJ,CAAYb,KAAK,CAACc,IAAlB;AACAZ,gBAAAA,GAAG,CAACa,SAAJ,CAAcf,KAAK,CAACgB,MAApB;AACAd,gBAAAA,GAAG,CAACe,OAAJ,CAAYjB,KAAK,CAACkB,IAAlB;AAEMd,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKN,MAAL,CAAYqB,SAAZ,CAAsBjB,GAAtB,EAA2BE,QAA3B,EAAqC,UAACE,GAAD,EAAMC,IAAN,EAAe;AAChD,mBAACD,GAAD,GAAOL,QAAQ,CAAC,IAAD,CAAf,GAAwBA,QAAQ,CAAC,KAAD,CAAhC;AACH,iBAFD","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport { error } from '@/utils/error'\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(\"http://localhost:10000\", null, null)\n    }\n\n\n    /**\n     * 查询工会\n     * @param param\n     * @param callback\n     * @returns {Promise<void>}\n     */\n    async getGuildList (param, callback) {\n        const req = new this.proto.Empty();\n        const metadata = {'token': getToken()};\n        this.client.getGuildList(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n    async saveGuild (param, callback) {\n        const req = new this.proto.Guild();\n        req.setId(param.id)\n        req.setAreaId(param.areaId)\n        req.setName(param.name)\n        req.setEnable(param.enable)\n        req.setNote(param.note)\n\n        const metadata = {'token': getToken()};\n        this.client.saveGuild(req, metadata, (err, resp) => {\n            !err ? callback(true) : callback(false)\n        })\n    }\n\n\n}\n"]}]}