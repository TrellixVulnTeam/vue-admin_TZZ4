{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-manage/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-manage/src/api/services/common.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-manage/src/api/services/common.js","mtime":1629973747733},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLW1hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mb3ItZWFjaCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9jbGFzc0NhbGxDaGVjazIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIikpOwoKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtbWFuYWdlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCJAL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9jbXNfcGIgPSByZXF1aXJlKCJAL3Byb3RvL2pzL2Ntc19wYiIpOwoKdmFyIF91c2VydHlwZV9wYiA9IHJlcXVpcmUoIkAvcHJvdG8vanMvdXNlcnR5cGVfcGIiKTsKCnZhciBfc2VydmVyID0gcmVxdWlyZSgiQC9ncnBjL3NlcnZlciIpOwoKdmFyIF9kZWZhdWx0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBfZGVmYXVsdChkZXBzKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBfZGVmYXVsdCk7CiAgICB0aGlzLnByb3RvID0gZGVwcy5wcm90bzsKICAgIHRoaXMuY2xpZW50ID0gbmV3IGRlcHMucHJvdG8uQ21zQ2xpZW50KCJodHRwOi8vbG9jYWxob3N0OjEwMDAwIiwgbnVsbCwgbnVsbCk7CiAgfQogIC8qKgogICAqIOiOt+WPlui/kOiQpeWMuuWfn+WIl+ihqO+8jOS4jeWIhumhtQogICAqIEByZXR1cm5zIHsqW119CiAgICovCgoKICAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShfZGVmYXVsdCwgW3sKICAgIGtleTogImdldEFyZWFzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBcmVhcygpIHsKICAgICAgdmFyIGVtcHR5ID0gdGhpcy5wcm90by5FbXB0eSgpOwogICAgICB2YXIgbWV0YWRhdGEgPSB7CiAgICAgICAgJ3Rva2VuJzogKDAsIF9jb29raWUuZ2V0VG9rZW4pKCkKICAgICAgfTsKICAgICAgdmFyIGRhdGEgPSBbXTsKICAgICAgdGhpcy5jbGllbnQuZ2V0QXJlYUxpc3QoZW1wdHksIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgIHZhciBsaXN0ID0gcmVzcC5nZXRBcmVhc0xpc3QoKTsKICAgICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgICAgdmFyIGpzb24gPSB7CiAgICAgICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgICAgICBsYWJlbDogaXRlbS5nZXRUaXRsZSgpCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGRhdGEucHVzaChqc29uKTsKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBkYXRhOwogICAgfQogIH1dKTsKICByZXR1cm4gX2RlZmF1bHQ7Cn0oKTsKCmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-manage/src/api/services/common.js"],"names":["deps","proto","client","CmsClient","empty","Empty","metadata","data","getAreaList","err","resp","list","getAreasList","forEach","item","index","json","value","getId","label","getTitle","push","console","log"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;AAGI,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyB,wBAAzB,EAAmD,IAAnD,EAAyD,IAAzD,CAAd;AACH;AAGD;;;;;;;;+BAIY;AACR,UAAMC,KAAK,GAAG,KAAKH,KAAL,CAAWI,KAAX,EAAd;AACA,UAAMC,QAAQ,GAAG;AAAC,iBAAS;AAAV,OAAjB;AACA,UAAMC,IAAI,GAAG,EAAb;AACA,WAAKL,MAAL,CAAYM,WAAZ,CAAwBJ,KAAxB,EAA+BE,QAA/B,EAAyC,UAACG,GAAD,EAAMC,IAAN,EAAe;AACpD,YAAI,CAACD,GAAL,EAAU;AACN,cAAME,IAAI,GAAGD,IAAI,CAACE,YAAL,EAAb;AACAD,UAAAA,IAAI,CAACE,OAAL,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAe;AACxB,gBAAMC,IAAI,GAAG;AACTC,cAAAA,KAAK,EAAGH,IAAI,CAACI,KAAL,EADC;AAETC,cAAAA,KAAK,EAAGL,IAAI,CAACM,QAAL;AAFC,aAAb;AAIAb,YAAAA,IAAI,CAACc,IAAL,CAAUL,IAAV;AACH,WAND;AAOH,SATD,MASO;AACHM,UAAAA,OAAO,CAACC,GAAR,CAAYd,GAAZ;AACH;AACJ,OAbD;AAcA,aAAOF,IAAP;AACH","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport {LoginRequest} from \"@/proto/js/cms_pb\";\nimport {Empty} from \"@/proto/js/usertype_pb\";\nimport {cmsService} from \"@/grpc/server\";\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(\"http://localhost:10000\", null, null)\n    }\n\n\n    /**\n     * 获取运营区域列表，不分页\n     * @returns {*[]}\n     */\n    getAreas () {\n        const empty = this.proto.Empty();\n        const metadata = {'token': getToken()};\n        const data = []\n        this.client.getAreaList(empty, metadata, (err, resp) => {\n            if (!err) {\n                const list = resp.getAreasList()\n                list.forEach((item, index)=>{\n                    const json = {\n                        value : item.getId(),\n                        label : item.getTitle(),\n                    }\n                    data.push(json)\n                })\n            } else {\n                console.log(err)\n            }\n        })\n        return data\n    }\n\n}\n"]}]}