{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/request.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/request.js","mtime":1626074843843},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9heGlvcyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiYXhpb3MiKSk7Cgp2YXIgX2VsZW1lbnRVaSA9IHJlcXVpcmUoImVsZW1lbnQtdWkiKTsKCnZhciBfY29va2llID0gcmVxdWlyZSgiLi91dGlscy9jb29raWUiKTsKCi8vIOWIm+W7umF4aW9z5a6e5L6LCnZhciBzZXJ2aWNlID0gX2F4aW9zLmRlZmF1bHQuY3JlYXRlKHsKICBiYXNlVVJMOiBwcm9jZXNzLmVudi5WVUVfQVBQX0JBU0VfQVBJLAogIC8vIGFwaSDnmoQgYmFzZV91cmwKICB0aW1lb3V0OiAxMjAwMDAgLy8g6K+35rGC6LaF5pe25pe26Ze0Cgp9KTsgLy8gcmVxdWVzdOaLpuaIquWZqOiuvue9rgoKCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKGZ1bmN0aW9uIChjb25maWcpIHsKICBpZiAoKDAsIF9jb29raWUuZ2V0VG9rZW4pKCkpIHsKICAgIGNvbmZpZy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyICcgKyAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKTsgLy8g6K+35rGC5aS06K6+572u6Ieq5bimIHRva2VuCiAgfQoKICBjb25maWcuaGVhZGVyc1snQ29udGVudC1UeXBlJ10gPSAnYXBwbGljYXRpb24vanNvbic7IC8vIOivt+axgueahOaVsOaNruagvOW8j+S4uiBqc29uCgogIHJldHVybiBjb25maWc7Cn0sIGZ1bmN0aW9uIChlcnJvcikgewogIGNvbnNvbGUubG9nKGVycm9yKTsKICBQcm9taXNlLnJlamVjdChlcnJvcik7Cn0pOyAvLyByZXNwb25zZSDmi6bmiKrlmajorr7nva4KCnNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShmdW5jdGlvbiAocmVzcG9uc2UpIHsKICB2YXIgZGF0YSA9IHJlc3BvbnNlLmRhdGE7CiAgdmFyIGNvZGUgPSBkYXRhLmNvZGU7CiAgdmFyIG1lc3NhZ2UgPSBkYXRhLm1zZzsKCiAgaWYgKGNvZGUgPT09IDApIHsKICAgIHJldHVybiBkYXRhLmRhdGE7CiAgfSBlbHNlIHsKICAgICgwLCBfZWxlbWVudFVpLk1lc3NhZ2UpKHsKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgbWVzc2FnZTogbWVzc2FnZQogICAgfSk7CiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ2Vycm9yJyk7CiAgfQp9LCBmdW5jdGlvbiAoZXJyb3IpIHsKICB2YXIgY29kZSA9IGVycm9yLnJlc3BvbnNlLmRhdGEuc3RhdHVzOwoKICBpZiAoIWNvZGUpIHsKICAgICgwLCBfZWxlbWVudFVpLk1lc3NhZ2UpKHsKICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgbWVzc2FnZTogJ+aOpeWPo+ivt+axguWksei0pScKICAgIH0pOwogIH0KCiAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTsKfSk7CnZhciBfZGVmYXVsdCA9IHNlcnZpY2U7CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/request.js"],"names":["service","axois","create","baseURL","process","env","VUE_APP_BASE_API","timeout","interceptors","request","use","config","headers","error","console","log","Promise","reject","response","data","code","message","msg","type","status"],"mappings":";;;;;;;;;;;AAAA;;AACA;;AACA;;AAEA;AACA,IAAMA,OAAO,GAAGC,eAAMC,MAAN,CAAa;AACzBC,EAAAA,OAAO,EAAEC,OAAO,CAACC,GAAR,CAAYC,gBADI;AACc;AACvCC,EAAAA,OAAO,EAAE,MAFgB,CAET;;AAFS,CAAb,CAAhB,C,CAKA;;;AACAP,OAAO,CAACQ,YAAR,CAAqBC,OAArB,CAA6BC,GAA7B,CACI,UAAAC,MAAM,EAAI;AACN,MAAI,uBAAJ,EAAgB;AACZA,IAAAA,MAAM,CAACC,OAAP,CAAe,eAAf,IAAkC,YAAY,uBAA9C,CADY,CAC6C;AAC5D;;AACDD,EAAAA,MAAM,CAACC,OAAP,CAAe,cAAf,IAAiC,kBAAjC,CAJM,CAI8C;;AACpD,SAAOD,MAAP;AACH,CAPL,EAQI,UAAAE,KAAK,EAAI;AACLC,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAG,EAAAA,OAAO,CAACC,MAAR,CAAeJ,KAAf;AACH,CAXL,E,CAcA;;AACAb,OAAO,CAACQ,YAAR,CAAqBU,QAArB,CAA8BR,GAA9B,CACI,UAAAQ,QAAQ,EAAI;AACR,MAAMC,IAAI,GAAGD,QAAQ,CAACC,IAAtB;AACA,MAAMC,IAAI,GAAGD,IAAI,CAACC,IAAlB;AACA,MAAMC,OAAO,GAAGF,IAAI,CAACG,GAArB;;AACA,MAAIF,IAAI,KAAK,CAAb,EAAgB;AACZ,WAAOD,IAAI,CAACA,IAAZ;AACH,GAFD,MAEO;AACH,4BAAQ;AACJI,MAAAA,IAAI,EAAE,OADF;AAEJF,MAAAA,OAAO,EAAPA;AAFI,KAAR;AAIA,WAAOL,OAAO,CAACC,MAAR,CAAe,OAAf,CAAP;AACH;AACJ,CAdL,EAeI,UAAAJ,KAAK,EAAI;AACL,MAAMO,IAAI,GAAGP,KAAK,CAACK,QAAN,CAAeC,IAAf,CAAoBK,MAAjC;;AACA,MAAI,CAACJ,IAAL,EAAW;AACP,4BAAQ;AACJG,MAAAA,IAAI,EAAE,OADF;AAEJF,MAAAA,OAAO,EAAE;AAFL,KAAR;AAIH;;AACD,SAAOL,OAAO,CAACC,MAAR,CAAeJ,KAAf,CAAP;AACH,CAxBL;eA2Beb,O","sourcesContent":["import axois from 'axios'\nimport {Message} from 'element-ui'\nimport {getToken} from './utils/cookie'\n\n// 创建axios实例\nconst service = axois.create({\n    baseURL: process.env.VUE_APP_BASE_API, // api 的 base_url\n    timeout: 120000 // 请求超时时间\n})\n\n// request拦截器设置\nservice.interceptors.request.use(\n    config => {\n        if (getToken()) {\n            config.headers['Authorization'] = 'Bearer ' + getToken() // 请求头设置自带 token\n        }\n        config.headers['Content-Type'] = 'application/json' // 请求的数据格式为 json\n        return config\n    },\n    error => {\n        console.log(error)\n        Promise.reject(error)\n    }\n)\n\n// response 拦截器设置\nservice.interceptors.response.use(\n    response => {\n        const data = response.data\n        const code = data.code\n        const message = data.msg\n        if (code === 0) {\n            return data.data\n        } else {\n            Message({\n                type: 'error',\n                message\n            })\n            return Promise.reject('error')\n        }\n    },\n    error => {\n        const code = error.response.data.status\n        if (!code) {\n            Message({\n                type: 'error',\n                message: '接口请求失败'\n            })\n        }\n        return Promise.reject(error)\n    }\n)\n\nexport default service\n"]}]}