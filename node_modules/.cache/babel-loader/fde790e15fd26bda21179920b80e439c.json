{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/proto/js/cms_pb.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/proto/js/cms_pb.js","mtime":1631342363316},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gc291cmNlOiBjbXMucHJvdG8KCi8qKgogKiBAZmlsZW92ZXJ2aWV3CiAqIEBlbmhhbmNlYWJsZQogKiBAc3VwcHJlc3Mge21pc3NpbmdSZXF1aXJlfSByZXBvcnRzIGVycm9yIG9uIGltcGxpY2l0IHR5cGUgdXNhZ2VzLgogKiBAc3VwcHJlc3Mge21lc3NhZ2VDb252ZW50aW9uc30gSlMgQ29tcGlsZXIgcmVwb3J0cyBhbiBlcnJvciBpZiBhIHZhcmlhYmxlIG9yCiAqICAgICBmaWVsZCBzdGFydHMgd2l0aCAnTVNHXycgYW5kIGlzbid0IGEgdHJhbnNsYXRhYmxlIG1lc3NhZ2UuCiAqIEBwdWJsaWMKICovCi8vIEdFTkVSQVRFRCBDT0RFIC0tIERPIE5PVCBFRElUIQoKLyogZXNsaW50LWRpc2FibGUgKi8KLy8gQHRzLW5vY2hlY2sKdmFyIGpzcGIgPSByZXF1aXJlKCdnb29nbGUtcHJvdG9idWYnKTsKCnZhciBnb29nID0ganNwYjsKdmFyIGdsb2JhbCA9IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7Cgp2YXIgdXNlcnR5cGVfcGIgPSByZXF1aXJlKCcuL3VzZXJ0eXBlX3BiLmpzJyk7Cgpnb29nLm9iamVjdC5leHRlbmQocHJvdG8sIHVzZXJ0eXBlX3BiKTsKCnZhciBhbmNob3J0eXBlX3BiID0gcmVxdWlyZSgnLi9hbmNob3J0eXBlX3BiLmpzJyk7Cgpnb29nLm9iamVjdC5leHRlbmQocHJvdG8sIGFuY2hvcnR5cGVfcGIpOwoKdmFyIGNtc3R5cGVfcGIgPSByZXF1aXJlKCcuL2Ntc3R5cGVfcGIuanMnKTsKCmdvb2cub2JqZWN0LmV4dGVuZChwcm90bywgY21zdHlwZV9wYik7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXF1ZXN0JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkd1aWxkTGlzdFJlcGx5JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLkxvZ2luUmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseScsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlBheUxpc3RSZXBseScsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseScsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseScsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdCcsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHknLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5JywgbnVsbCwgZ2xvYmFsKTsKZ29vZy5leHBvcnRTeW1ib2woJ3Byb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwpnb29nLmV4cG9ydFN5bWJvbCgncHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseScsIG51bGwsIGdsb2JhbCk7Cmdvb2cuZXhwb3J0U3ltYm9sKCdwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QnLCBudWxsLCBnbG9iYWwpOwovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIG51bGwsIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkxvZ2luUmVxdWVzdCc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5BZG1pbkxpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHksIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5BZG1pbkxpc3RSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHksIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkd1aWxkTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHksIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseS5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHknOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIG51bGwsIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdCc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVwbHknOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdC5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVxdWVzdC5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIG51bGwsIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdCc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdCc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHksIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIG51bGwsIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdCc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHksIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHknOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlBheUxpc3RSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHknOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdC5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHknOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18sIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseSc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0ID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QsIGpzcGIuTWVzc2FnZSk7CgppZiAoZ29vZy5ERUJVRyAmJiAhQ09NUElMRUQpIHsKICAvKioKICAgKiBAcHVibGljCiAgICogQG92ZXJyaWRlCiAgICovCiAgcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QnOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LnJlcGVhdGVkRmllbGRzXywgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3QgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIG51bGwsIG51bGwpOwp9OwoKZ29vZy5pbmhlcml0cyhwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXF1ZXN0LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdCc7Cn0KLyoqCiAqIEdlbmVyYXRlZCBieSBKc1BiQ29kZUdlbmVyYXRvci4KICogQHBhcmFtIHtBcnJheT19IG9wdF9kYXRhIE9wdGlvbmFsIGluaXRpYWwgZGF0YSBhcnJheSwgdHlwaWNhbGx5IGZyb20gYQogKiBzZXJ2ZXIgcmVzcG9uc2UsIG9yIGNvbnN0cnVjdGVkIGRpcmVjdGx5IGluIEphdmFzY3JpcHQuIFRoZSBhcnJheSBpcyB1c2VkCiAqIGluIHBsYWNlIGFuZCBiZWNvbWVzIHBhcnQgb2YgdGhlIGNvbnN0cnVjdGVkIG9iamVjdC4gSXQgaXMgbm90IGNsb25lZC4KICogSWYgbm8gZGF0YSBpcyBwcm92aWRlZCwgdGhlIGNvbnN0cnVjdGVkIG9iamVjdCB3aWxsIGJlIGVtcHR5LCBidXQgc3RpbGwKICogdmFsaWQuCiAqIEBleHRlbmRzIHtqc3BiLk1lc3NhZ2V9CiAqIEBjb25zdHJ1Y3RvcgogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseSA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdCA9IGZ1bmN0aW9uIChvcHRfZGF0YSkgewogIGpzcGIuTWVzc2FnZS5pbml0aWFsaXplKHRoaXMsIG9wdF9kYXRhLCAwLCAtMSwgbnVsbCwgbnVsbCk7Cn07Cgpnb29nLmluaGVyaXRzKHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdCwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QuZGlzcGxheU5hbWUgPSAncHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0JzsKfQovKioKICogR2VuZXJhdGVkIGJ5IEpzUGJDb2RlR2VuZXJhdG9yLgogKiBAcGFyYW0ge0FycmF5PX0gb3B0X2RhdGEgT3B0aW9uYWwgaW5pdGlhbCBkYXRhIGFycmF5LCB0eXBpY2FsbHkgZnJvbSBhCiAqIHNlcnZlciByZXNwb25zZSwgb3IgY29uc3RydWN0ZWQgZGlyZWN0bHkgaW4gSmF2YXNjcmlwdC4gVGhlIGFycmF5IGlzIHVzZWQKICogaW4gcGxhY2UgYW5kIGJlY29tZXMgcGFydCBvZiB0aGUgY29uc3RydWN0ZWQgb2JqZWN0LiBJdCBpcyBub3QgY2xvbmVkLgogKiBJZiBubyBkYXRhIGlzIHByb3ZpZGVkLCB0aGUgY29uc3RydWN0ZWQgb2JqZWN0IHdpbGwgYmUgZW1wdHksIGJ1dCBzdGlsbAogKiB2YWxpZC4KICogQGV4dGVuZHMge2pzcGIuTWVzc2FnZX0KICogQGNvbnN0cnVjdG9yCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkgPSBmdW5jdGlvbiAob3B0X2RhdGEpIHsKICBqc3BiLk1lc3NhZ2UuaW5pdGlhbGl6ZSh0aGlzLCBvcHRfZGF0YSwgMCwgLTEsIHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseSwganNwYi5NZXNzYWdlKTsKCmlmIChnb29nLkRFQlVHICYmICFDT01QSUxFRCkgewogIC8qKgogICAqIEBwdWJsaWMKICAgKiBAb3ZlcnJpZGUKICAgKi8KICBwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5LmRpc3BsYXlOYW1lID0gJ3Byb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHknOwp9Ci8qKgogKiBHZW5lcmF0ZWQgYnkgSnNQYkNvZGVHZW5lcmF0b3IuCiAqIEBwYXJhbSB7QXJyYXk9fSBvcHRfZGF0YSBPcHRpb25hbCBpbml0aWFsIGRhdGEgYXJyYXksIHR5cGljYWxseSBmcm9tIGEKICogc2VydmVyIHJlc3BvbnNlLCBvciBjb25zdHJ1Y3RlZCBkaXJlY3RseSBpbiBKYXZhc2NyaXB0LiBUaGUgYXJyYXkgaXMgdXNlZAogKiBpbiBwbGFjZSBhbmQgYmVjb21lcyBwYXJ0IG9mIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3QuIEl0IGlzIG5vdCBjbG9uZWQuCiAqIElmIG5vIGRhdGEgaXMgcHJvdmlkZWQsIHRoZSBjb25zdHJ1Y3RlZCBvYmplY3Qgd2lsbCBiZSBlbXB0eSwgYnV0IHN0aWxsCiAqIHZhbGlkLgogKiBAZXh0ZW5kcyB7anNwYi5NZXNzYWdlfQogKiBAY29uc3RydWN0b3IKICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rID0gZnVuY3Rpb24gKG9wdF9kYXRhKSB7CiAganNwYi5NZXNzYWdlLmluaXRpYWxpemUodGhpcywgb3B0X2RhdGEsIDAsIC0xLCBudWxsLCBudWxsKTsKfTsKCmdvb2cuaW5oZXJpdHMocHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLCBqc3BiLk1lc3NhZ2UpOwoKaWYgKGdvb2cuREVCVUcgJiYgIUNPTVBJTEVEKSB7CiAgLyoqCiAgICogQHB1YmxpYwogICAqIEBvdmVycmlkZQogICAqLwogIHByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5kaXNwbGF5TmFtZSA9ICdwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsnOwp9Ci8qKgogKiBMaXN0IG9mIHJlcGVhdGVkIGZpZWxkcyB3aXRoaW4gdGhpcyBtZXNzYWdlIHR5cGUuCiAqIEBwcml2YXRlIHshQXJyYXk8bnVtYmVyPn0KICogQGNvbnN0CiAqLwoKCnByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXyA9IFsxXTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQXJlYUxpc3RSZXBseX0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgYXJlYXNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRBcmVhc0xpc3QoKSwgdXNlcnR5cGVfcGIuQXJlYS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuQXJlYUxpc3RSZXBseSgpOwogIHJldHVybiBwcm90by5wYi5jbXMuQXJlYUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQXJlYUxpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyB1c2VydHlwZV9wYi5BcmVhKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCB1c2VydHlwZV9wYi5BcmVhLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZEFyZWFzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQXJlYUxpc3RSZXBseX0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYXNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCB1c2VydHlwZV9wYi5BcmVhLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9Cn07Ci8qKgogKiByZXBlYXRlZCBwYi5BcmVhIGFyZWFzID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5BcmVhPn0KICovCgoKcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHkucHJvdG90eXBlLmdldEFyZWFzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIHVzZXJ0eXBlX3BiLkFyZWEsIDEpOwp9OwovKioKICogQHBhcmFtIHshQXJyYXk8IXByb3RvLnBiLkFyZWE+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRBcmVhc0xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkFyZWE9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLkFyZWF9CiAqLwoKCnByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5LnByb3RvdHlwZS5hZGRBcmVhcyA9IGZ1bmN0aW9uIChvcHRfdmFsdWUsIG9wdF9pbmRleCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYWRkVG9SZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCBvcHRfdmFsdWUsIHByb3RvLnBiLkFyZWEsIG9wdF9pbmRleCk7Cn07Ci8qKgogKiBDbGVhcnMgdGhlIGxpc3QgbWFraW5nIGl0IGVtcHR5IGJ1dCBub24tbnVsbC4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BcmVhTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFyZWFMaXN0UmVwbHkucHJvdG90eXBlLmNsZWFyQXJlYXNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnNldEFyZWFzTGlzdChbXSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkxvZ2luUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgZW1haWw6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgIiIpLAogICAgICBwYXNzd29yZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAiIikKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkxvZ2luUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkU3RyaW5nKCk7CiAgICAgICAgbXNnLnNldEVtYWlsKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFN0cmluZygpOwogICAgICAgIG1zZy5zZXRQYXNzd29yZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0RW1haWwoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlU3RyaW5nKDEsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFzc3dvcmQoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlU3RyaW5nKDIsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHN0cmluZyBlbWFpbCA9IDE7CiAqIEByZXR1cm4ge3N0cmluZ30KICovCgoKcHJvdG8ucGIuY21zLkxvZ2luUmVxdWVzdC5wcm90b3R5cGUuZ2V0RW1haWwgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsICIiKTsKfTsKLyoqCiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkxvZ2luUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QucHJvdG90eXBlLnNldEVtYWlsID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNTdHJpbmdGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBzdHJpbmcgcGFzc3dvcmQgPSAyOwogKiBAcmV0dXJuIHtzdHJpbmd9CiAqLwoKCnByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3QucHJvdG90eXBlLmdldFBhc3N3b3JkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAiIik7Cn07Ci8qKgogKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Mb2dpblJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTG9naW5SZXF1ZXN0LnByb3RvdHlwZS5zZXRQYXNzd29yZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zU3RyaW5nRmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzFdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgYWRtaW5zTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0QWRtaW5zTGlzdCgpLCBjbXN0eXBlX3BiLkFkbWluLnRvT2JqZWN0LCBpbmNsdWRlSW5zdGFuY2UpCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5BZG1pbkxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZG1pbkxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBjbXN0eXBlX3BiLkFkbWluKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCBjbXN0eXBlX3BiLkFkbWluLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZEFkbWlucyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHkucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRBZG1pbnNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCBjbXN0eXBlX3BiLkFkbWluLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9Cn07Ci8qKgogKiByZXBlYXRlZCBwYi5BZG1pbiBhZG1pbnMgPSAxOwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLkFkbWluPn0KICovCgoKcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRBZG1pbnNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgY21zdHlwZV9wYi5BZG1pbiwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQWRtaW4+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuQWRtaW5MaXN0UmVwbHkucHJvdG90eXBlLnNldEFkbWluc0xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkFkbWluPX0gb3B0X3ZhbHVlCiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2luZGV4CiAqIEByZXR1cm4geyFwcm90by5wYi5BZG1pbn0KICovCgoKcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LnByb3RvdHlwZS5hZGRBZG1pbnMgPSBmdW5jdGlvbiAob3B0X3ZhbHVlLCBvcHRfaW5kZXgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmFkZFRvUmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgb3B0X3ZhbHVlLCBwcm90by5wYi5BZG1pbiwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFkbWluTGlzdFJlcGx5LnByb3RvdHlwZS5jbGVhckFkbWluc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0QWRtaW5zTGlzdChbXSk7Cn07Ci8qKgogKiBMaXN0IG9mIHJlcGVhdGVkIGZpZWxkcyB3aXRoaW4gdGhpcyBtZXNzYWdlIHR5cGUuCiAqIEBwcml2YXRlIHshQXJyYXk8bnVtYmVyPn0KICogQGNvbnN0CiAqLwoKCnByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18gPSBbMV07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHl9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBndWlsZHNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRHdWlsZHNMaXN0KCksIGNtc3R5cGVfcGIuR3VpbGQudG9PYmplY3QsIGluY2x1ZGVJbnN0YW5jZSkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLkd1aWxkTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkd1aWxkTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkd1aWxkTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gbmV3IGNtc3R5cGVfcGIuR3VpbGQoKTsKICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsIGNtc3R5cGVfcGIuR3VpbGQuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTsKICAgICAgICBtc2cuYWRkR3VpbGRzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseS5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseX0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLkd1aWxkTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldEd1aWxkc0xpc3QoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlUmVwZWF0ZWRNZXNzYWdlKDEsIGYsIGNtc3R5cGVfcGIuR3VpbGQuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KfTsKLyoqCiAqIHJlcGVhdGVkIHBiLkd1aWxkIGd1aWxkcyA9IDE7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuR3VpbGQ+fQogKi8KCgpwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkucHJvdG90eXBlLmdldEd1aWxkc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCBjbXN0eXBlX3BiLkd1aWxkLCAxKTsKfTsKLyoqCiAqIEBwYXJhbSB7IUFycmF5PCFwcm90by5wYi5HdWlsZD59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5HdWlsZExpc3RSZXBseS5wcm90b3R5cGUuc2V0R3VpbGRzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuR3VpbGQ9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLkd1aWxkfQogKi8KCgpwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkucHJvdG90eXBlLmFkZEd1aWxkcyA9IGZ1bmN0aW9uIChvcHRfdmFsdWUsIG9wdF9pbmRleCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYWRkVG9SZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCBvcHRfdmFsdWUsIHByb3RvLnBiLkd1aWxkLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuR3VpbGRMaXN0UmVwbHkucHJvdG90eXBlLmNsZWFyR3VpbGRzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5zZXRHdWlsZHNMaXN0KFtdKTsKfTsKLyoqCiAqIExpc3Qgb2YgcmVwZWF0ZWQgZmllbGRzIHdpdGhpbiB0aGlzIG1lc3NhZ2UgdHlwZS4KICogQHByaXZhdGUgeyFBcnJheTxudW1iZXI+fQogKiBAY29uc3QKICovCgoKcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18gPSBbMV07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseS50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHl9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgYXBwc0xpc3Q6IGpzcGIuTWVzc2FnZS50b09iamVjdExpc3QobXNnLmdldEFwcHNMaXN0KCksIGNtc3R5cGVfcGIuQXBwLnRvT2JqZWN0LCBpbmNsdWRlSW5zdGFuY2UpCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSBuZXcgY21zdHlwZV9wYi5BcHAoKTsKICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsIGNtc3R5cGVfcGIuQXBwLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZEFwcHModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkFwcExpc3RSZXBseS5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldEFwcHNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCBjbXN0eXBlX3BiLkFwcC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuQXBwIGFwcHMgPSAxOwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLkFwcD59CiAqLwoKCnByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHkucHJvdG90eXBlLmdldEFwcHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgY21zdHlwZV9wYi5BcHAsIDEpOwp9OwovKioKICogQHBhcmFtIHshQXJyYXk8IXByb3RvLnBiLkFwcD59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRBcHBzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQXBwPX0gb3B0X3ZhbHVlCiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2luZGV4CiAqIEByZXR1cm4geyFwcm90by5wYi5BcHB9CiAqLwoKCnByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHkucHJvdG90eXBlLmFkZEFwcHMgPSBmdW5jdGlvbiAob3B0X3ZhbHVlLCBvcHRfaW5kZXgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmFkZFRvUmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgb3B0X3ZhbHVlLCBwcm90by5wYi5BcHAsIG9wdF9pbmRleCk7Cn07Ci8qKgogKiBDbGVhcnMgdGhlIGxpc3QgbWFraW5nIGl0IGVtcHR5IGJ1dCBub24tbnVsbC4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BcHBMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQXBwTGlzdFJlcGx5LnByb3RvdHlwZS5jbGVhckFwcHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnNldEFwcHNMaXN0KFtdKTsKfTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGFuY2hvcklkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICBhcmVhSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNCwgMCksCiAgICAgIGd1aWxkSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCksCiAgICAgIGJsb2NrU3RhdHVzOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDYsIDApLAogICAgICBvbmxpbmVTdGF0dXM6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNywgMCksCiAgICAgIHJldmlld1N0YXR1czoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA4LCAwKSwKICAgICAgY3JlYXRlZFN0YXJ0OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDksIDApLAogICAgICBjcmVhdGVkRW5kOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEwLCAwKSwKICAgICAgbWluT2ZmbGluZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxMSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZU5vKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlU2l6ZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QW5jaG9ySWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0R3VpbGRJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDY6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldEJsb2NrU3RhdHVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0T25saW5lU3RhdHVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgODoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0UmV2aWV3U3RhdHVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgOToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRDcmVhdGVkU3RhcnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAxMDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRDcmVhdGVkRW5kKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0TWluT2ZmbGluZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRQYWdlTm8oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VTaXplKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBbmNob3JJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRHdWlsZElkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRCbG9ja1N0YXR1cygpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDYsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0T25saW5lU3RhdHVzKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRSZXZpZXdTdGF0dXMoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSg4LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRTdGFydCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDksIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0Q3JlYXRlZEVuZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEwLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldE1pbk9mZmxpbmUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxMSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYW5jaG9yX2lkID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFuY2hvcklkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBbmNob3JJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFyZWFfaWQgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBcmVhSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBndWlsZF9pZCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRHdWlsZElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRHdWlsZElkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBwYi5CbG9ja1N0YXR1cyBibG9ja19zdGF0dXMgPSA2OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuQmxvY2tTdGF0dXN9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QmxvY2tTdGF0dXMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDYsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQmxvY2tTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEJsb2NrU3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuT25saW5lU3RhdHVzIG9ubGluZV9zdGF0dXMgPSA3OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuT25saW5lU3RhdHVzfQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldE9ubGluZVN0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNywgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5PbmxpbmVTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldE9ubGluZVN0YXR1cyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zRW51bUZpZWxkKHRoaXMsIDcsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHBiLlJldmlld1N0YXR1cyByZXZpZXdfc3RhdHVzID0gODsKICogQHJldHVybiB7IXByb3RvLnBiLlJldmlld1N0YXR1c30KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRSZXZpZXdTdGF0dXMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDgsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuUmV2aWV3U3RhdHVzfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXZpZXdTdGF0dXMgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCA4LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9zdGFydCA9IDk7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDksIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldENyZWF0ZWRTdGFydCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgOSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGNyZWF0ZWRfZW5kID0gMTA7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxMCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q3JlYXRlZEVuZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMTAsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBtaW5fb2ZmbGluZSA9IDExOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0TWluT2ZmbGluZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMTEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldE1pbk9mZmxpbmUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDExLCB2YWx1ZSk7Cn07Ci8qKgogKiBMaXN0IG9mIHJlcGVhdGVkIGZpZWxkcyB3aXRoaW4gdGhpcyBtZXNzYWdlIHR5cGUuCiAqIEBwcml2YXRlIHshQXJyYXk8bnVtYmVyPn0KICogQGNvbnN0CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzFdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGFuY2hvcnNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRBbmNob3JzTGlzdCgpLCBhbmNob3J0eXBlX3BiLkFuY2hvckJhc2ljLnRvT2JqZWN0LCBpbmNsdWRlSW5zdGFuY2UpLAogICAgICBwYWdlTm86IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIHBhZ2VTaXplOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICB0b3RhbFBhZ2U6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNCwgMCksCiAgICAgIHRvdGFsQ291bnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBhbmNob3J0eXBlX3BiLkFuY2hvckJhc2ljKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCBhbmNob3J0eXBlX3BiLkFuY2hvckJhc2ljLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZEFuY2hvcnModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsUGFnZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VG90YWxDb3VudCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0QW5jaG9yc0xpc3QoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlUmVwZWF0ZWRNZXNzYWdlKDEsIGYsIGFuY2hvcnR5cGVfcGIuQW5jaG9yQmFzaWMuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxQYWdlKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUb3RhbENvdW50KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuQW5jaG9yQmFzaWMgYW5jaG9ycyA9IDE7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuQW5jaG9yQmFzaWM+fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRBbmNob3JzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIGFuY2hvcnR5cGVfcGIuQW5jaG9yQmFzaWMsIDEpOwp9OwovKioKICogQHBhcmFtIHshQXJyYXk8IXByb3RvLnBiLkFuY2hvckJhc2ljPn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLnNldEFuY2hvcnNMaXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5BbmNob3JCYXNpYz19IG9wdF92YWx1ZQogKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleAogKiBAcmV0dXJuIHshcHJvdG8ucGIuQW5jaG9yQmFzaWN9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLmFkZEFuY2hvcnMgPSBmdW5jdGlvbiAob3B0X3ZhbHVlLCBvcHRfaW5kZXgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmFkZFRvUmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgb3B0X3ZhbHVlLCBwcm90by5wYi5BbmNob3JCYXNpYywgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLmNsZWFyQW5jaG9yc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0QW5jaG9yc0xpc3QoW10pOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VObyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdG90YWxfcGFnZSA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLnNldFRvdGFsUGFnZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX2NvdW50ID0gNTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JMaXN0UmVwbHkucHJvdG90eXBlLnNldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBwYWdlTm86IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIHBhZ2VTaXplOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICB1c2VySWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgbmlja25hbWU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgIiIpLAogICAgICB2aXBPbmx5OiBqc3BiLk1lc3NhZ2UuZ2V0Qm9vbGVhbkZpZWxkV2l0aERlZmF1bHQobXNnLCA2LCBmYWxzZSksCiAgICAgIGRlcG9zaXRPbmx5OiBqc3BiLk1lc3NhZ2UuZ2V0Qm9vbGVhbkZpZWxkV2l0aERlZmF1bHQobXNnLCA3LCBmYWxzZSksCiAgICAgIG1pbkJhbGFuY2U6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgOCwgMCksCiAgICAgIGNyZWF0ZWRTdGFydDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA5LCAwKSwKICAgICAgY3JlYXRlZEVuZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxMCwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFVzZXJJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QXJlYUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFN0cmluZygpOwogICAgICAgIG1zZy5zZXROaWNrbmFtZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDY6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRCb29sKCk7CiAgICAgICAgbXNnLnNldFZpcE9ubHkodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA3OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkQm9vbCgpOwogICAgICAgIG1zZy5zZXREZXBvc2l0T25seSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDg6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0TWluQmFsYW5jZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDk6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZFN0YXJ0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTA6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZEVuZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VXNlcklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcmVhSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig0LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldE5pY2tuYW1lKCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVN0cmluZyg1LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFZpcE9ubHkoKTsKCiAgaWYgKGYpIHsKICAgIHdyaXRlci53cml0ZUJvb2woNiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXREZXBvc2l0T25seSgpOwoKICBpZiAoZikgewogICAgd3JpdGVyLndyaXRlQm9vbCg3LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldE1pbkJhbGFuY2UoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig4LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRTdGFydCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDksIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0Q3JlYXRlZEVuZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEwLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9ubyA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VObyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfc2l6ZSA9IDI7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB1c2VyX2lkID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRVc2VySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0VXNlcklkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgc3RyaW5nIG5pY2tuYW1lID0gNTsKICogQHJldHVybiB7c3RyaW5nfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXROaWNrbmFtZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNSwgIiIpOwp9OwovKioKICogQHBhcmFtIHtzdHJpbmd9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Tmlja25hbWUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM1N0cmluZ0ZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIGJvb2wgdmlwX29ubHkgPSA2OwogKiBAcmV0dXJuIHtib29sZWFufQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRWaXBPbmx5ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0Qm9vbGVhbkZpZWxkV2l0aERlZmF1bHQodGhpcywgNiwgZmFsc2UpOwp9OwovKioKICogQHBhcmFtIHtib29sZWFufSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFZpcE9ubHkgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0Jvb2xlYW5GaWVsZCh0aGlzLCA2LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBib29sIGRlcG9zaXRfb25seSA9IDc7CiAqIEByZXR1cm4ge2Jvb2xlYW59CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldERlcG9zaXRPbmx5ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0Qm9vbGVhbkZpZWxkV2l0aERlZmF1bHQodGhpcywgNywgZmFsc2UpOwp9OwovKioKICogQHBhcmFtIHtib29sZWFufSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldERlcG9zaXRPbmx5ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNCb29sZWFuRmllbGQodGhpcywgNywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIG1pbl9iYWxhbmNlID0gODsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRNaW5CYWxhbmNlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA4LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldE1pbkJhbGFuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDgsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBjcmVhdGVkX3N0YXJ0ID0gOTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDksIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q3JlYXRlZFN0YXJ0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA5LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9lbmQgPSAxMDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxMCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxMCwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18gPSBbMV07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHl9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHVzZXJzTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0VXNlcnNMaXN0KCksIHVzZXJ0eXBlX3BiLlVzZXIudG9PYmplY3QsIGluY2x1ZGVJbnN0YW5jZSksCiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIHRvdGFsUGFnZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgdG90YWxDb3VudDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseSgpOwogIHJldHVybiBwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyB1c2VydHlwZV9wYi5Vc2VyKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCB1c2VydHlwZV9wYi5Vc2VyLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZFVzZXJzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbFBhZ2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsQ291bnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHkucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRVc2Vyc0xpc3QoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlUmVwZWF0ZWRNZXNzYWdlKDEsIGYsIHVzZXJ0eXBlX3BiLlVzZXIuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxQYWdlKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUb3RhbENvdW50KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuVXNlciB1c2VycyA9IDE7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuVXNlcj59CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRVc2Vyc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCB1c2VydHlwZV9wYi5Vc2VyLCAxKTsKfTsKLyoqCiAqIEBwYXJhbSB7IUFycmF5PCFwcm90by5wYi5Vc2VyPn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5wcm90b3R5cGUuc2V0VXNlcnNMaXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5Vc2VyPX0gb3B0X3ZhbHVlCiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2luZGV4CiAqIEByZXR1cm4geyFwcm90by5wYi5Vc2VyfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5wcm90b3R5cGUuYWRkVXNlcnMgPSBmdW5jdGlvbiAob3B0X3ZhbHVlLCBvcHRfaW5kZXgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmFkZFRvUmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgb3B0X3ZhbHVlLCBwcm90by5wYi5Vc2VyLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnByb3RvdHlwZS5jbGVhclVzZXJzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5zZXRVc2Vyc0xpc3QoW10pOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHkucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdG90YWxfcGFnZSA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHkucHJvdG90eXBlLmdldFRvdGFsUGFnZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHkucHJvdG90eXBlLnNldFRvdGFsUGFnZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX2NvdW50ID0gNTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVXNlckxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxDb3VudCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Vc2VyTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVzZXJMaXN0UmVwbHkucHJvdG90eXBlLnNldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGVudGl0eVR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIGVudGl0eUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBhbW91bnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIHNlbmROb3RpZnk6IGpzcGIuTWVzc2FnZS5nZXRCb29sZWFuRmllbGRXaXRoRGVmYXVsdChtc2csIDQsIGZhbHNlKSwKICAgICAgZGVzYzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAiIikKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldEVudGl0eVR5cGUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEVudGl0eUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEludDMyKCk7CiAgICAgICAgbXNnLnNldEFtb3VudCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRCb29sKCk7CiAgICAgICAgbXNnLnNldFNlbmROb3RpZnkodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkU3RyaW5nKCk7CiAgICAgICAgbXNnLnNldERlc2ModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0RW50aXR5VHlwZSgpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDEsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0RW50aXR5SWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigyLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEFtb3VudCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlSW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRTZW5kTm90aWZ5KCk7CgogIGlmIChmKSB7CiAgICB3cml0ZXIud3JpdGVCb29sKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0RGVzYygpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVTdHJpbmcoNSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgcGIuRW50aXR5VHlwZSBlbnRpdHlfdHlwZSA9IDE7CiAqIEByZXR1cm4geyFwcm90by5wYi5FbnRpdHlUeXBlfQogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QucHJvdG90eXBlLmdldEVudGl0eVR5cGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuRW50aXR5VHlwZX0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC5wcm90b3R5cGUuc2V0RW50aXR5VHlwZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zRW51bUZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBlbnRpdHlfaWQgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC5wcm90b3R5cGUuZ2V0RW50aXR5SWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QucHJvdG90eXBlLnNldEVudGl0eUlkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBpbnQzMiBhbW91bnQgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC5wcm90b3R5cGUuZ2V0QW1vdW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LnByb3RvdHlwZS5zZXRBbW91bnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIGJvb2wgc2VuZF9ub3RpZnkgPSA0OwogKiBAcmV0dXJuIHtib29sZWFufQogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QucHJvdG90eXBlLmdldFNlbmROb3RpZnkgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRCb29sZWFuRmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCBmYWxzZSk7Cn07Ci8qKgogKiBAcGFyYW0ge2Jvb2xlYW59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcXVlc3QucHJvdG90eXBlLnNldFNlbmROb3RpZnkgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0Jvb2xlYW5GaWVsZCh0aGlzLCA0LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBzdHJpbmcgZGVzYyA9IDU7CiAqIEByZXR1cm4ge3N0cmluZ30KICovCgoKcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXF1ZXN0LnByb3RvdHlwZS5nZXREZXNjID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAiIik7Cn07Ci8qKgogKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVxdWVzdC5wcm90b3R5cGUuc2V0RGVzYyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zU3RyaW5nRmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXBseS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGJhbGFuY2U6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVwbHkuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVwbHkoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEJhbGFuY2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXBseS5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldEJhbGFuY2UoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYmFsYW5jZSA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkFkanVzdEJhbGFuY2VSZXBseS5wcm90b3R5cGUuZ2V0QmFsYW5jZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZGp1c3RCYWxhbmNlUmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQWRqdXN0QmFsYW5jZVJlcGx5LnByb3RvdHlwZS5zZXRCYWxhbmNlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgZW50aXR5VHlwZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgZW50aXR5SWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGJsb2NrU3RhdHVzOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICBkdXJhdGlvbjoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgcmVhc29uOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsICIiKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldEVudGl0eVR5cGUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEVudGl0eUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0QmxvY2tTdGF0dXModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldER1cmF0aW9uKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFN0cmluZygpOwogICAgICAgIG1zZy5zZXRSZWFzb24odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldEVudGl0eVR5cGUoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSgxLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEVudGl0eUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRCbG9ja1N0YXR1cygpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0RHVyYXRpb24oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig0LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFJlYXNvbigpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVTdHJpbmcoNSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgcGIuRW50aXR5VHlwZSBlbnRpdHlfdHlwZSA9IDE7CiAqIEByZXR1cm4geyFwcm90by5wYi5FbnRpdHlUeXBlfQogKi8KCgpwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnByb3RvdHlwZS5nZXRFbnRpdHlUeXBlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkVudGl0eVR5cGV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdC5wcm90b3R5cGUuc2V0RW50aXR5VHlwZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zRW51bUZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBlbnRpdHlfaWQgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QucHJvdG90eXBlLmdldEVudGl0eUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QucHJvdG90eXBlLnNldEVudGl0eUlkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBwYi5CbG9ja1N0YXR1cyBibG9ja19zdGF0dXMgPSAzOwogKiBAcmV0dXJuIHshcHJvdG8ucGIuQmxvY2tTdGF0dXN9CiAqLwoKCnByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QucHJvdG90eXBlLmdldEJsb2NrU3RhdHVzID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkJsb2NrU3RhdHVzfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3QucHJvdG90eXBlLnNldEJsb2NrU3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGR1cmF0aW9uID0gNDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnByb3RvdHlwZS5nZXREdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnByb3RvdHlwZS5zZXREdXJhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgc3RyaW5nIHJlYXNvbiA9IDU7CiAqIEByZXR1cm4ge3N0cmluZ30KICovCgoKcHJvdG8ucGIuY21zLkJsb2NrUmVxdWVzdC5wcm90b3R5cGUuZ2V0UmVhc29uID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAiIik7Cn07Ci8qKgogKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5CbG9ja1JlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQmxvY2tSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZWFzb24gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM1N0cmluZ0ZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGVudGl0eVR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIGVudGl0eUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkRW51bSgpOwogICAgICAgIG1zZy5zZXRFbnRpdHlUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRFbnRpdHlJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5VbmJsb2NrUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRFbnRpdHlUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRFbnRpdHlJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHBiLkVudGl0eVR5cGUgZW50aXR5X3R5cGUgPSAxOwogKiBAcmV0dXJuIHshcHJvdG8ucGIuRW50aXR5VHlwZX0KICovCgoKcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0LnByb3RvdHlwZS5nZXRFbnRpdHlUeXBlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkVudGl0eVR5cGV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3QucHJvdG90eXBlLnNldEVudGl0eVR5cGUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgZW50aXR5X2lkID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVW5ibG9ja1JlcXVlc3QucHJvdG90eXBlLmdldEVudGl0eUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlVuYmxvY2tSZXF1ZXN0LnByb3RvdHlwZS5zZXRFbnRpdHlJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgZW50aXR5VHlwZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgc3JjSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGRzdElkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkRW51bSgpOwogICAgICAgIG1zZy5zZXRFbnRpdHlUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRTcmNJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0RHN0SWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0RW50aXR5VHlwZSgpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDEsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0U3JjSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigyLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldERzdElkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgcGIuRW50aXR5VHlwZSBlbnRpdHlfdHlwZSA9IDE7CiAqIEByZXR1cm4geyFwcm90by5wYi5FbnRpdHlUeXBlfQogKi8KCgpwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3QucHJvdG90eXBlLmdldEVudGl0eVR5cGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuRW50aXR5VHlwZX0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdC5wcm90b3R5cGUuc2V0RW50aXR5VHlwZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zRW51bUZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBzcmNfaWQgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5NaWdyYXRlUmVxdWVzdC5wcm90b3R5cGUuZ2V0U3JjSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3QucHJvdG90eXBlLnNldFNyY0lkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgZHN0X2lkID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuTWlncmF0ZVJlcXVlc3QucHJvdG90eXBlLmdldERzdElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLk1pZ3JhdGVSZXF1ZXN0LnByb3RvdHlwZS5zZXREc3RJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdC50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBhbmNob3JJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgYXJlYUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBndWlsZElkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QW5jaG9ySWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0R3VpbGRJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldEFuY2hvcklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcmVhSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigyLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEd1aWxkSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYW5jaG9yX2lkID0gMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdC5wcm90b3R5cGUuZ2V0QW5jaG9ySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0LnByb3RvdHlwZS5zZXRBbmNob3JJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFyZWFfaWQgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0LnByb3RvdHlwZS5nZXRBcmVhSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0LnByb3RvdHlwZS5zZXRBcmVhSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBndWlsZF9pZCA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QucHJvdG90eXBlLmdldEd1aWxkSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0aG9yaXplQW5jaG9yUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRob3JpemVBbmNob3JSZXF1ZXN0LnByb3RvdHlwZS5zZXRHdWlsZElkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVxdWVzdC50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBhbmNob3JJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBbmNob3JJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRBbmNob3JJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhbmNob3JfaWQgPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVxdWVzdC5wcm90b3R5cGUuZ2V0QW5jaG9ySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcXVlc3QucHJvdG90eXBlLnNldEFuY2hvcklkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBMaXN0IG9mIHJlcGVhdGVkIGZpZWxkcyB3aXRoaW4gdGhpcyBtZXNzYWdlIHR5cGUuCiAqIEBwcml2YXRlIHshQXJyYXk8bnVtYmVyPn0KICogQGNvbnN0CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzJdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGJhc2ljOiAoZiA9IG1zZy5nZXRCYXNpYygpKSAmJiBhbmNob3J0eXBlX3BiLkFuY2hvckJhc2ljLnRvT2JqZWN0KGluY2x1ZGVJbnN0YW5jZSwgZiksCiAgICAgIHByb2ZpbGVzTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0UHJvZmlsZXNMaXN0KCksIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseSgpOwogIHJldHVybiBwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gbmV3IGFuY2hvcnR5cGVfcGIuQW5jaG9yQmFzaWMoKTsKICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsIGFuY2hvcnR5cGVfcGIuQW5jaG9yQmFzaWMuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTsKICAgICAgICBtc2cuc2V0QmFzaWModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBhbmNob3J0eXBlX3BiLkFuY2hvclByb2ZpbGUoKTsKICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpOwogICAgICAgIG1zZy5hZGRQcm9maWxlcyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0QmFzaWMoKTsKCiAgaWYgKGYgIT0gbnVsbCkgewogICAgd3JpdGVyLndyaXRlTWVzc2FnZSgxLCBmLCBhbmNob3J0eXBlX3BiLkFuY2hvckJhc2ljLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFByb2ZpbGVzTGlzdCgpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVSZXBlYXRlZE1lc3NhZ2UoMiwgZiwgYW5jaG9ydHlwZV9wYi5BbmNob3JQcm9maWxlLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCBwYi5BbmNob3JCYXNpYyBiYXNpYyA9IDE7CiAqIEByZXR1cm4gez9wcm90by5wYi5BbmNob3JCYXNpY30KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseS5wcm90b3R5cGUuZ2V0QmFzaWMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRXcmFwcGVyRmllbGQodGhpcywgYW5jaG9ydHlwZV9wYi5BbmNob3JCYXNpYywgMSk7Cn07Ci8qKgogKiBAcGFyYW0gez9wcm90by5wYi5BbmNob3JCYXNpY3x1bmRlZmluZWR9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5LnByb3RvdHlwZS5zZXRCYXNpYyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0V3JhcHBlckZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbWVzc2FnZSBmaWVsZCBtYWtpbmcgaXQgdW5kZWZpbmVkLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkucHJvdG90eXBlLmNsZWFyQmFzaWMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0QmFzaWModW5kZWZpbmVkKTsKfTsKLyoqCiAqIFJldHVybnMgd2hldGhlciB0aGlzIGZpZWxkIGlzIHNldC4KICogQHJldHVybiB7Ym9vbGVhbn0KICovCgoKcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseS5wcm90b3R5cGUuaGFzQmFzaWMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZCh0aGlzLCAxKSAhPSBudWxsOwp9OwovKioKICogcmVwZWF0ZWQgcGIuQW5jaG9yUHJvZmlsZSBwcm9maWxlcyA9IDI7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuQW5jaG9yUHJvZmlsZT59CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkucHJvdG90eXBlLmdldFByb2ZpbGVzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZSwgMik7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQW5jaG9yUHJvZmlsZT59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuQW5jaG9yRnVsbFJlcGx5LnByb3RvdHlwZS5zZXRQcm9maWxlc0xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkFuY2hvclByb2ZpbGU9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLkFuY2hvclByb2ZpbGV9CiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkucHJvdG90eXBlLmFkZFByb2ZpbGVzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDIsIG9wdF92YWx1ZSwgcHJvdG8ucGIuQW5jaG9yUHJvZmlsZSwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFuY2hvckZ1bGxSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BbmNob3JGdWxsUmVwbHkucHJvdG90eXBlLmNsZWFyUHJvZmlsZXNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnNldFByb2ZpbGVzTGlzdChbXSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAwKSwKICAgICAgYW5jaG9ySWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgc3RhdHVzOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBbmNob3JJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QXJlYUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0U3RhdHVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRQYWdlTm8oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VTaXplKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBbmNob3JJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRTdGF0dXMoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSg1LCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9ubyA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VObyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfc2l6ZSA9IDI7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhbmNob3JfaWQgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFuY2hvcklkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFuY2hvcklkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuUmV2aWV3U3RhdHVzIHN0YXR1cyA9IDU7CiAqIEByZXR1cm4geyFwcm90by5wYi5SZXZpZXdTdGF0dXN9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFN0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5SZXZpZXdTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18gPSBbMV07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHl9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHByb2ZpbGVzTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0UHJvZmlsZXNMaXN0KCksIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKSwKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgdG90YWxQYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB0b3RhbENvdW50OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gbmV3IGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZSgpOwogICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZSh2YWx1ZSwgYW5jaG9ydHlwZV9wYi5BbmNob3JQcm9maWxlLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZFByb2ZpbGVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbFBhZ2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsQ291bnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRQcm9maWxlc0xpc3QoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlUmVwZWF0ZWRNZXNzYWdlKDEsIGYsIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlTm8oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigyLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VTaXplKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUb3RhbFBhZ2UoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig0LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFRvdGFsQ291bnQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig1LCBmKTsKICB9Cn07Ci8qKgogKiByZXBlYXRlZCBwYi5BbmNob3JQcm9maWxlIHByb2ZpbGVzID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5BbmNob3JQcm9maWxlPn0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkucHJvdG90eXBlLmdldFByb2ZpbGVzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZSwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQW5jaG9yUHJvZmlsZT59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkucHJvdG90eXBlLnNldFByb2ZpbGVzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQW5jaG9yUHJvZmlsZT19IG9wdF92YWx1ZQogKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleAogKiBAcmV0dXJuIHshcHJvdG8ucGIuQW5jaG9yUHJvZmlsZX0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkucHJvdG90eXBlLmFkZFByb2ZpbGVzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuQW5jaG9yUHJvZmlsZSwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJQcm9maWxlc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0UHJvZmlsZXNMaXN0KFtdKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX3BhZ2UgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDQsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9jb3VudCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2ZpbGVMaXN0UmVwbHkucHJvdG90eXBlLmdldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvZmlsZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9maWxlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcHJvZmlsZUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEsIDApLAogICAgICBzdGF0dXM6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIHJlYXNvbjoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAiIikKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFByb2ZpbGVJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldFN0YXR1cyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRTdHJpbmcoKTsKICAgICAgICBtc2cuc2V0UmVhc29uKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRQcm9maWxlSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFN0YXR1cygpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UmVhc29uKCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVN0cmluZygzLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcHJvZmlsZV9pZCA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0UHJvZmlsZUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QucHJvdG90eXBlLnNldFByb2ZpbGVJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuUmV2aWV3U3RhdHVzIHN0YXR1cyA9IDI7CiAqIEByZXR1cm4geyFwcm90by5wYi5SZXZpZXdTdGF0dXN9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3QucHJvdG90eXBlLmdldFN0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5SZXZpZXdTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgc3RyaW5nIHJlYXNvbiA9IDM7CiAqIEByZXR1cm4ge3N0cmluZ30KICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NQcm9maWxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0UmVhc29uID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAiIik7Cn07Ci8qKgogKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Qcm9jZXNzUHJvZmlsZVJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUHJvY2Vzc1Byb2ZpbGVSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZWFzb24gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM1N0cmluZ0ZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIExpc3Qgb2YgcmVwZWF0ZWQgZmllbGRzIHdpdGhpbiB0aGlzIG1lc3NhZ2UgdHlwZS4KICogQHByaXZhdGUgeyFBcnJheTxudW1iZXI+fQogKiBAY29uc3QKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnJlcGVhdGVkRmllbGRzXyA9IFs0XTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgZGVhbFN0YXR1c0xpc3Q6IChmID0ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkRmllbGQobXNnLCA0KSkgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGYsCiAgICAgIHNjZW5lOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApLAogICAgICByZXBvcnRlclR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNiwgMCksCiAgICAgIHJlcG9ydGVySWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNywgMCksCiAgICAgIHJlcG9ydGVkVHlwZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA4LCAwKSwKICAgICAgcmVwb3J0ZWRJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA5LCAwKSwKICAgICAgY3JlYXRlZFN0YXJ0OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEwLCAwKSwKICAgICAgY3JlYXRlZEVuZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxMSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZU5vKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlU2l6ZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QXJlYUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWVzID0gcmVhZGVyLmlzRGVsaW1pdGVkKCkgPyByZWFkZXIucmVhZFBhY2tlZEVudW0oKSA6IFtyZWFkZXIucmVhZEVudW0oKV07CgogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBtc2cuYWRkRGVhbFN0YXR1cyh2YWx1ZXNbaV0pOwogICAgICAgIH0KCiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldFNjZW5lKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0UmVwb3J0ZXJUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRSZXBvcnRlcklkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgODoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0UmVwb3J0ZWRUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgOToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRSZXBvcnRlZElkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTA6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZFN0YXJ0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZEVuZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRQYWdlTm8oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VTaXplKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcmVhSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldERlYWxTdGF0dXNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVBhY2tlZEVudW0oNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRTY2VuZSgpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDUsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UmVwb3J0ZXJUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRSZXBvcnRlcklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRSZXBvcnRlZFR5cGUoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSg4LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFJlcG9ydGVkSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig5LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRTdGFydCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEwLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRFbmQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxMSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRBcmVhSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogcmVwZWF0ZWQgcGIuQmxvY2tTdGF0dXMgZGVhbF9zdGF0dXMgPSA0OwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLkJsb2NrU3RhdHVzPn0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXREZWFsU3RhdHVzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkRmllbGQodGhpcywgNCk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQmxvY2tTdGF0dXM+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXREZWFsU3RhdHVzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0RmllbGQodGhpcywgNCwgdmFsdWUgfHwgW10pOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQmxvY2tTdGF0dXN9IHZhbHVlCiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2luZGV4CiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmFkZERlYWxTdGF0dXMgPSBmdW5jdGlvbiAodmFsdWUsIG9wdF9pbmRleCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYWRkVG9SZXBlYXRlZEZpZWxkKHRoaXMsIDQsIHZhbHVlLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmNsZWFyRGVhbFN0YXR1c0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0RGVhbFN0YXR1c0xpc3QoW10pOwp9OwovKioKICogb3B0aW9uYWwgcGIuVmlvbGF0aW9uU2NlbmUgU2NlbmUgPSA1OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuVmlvbGF0aW9uU2NlbmV9CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0U2NlbmUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuVmlvbGF0aW9uU2NlbmV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFNjZW5lID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuRW50aXR5VHlwZSByZXBvcnRlcl90eXBlID0gNjsKICogQHJldHVybiB7IXByb3RvLnBiLkVudGl0eVR5cGV9CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UmVwb3J0ZXJUeXBlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA2LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkVudGl0eVR5cGV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFJlcG9ydGVyVHlwZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zRW51bUZpZWxkKHRoaXMsIDYsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiByZXBvcnRlcl9pZCA9IDc7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRSZXBvcnRlcklkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA3LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRSZXBvcnRlcklkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA3LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBwYi5FbnRpdHlUeXBlIHJlcG9ydGVkX3R5cGUgPSA4OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuRW50aXR5VHlwZX0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRSZXBvcnRlZFR5cGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDgsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuRW50aXR5VHlwZX0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UmVwb3J0ZWRUeXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgOCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHJlcG9ydGVkX2lkID0gOTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFJlcG9ydGVkSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDksIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFJlcG9ydGVkSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDksIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBjcmVhdGVkX3N0YXJ0ID0gMTA7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEwLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEwLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9lbmQgPSAxMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldENyZWF0ZWRFbmQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDExLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxMSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXyA9IFsxXTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseX0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICByZWNvcmRzTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0UmVjb3Jkc0xpc3QoKSwgdXNlcnR5cGVfcGIuVmlvbGF0aW9uUmVjb3JkLnRvT2JqZWN0LCBpbmNsdWRlSW5zdGFuY2UpLAogICAgICBwYWdlTm86IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIHBhZ2VTaXplOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICB0b3RhbFBhZ2U6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNCwgMCksCiAgICAgIHRvdGFsQ291bnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHkoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyB1c2VydHlwZV9wYi5WaW9sYXRpb25SZWNvcmQoKTsKICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsIHVzZXJ0eXBlX3BiLlZpb2xhdGlvblJlY29yZC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpOwogICAgICAgIG1zZy5hZGRSZWNvcmRzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbFBhZ2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsQ291bnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldFJlY29yZHNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCB1c2VydHlwZV9wYi5WaW9sYXRpb25SZWNvcmQuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxQYWdlKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUb3RhbENvdW50KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuVmlvbGF0aW9uUmVjb3JkIHJlY29yZHMgPSAxOwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLlZpb2xhdGlvblJlY29yZD59CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHkucHJvdG90eXBlLmdldFJlY29yZHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgdXNlcnR5cGVfcGIuVmlvbGF0aW9uUmVjb3JkLCAxKTsKfTsKLyoqCiAqIEBwYXJhbSB7IUFycmF5PCFwcm90by5wYi5WaW9sYXRpb25SZWNvcmQ+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2V0UmVjb3Jkc0xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLlZpb2xhdGlvblJlY29yZD19IG9wdF92YWx1ZQogKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleAogKiBAcmV0dXJuIHshcHJvdG8ucGIuVmlvbGF0aW9uUmVjb3JkfQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5hZGRSZWNvcmRzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuVmlvbGF0aW9uUmVjb3JkLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJSZWNvcmRzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5zZXRSZWNvcmRzTGlzdChbXSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9ubyA9IDI7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHkucHJvdG90eXBlLnNldFBhZ2VObyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfc2l6ZSA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9wYWdlID0gNDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDQsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA0LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdG90YWxfY291bnQgPSA1OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5WaW9sYXRpb25MaXN0UmVwbHkucHJvdG90eXBlLmdldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVmlvbGF0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlZpb2xhdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2V0VG90YWxDb3VudCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgdmlvbGF0aW9uSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIGRlYWxTdGF0dXM6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGRlYWxNZXNzYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsICIiKSwKICAgICAgYmxvY2tEdXJhdGlvbjoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQ2NCgpOwogICAgICAgIG1zZy5zZXRWaW9sYXRpb25JZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldERlYWxTdGF0dXModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkU3RyaW5nKCk7CiAgICAgICAgbXNnLnNldERlYWxNZXNzYWdlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRCbG9ja0R1cmF0aW9uKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldFZpb2xhdGlvbklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50NjQoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXREZWFsU3RhdHVzKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXREZWFsTWVzc2FnZSgpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVTdHJpbmcoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRCbG9ja0R1cmF0aW9uKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgdWludDY0IHZpb2xhdGlvbl9pZCA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRWaW9sYXRpb25JZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdC5wcm90b3R5cGUuc2V0VmlvbGF0aW9uSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHBiLkJsb2NrU3RhdHVzIGRlYWxfc3RhdHVzID0gMjsKICogQHJldHVybiB7IXByb3RvLnBiLkJsb2NrU3RhdHVzfQogKi8KCgpwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QucHJvdG90eXBlLmdldERlYWxTdGF0dXMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQmxvY2tTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QucHJvdG90eXBlLnNldERlYWxTdGF0dXMgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBzdHJpbmcgZGVhbF9tZXNzYWdlID0gMzsKICogQHJldHVybiB7c3RyaW5nfQogKi8KCgpwcm90by5wYi5jbXMuUHJvY2Vzc1Zpb2xhdGlvblJlcXVlc3QucHJvdG90eXBlLmdldERlYWxNZXNzYWdlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAiIik7Cn07Ci8qKgogKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Qcm9jZXNzVmlvbGF0aW9uUmVxdWVzdC5wcm90b3R5cGUuc2V0RGVhbE1lc3NhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM1N0cmluZ0ZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBibG9ja19kdXJhdGlvbiA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5nZXRCbG9ja0R1cmF0aW9uID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlByb2Nlc3NWaW9sYXRpb25SZXF1ZXN0LnByb3RvdHlwZS5zZXRCbG9ja0R1cmF0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA0LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAwKSwKICAgICAgYXJlYUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICBhbmNob3JJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgc3RhdHVzOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApLAogICAgICBjcmVhdGVkU3RhcnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNiwgMCksCiAgICAgIGNyZWF0ZWRFbmQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNywgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QW5jaG9ySWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkRW51bSgpOwogICAgICAgIG1zZy5zZXRTdGF0dXModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA2OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldENyZWF0ZWRTdGFydCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDc6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZEVuZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBbmNob3JJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0U3RhdHVzKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRDcmVhdGVkU3RhcnQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig2LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRFbmQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig3LCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9ubyA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VObyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfc2l6ZSA9IDI7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhcmVhX2lkID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRBcmVhSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0QXJlYUlkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYW5jaG9yX2lkID0gNDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRBbmNob3JJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBbmNob3JJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuUmV2aWV3U3RhdHVzIHN0YXR1cyA9IDU7CiAqIEByZXR1cm4geyFwcm90by5wYi5SZXZpZXdTdGF0dXN9CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFN0YXR1cyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5SZXZpZXdTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGNyZWF0ZWRfc3RhcnQgPSA2OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldENyZWF0ZWRTdGFydCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDYsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBjcmVhdGVkX2VuZCA9IDc7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q3JlYXRlZEVuZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA3LCB2YWx1ZSk7Cn07Ci8qKgogKiBMaXN0IG9mIHJlcGVhdGVkIGZpZWxkcyB3aXRoaW4gdGhpcyBtZXNzYWdlIHR5cGUuCiAqIEBwcml2YXRlIHshQXJyYXk8bnVtYmVyPn0KICogQGNvbnN0CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXyA9IFsxXTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseX0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcmVjb3Jkc0xpc3Q6IGpzcGIuTWVzc2FnZS50b09iamVjdExpc3QobXNnLmdldFJlY29yZHNMaXN0KCksIHVzZXJ0eXBlX3BiLkZpbGVSZWNvcmQudG9PYmplY3QsIGluY2x1ZGVJbnN0YW5jZSksCiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIHRvdGFsUGFnZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgdG90YWxDb3VudDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseSgpOwogIHJldHVybiBwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyB1c2VydHlwZV9wYi5GaWxlUmVjb3JkKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCB1c2VydHlwZV9wYi5GaWxlUmVjb3JkLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZFJlY29yZHModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsUGFnZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VG90YWxDb3VudCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseS5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldFJlY29yZHNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCB1c2VydHlwZV9wYi5GaWxlUmVjb3JkLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFRvdGFsUGFnZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxDb3VudCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDUsIGYpOwogIH0KfTsKLyoqCiAqIHJlcGVhdGVkIHBiLkZpbGVSZWNvcmQgcmVjb3JkcyA9IDE7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuRmlsZVJlY29yZD59CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRSZWNvcmRzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIHVzZXJ0eXBlX3BiLkZpbGVSZWNvcmQsIDEpOwp9OwovKioKICogQHBhcmFtIHshQXJyYXk8IXByb3RvLnBiLkZpbGVSZWNvcmQ+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRSZWNvcmRzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuRmlsZVJlY29yZD19IG9wdF92YWx1ZQogKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleAogKiBAcmV0dXJuIHshcHJvdG8ucGIuRmlsZVJlY29yZH0KICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHkucHJvdG90eXBlLmFkZFJlY29yZHMgPSBmdW5jdGlvbiAob3B0X3ZhbHVlLCBvcHRfaW5kZXgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmFkZFRvUmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgb3B0X3ZhbHVlLCBwcm90by5wYi5GaWxlUmVjb3JkLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5jbGVhclJlY29yZHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiB0aGlzLnNldFJlY29yZHNMaXN0KFtdKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX3BhZ2UgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDQsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9jb3VudCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkxpdmVMaXN0UmVwbHkucHJvdG90eXBlLmdldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTGl2ZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5MaXZlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBwYWdlTm86IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIHBhZ2VTaXplOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBhcmVhSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIGFwcElkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB1c2VySWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCksCiAgICAgIHJlY29yZElkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDYsIDApLAogICAgICBzdGF0dXM6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNywgMCksCiAgICAgIGNyZWF0ZWRTdGFydDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA4LCAwKSwKICAgICAgY3JlYXRlZEVuZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA5LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBcmVhSWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFwcElkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRVc2VySWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA2OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDY0KCk7CiAgICAgICAgbXNnLnNldFJlY29yZElkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0U3RhdHVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgODoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRDcmVhdGVkU3RhcnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA5OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldENyZWF0ZWRFbmQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcHBJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VXNlcklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRSZWNvcmRJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDY0KDYsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0U3RhdHVzKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRDcmVhdGVkU3RhcnQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig4LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRFbmQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig5LCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9ubyA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VObyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfc2l6ZSA9IDI7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhcmVhX2lkID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFyZWFJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0QXJlYUlkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXBwX2lkID0gNDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFwcElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBcHBJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHVzZXJfaWQgPSA1OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRVc2VySWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQ2NCByZWNvcmRfaWQgPSA2OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UmVjb3JkSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDYsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFJlY29yZElkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA2LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBwYi5QYXlTdGF0dXMgc3RhdHVzID0gNzsKICogQHJldHVybiB7IXByb3RvLnBiLlBheVN0YXR1c30KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRTdGF0dXMgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDcsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuUGF5U3RhdHVzfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRTdGF0dXMgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCA3LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9zdGFydCA9IDg7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDgsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLnNldENyZWF0ZWRTdGFydCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgOCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGNyZWF0ZWRfZW5kID0gOTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLmdldENyZWF0ZWRFbmQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDksIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcXVlc3QucHJvdG90eXBlLnNldENyZWF0ZWRFbmQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDksIHZhbHVlKTsKfTsKLyoqCiAqIExpc3Qgb2YgcmVwZWF0ZWQgZmllbGRzIHdpdGhpbiB0aGlzIG1lc3NhZ2UgdHlwZS4KICogQHByaXZhdGUgeyFBcnJheTxudW1iZXI+fQogKiBAY29uc3QKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18gPSBbMV07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHl9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcmVjb3Jkc0xpc3Q6IGpzcGIuTWVzc2FnZS50b09iamVjdExpc3QobXNnLmdldFJlY29yZHNMaXN0KCksIHVzZXJ0eXBlX3BiLlBheVJlY29yZC50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKSwKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgdG90YWxQYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB0b3RhbENvdW50OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSBuZXcgdXNlcnR5cGVfcGIuUGF5UmVjb3JkKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCB1c2VydHlwZV9wYi5QYXlSZWNvcmQuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTsKICAgICAgICBtc2cuYWRkUmVjb3Jkcyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZU5vKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlU2l6ZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VG90YWxQYWdlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbENvdW50KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRSZWNvcmRzTGlzdCgpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVSZXBlYXRlZE1lc3NhZ2UoMSwgZiwgdXNlcnR5cGVfcGIuUGF5UmVjb3JkLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFRvdGFsUGFnZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxDb3VudCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDUsIGYpOwogIH0KfTsKLyoqCiAqIHJlcGVhdGVkIHBiLlBheVJlY29yZCByZWNvcmRzID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5QYXlSZWNvcmQ+fQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5LnByb3RvdHlwZS5nZXRSZWNvcmRzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIHVzZXJ0eXBlX3BiLlBheVJlY29yZCwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuUGF5UmVjb3JkPn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLnNldFJlY29yZHNMaXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5QYXlSZWNvcmQ9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLlBheVJlY29yZH0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5wcm90b3R5cGUuYWRkUmVjb3JkcyA9IGZ1bmN0aW9uIChvcHRfdmFsdWUsIG9wdF9pbmRleCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYWRkVG9SZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCBvcHRfdmFsdWUsIHByb3RvLnBiLlBheVJlY29yZCwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLmNsZWFyUmVjb3Jkc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0UmVjb3Jkc0xpc3QoW10pOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VObyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdG90YWxfcGFnZSA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLnNldFRvdGFsUGFnZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX2NvdW50ID0gNTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUGF5TGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlBheUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5QYXlMaXN0UmVwbHkucHJvdG90eXBlLnNldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3QudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAwKSwKICAgICAgYXJlYUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICBlbmFibGU6IGpzcGIuTWVzc2FnZS5nZXRCb29sZWFuRmllbGRXaXRoRGVmYXVsdChtc2csIDQsIGZhbHNlKSwKICAgICAgcm9ib3RJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRCb29sKCk7CiAgICAgICAgbXNnLnNldEVuYWJsZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Um9ib3RJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigyLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEFyZWFJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0RW5hYmxlKCk7CgogIGlmIChmKSB7CiAgICB3cml0ZXIud3JpdGVCb29sKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0Um9ib3RJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDUsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFyZWFfaWQgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRBcmVhSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBcmVhSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIGJvb2wgZW5hYmxlID0gNDsKICogQHJldHVybiB7Ym9vbGVhbn0KICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEVuYWJsZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEJvb2xlYW5GaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDQsIGZhbHNlKTsKfTsKLyoqCiAqIEBwYXJhbSB7Ym9vbGVhbn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEVuYWJsZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zQm9vbGVhbkZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiByb2JvdF9pZCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFJvYm90SWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRSb2JvdElkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07Ci8qKgogKiBMaXN0IG9mIHJlcGVhdGVkIGZpZWxkcyB3aXRoaW4gdGhpcyBtZXNzYWdlIHR5cGUuCiAqIEBwcml2YXRlIHshQXJyYXk8bnVtYmVyPn0KICogQGNvbnN0CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5yZXBlYXRlZEZpZWxkc18gPSBbMV07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHl9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICByb2JvdHNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRSb2JvdHNMaXN0KCksIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKSwKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgdG90YWxQYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB0b3RhbENvdW50OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBhbmNob3J0eXBlX3BiLkFuY2hvclByb2ZpbGUoKTsKICAgICAgICByZWFkZXIucmVhZE1lc3NhZ2UodmFsdWUsIGFuY2hvcnR5cGVfcGIuQW5jaG9yUHJvZmlsZS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpOwogICAgICAgIG1zZy5hZGRSb2JvdHModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsUGFnZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VG90YWxDb3VudCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRSb2JvdHNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCBhbmNob3J0eXBlX3BiLkFuY2hvclByb2ZpbGUuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxQYWdlKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUb3RhbENvdW50KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuQW5jaG9yUHJvZmlsZSByb2JvdHMgPSAxOwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLkFuY2hvclByb2ZpbGU+fQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkucHJvdG90eXBlLmdldFJvYm90c0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCBhbmNob3J0eXBlX3BiLkFuY2hvclByb2ZpbGUsIDEpOwp9OwovKioKICogQHBhcmFtIHshQXJyYXk8IXByb3RvLnBiLkFuY2hvclByb2ZpbGU+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkucHJvdG90eXBlLnNldFJvYm90c0xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkFuY2hvclByb2ZpbGU9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLkFuY2hvclByb2ZpbGV9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5wcm90b3R5cGUuYWRkUm9ib3RzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuQW5jaG9yUHJvZmlsZSwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5LnByb3RvdHlwZS5jbGVhclJvYm90c0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0Um9ib3RzTGlzdChbXSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9ubyA9IDI7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkucHJvdG90eXBlLnNldFBhZ2VObyA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfc2l6ZSA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlJvYm90TGlzdFJlcGx5LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZVNpemUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9wYWdlID0gNDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RMaXN0UmVwbHkucHJvdG90eXBlLmdldFRvdGFsUGFnZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5wcm90b3R5cGUuc2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA0LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdG90YWxfY291bnQgPSA1OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxDb3VudCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdExpc3RSZXBseS5wcm90b3R5cGUuc2V0VG90YWxDb3VudCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcm9ib3RJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRSb2JvdElkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldFJvYm90SWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcm9ib3RfaWQgPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Um9ib3RJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Um9ib3RJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXyA9IFsxXTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseX0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBtZXNzYWdlc0xpc3Q6IGpzcGIuTWVzc2FnZS50b09iamVjdExpc3QobXNnLmdldE1lc3NhZ2VzTGlzdCgpLCBjbXN0eXBlX3BiLlJvYm90TWVzc2FnZS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseSgpOwogIHJldHVybiBwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gbmV3IGNtc3R5cGVfcGIuUm9ib3RNZXNzYWdlKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCBjbXN0eXBlX3BiLlJvYm90TWVzc2FnZS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpOwogICAgICAgIG1zZy5hZGRNZXNzYWdlcyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0TWVzc2FnZXNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCBjbXN0eXBlX3BiLlJvYm90TWVzc2FnZS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuUm9ib3RNZXNzYWdlIG1lc3NhZ2VzID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5Sb2JvdE1lc3NhZ2U+fQogKi8KCgpwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRNZXNzYWdlc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCBjbXN0eXBlX3BiLlJvYm90TWVzc2FnZSwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuUm9ib3RNZXNzYWdlPn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLnNldE1lc3NhZ2VzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuUm9ib3RNZXNzYWdlPX0gb3B0X3ZhbHVlCiAqIEBwYXJhbSB7bnVtYmVyPX0gb3B0X2luZGV4CiAqIEByZXR1cm4geyFwcm90by5wYi5Sb2JvdE1lc3NhZ2V9CiAqLwoKCnByb3RvLnBiLmNtcy5Sb2JvdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmFkZE1lc3NhZ2VzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuUm9ib3RNZXNzYWdlLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuUm9ib3RNZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlJvYm90TWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJNZXNzYWdlc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0TWVzc2FnZXNMaXN0KFtdKTsKfTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdH0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGVudGl0eVR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIGVudGl0eUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkRW51bSgpOwogICAgICAgIG1zZy5zZXRFbnRpdHlUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRFbnRpdHlJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRFbnRpdHlUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRFbnRpdHlJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHBiLkVudGl0eVR5cGUgZW50aXR5X3R5cGUgPSAxOwogKiBAcmV0dXJuIHshcHJvdG8ucGIuRW50aXR5VHlwZX0KICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRFbnRpdHlUeXBlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkVudGl0eVR5cGV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEVudGl0eVR5cGUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgZW50aXR5X2lkID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEVudGl0eUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRFbnRpdHlJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXyA9IFsxXTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseX0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBtb21lbnRzTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0TW9tZW50c0xpc3QoKSwgdXNlcnR5cGVfcGIuTW9tZW50LnRvT2JqZWN0LCBpbmNsdWRlSW5zdGFuY2UpCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSBuZXcgdXNlcnR5cGVfcGIuTW9tZW50KCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCB1c2VydHlwZV9wYi5Nb21lbnQuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTsKICAgICAgICBtc2cuYWRkTW9tZW50cyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0TW9tZW50c0xpc3QoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlUmVwZWF0ZWRNZXNzYWdlKDEsIGYsIHVzZXJ0eXBlX3BiLk1vbWVudC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuTW9tZW50IG1vbWVudHMgPSAxOwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLk1vbWVudD59CiAqLwoKCnByb3RvLnBiLmNtcy5Nb21lbnRMaXN0UmVwbHkucHJvdG90eXBlLmdldE1vbWVudHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgdXNlcnR5cGVfcGIuTW9tZW50LCAxKTsKfTsKLyoqCiAqIEBwYXJhbSB7IUFycmF5PCFwcm90by5wYi5Nb21lbnQ+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseS5wcm90b3R5cGUuc2V0TW9tZW50c0xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLk1vbWVudD19IG9wdF92YWx1ZQogKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleAogKiBAcmV0dXJuIHshcHJvdG8ucGIuTW9tZW50fQogKi8KCgpwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5LnByb3RvdHlwZS5hZGRNb21lbnRzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuTW9tZW50LCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuTW9tZW50TGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLk1vbWVudExpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJNb21lbnRzTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5zZXRNb21lbnRzTGlzdChbXSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgZW5hYmxlOiBqc3BiLk1lc3NhZ2UuZ2V0Qm9vbGVhbkZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCBmYWxzZSksCiAgICAgIGFjdGlvbjoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VObyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZVNpemUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRCb29sKCk7CiAgICAgICAgbXNnLnNldEVuYWJsZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldEFjdGlvbih2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigyLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEFyZWFJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0RW5hYmxlKCk7CgogIGlmIChmKSB7CiAgICB3cml0ZXIud3JpdGVCb29sKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QWN0aW9uKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFyZWFJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgYm9vbCBlbmFibGUgPSA0OwogKiBAcmV0dXJuIHtib29sZWFufQogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0RW5hYmxlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0Qm9vbGVhbkZpZWxkV2l0aERlZmF1bHQodGhpcywgNCwgZmFsc2UpOwp9OwovKioKICogQHBhcmFtIHtib29sZWFufSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0RW5hYmxlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNCb29sZWFuRmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuQWN0aW9uVHlwZSBhY3Rpb24gPSA1OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuQWN0aW9uVHlwZX0KICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5BY3Rpb25UeXBlfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0QWN0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzFdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgbWVzc2FnZXNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRNZXNzYWdlc0xpc3QoKSwgY21zdHlwZV9wYi5BdXRvTWVzc2FnZS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKSwKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgdG90YWxQYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB0b3RhbENvdW50OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBjbXN0eXBlX3BiLkF1dG9NZXNzYWdlKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCBjbXN0eXBlX3BiLkF1dG9NZXNzYWdlLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZE1lc3NhZ2VzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbFBhZ2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsQ291bnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0TWVzc2FnZXNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCBjbXN0eXBlX3BiLkF1dG9NZXNzYWdlLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFRvdGFsUGFnZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxDb3VudCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDUsIGYpOwogIH0KfTsKLyoqCiAqIHJlcGVhdGVkIHBiLkF1dG9NZXNzYWdlIG1lc3NhZ2VzID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5BdXRvTWVzc2FnZT59CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0TWVzc2FnZXNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgY21zdHlwZV9wYi5BdXRvTWVzc2FnZSwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQXV0b01lc3NhZ2U+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLnNldE1lc3NhZ2VzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQXV0b01lc3NhZ2U9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLkF1dG9NZXNzYWdlfQogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmFkZE1lc3NhZ2VzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuQXV0b01lc3NhZ2UsIG9wdF9pbmRleCk7Cn07Ci8qKgogKiBDbGVhcnMgdGhlIGxpc3QgbWFraW5nIGl0IGVtcHR5IGJ1dCBub24tbnVsbC4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJNZXNzYWdlc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0TWVzc2FnZXNMaXN0KFtdKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VObyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQXV0b01lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX3BhZ2UgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BdXRvTWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9jb3VudCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkF1dG9NZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgYXBwSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNCwgMCksCiAgICAgIHVzZXJJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAwKSwKICAgICAgYW5jaG9ySWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNiwgMCksCiAgICAgIGRpcmVjdGlvbjoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA3LCAwKSwKICAgICAgdHlwZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA4LCAwKSwKICAgICAga2V5d29yZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA5LCAiIiksCiAgICAgIGNyZWF0ZWRTdGFydDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxMCwgMCksCiAgICAgIGNyZWF0ZWRFbmQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMTEsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZU5vKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlU2l6ZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QXJlYUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBcHBJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VXNlcklkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBbmNob3JJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDc6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldERpcmVjdGlvbih2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDg6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldFR5cGUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA5OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkU3RyaW5nKCk7CiAgICAgICAgbXNnLnNldEtleXdvcmQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAxMDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRDcmVhdGVkU3RhcnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAxMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRDcmVhdGVkRW5kKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcHBJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VXNlcklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBbmNob3JJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDYsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0RGlyZWN0aW9uKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oOCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRLZXl3b3JkKCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVN0cmluZyg5LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRTdGFydCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEwLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldENyZWF0ZWRFbmQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxMSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFyZWFJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFwcF9pZCA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFwcElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0QXBwSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB1c2VyX2lkID0gNTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0VXNlcklkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYW5jaG9yX2lkID0gNjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QW5jaG9ySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDYsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBbmNob3JJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuTWVzc2FnZURpcmVjdGlvbiBkaXJlY3Rpb24gPSA3OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuTWVzc2FnZURpcmVjdGlvbn0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldERpcmVjdGlvbiA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNywgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5NZXNzYWdlRGlyZWN0aW9ufSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0RGlyZWN0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuTWVzc2FnZVR5cGUgdHlwZSA9IDg7CiAqIEByZXR1cm4geyFwcm90by5wYi5NZXNzYWdlVHlwZX0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFR5cGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDgsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuTWVzc2FnZVR5cGV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRUeXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgOCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgc3RyaW5nIGtleXdvcmQgPSA5OwogKiBAcmV0dXJuIHtzdHJpbmd9CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRLZXl3b3JkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA5LCAiIik7Cn07Ci8qKgogKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEtleXdvcmQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM1N0cmluZ0ZpZWxkKHRoaXMsIDksIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBjcmVhdGVkX3N0YXJ0ID0gMTA7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldENyZWF0ZWRTdGFydCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMTAsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkU3RhcnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEwLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9lbmQgPSAxMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q3JlYXRlZEVuZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMTEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxMSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzFdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgbWVzc2FnZXNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRNZXNzYWdlc0xpc3QoKSwgY21zdHlwZV9wYi5DaGF0TWVzc2FnZS50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKSwKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgdG90YWxQYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB0b3RhbENvdW50OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBjbXN0eXBlX3BiLkNoYXRNZXNzYWdlKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCBjbXN0eXBlX3BiLkNoYXRNZXNzYWdlLmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcik7CiAgICAgICAgbXNnLmFkZE1lc3NhZ2VzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbFBhZ2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsQ291bnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0TWVzc2FnZXNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCBjbXN0eXBlX3BiLkNoYXRNZXNzYWdlLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFRvdGFsUGFnZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxDb3VudCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDUsIGYpOwogIH0KfTsKLyoqCiAqIHJlcGVhdGVkIHBiLkNoYXRNZXNzYWdlIG1lc3NhZ2VzID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5DaGF0TWVzc2FnZT59CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0TWVzc2FnZXNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgY21zdHlwZV9wYi5DaGF0TWVzc2FnZSwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQ2hhdE1lc3NhZ2U+fSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLnNldE1lc3NhZ2VzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQ2hhdE1lc3NhZ2U9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLkNoYXRNZXNzYWdlfQogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmFkZE1lc3NhZ2VzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuQ2hhdE1lc3NhZ2UsIG9wdF9pbmRleCk7Cn07Ci8qKgogKiBDbGVhcnMgdGhlIGxpc3QgbWFraW5nIGl0IGVtcHR5IGJ1dCBub24tbnVsbC4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJNZXNzYWdlc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0TWVzc2FnZXNMaXN0KFtdKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VObyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2hhdE1lc3NhZ2VMaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX3BhZ2UgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DaGF0TWVzc2FnZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9jb3VudCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNoYXRNZXNzYWdlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAwKSwKICAgICAgYXJlYUlkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICBhcHBJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgdXNlcklkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApLAogICAgICBhbmNob3JJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA2LCAwKSwKICAgICAgY2FsbFR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNywgMCksCiAgICAgIGhhbmdUeXBlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDgsIDApLAogICAgICBzdGF0dXM6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgOSwgMCksCiAgICAgIG1pbkR1cmF0aW9uOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEwLCAwKSwKICAgICAgbWF4RHVyYXRpb246IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMTEsIDApLAogICAgICBjcmVhdGVkU3RhcnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMTIsIDApLAogICAgICBjcmVhdGVkRW5kOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEzLCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZU5vKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlU2l6ZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QXJlYUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBcHBJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDU6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VXNlcklkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBbmNob3JJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDc6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRFbnVtKCk7CiAgICAgICAgbXNnLnNldENhbGxUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgODoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0SGFuZ1R5cGUodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA5OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkRW51bSgpOwogICAgICAgIG1zZy5zZXRTdGF0dXModmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAxMDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRNaW5EdXJhdGlvbih2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDExOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldE1heER1cmF0aW9uKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZFN0YXJ0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMTM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0Q3JlYXRlZEVuZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcHBJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VXNlcklkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBbmNob3JJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDYsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0Q2FsbFR5cGUoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSg3LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEhhbmdUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oOCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRTdGF0dXMoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSg5LCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldE1pbkR1cmF0aW9uKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMTAsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0TWF4RHVyYXRpb24oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRDcmVhdGVkU3RhcnQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRDcmVhdGVkRW5kKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMTMsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFyZWFfaWQgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFyZWFJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRBcmVhSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhcHBfaWQgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFwcElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFwcElkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA0LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdXNlcl9pZCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0VXNlcklkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFVzZXJJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFuY2hvcl9pZCA9IDY7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QW5jaG9ySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDYsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0QW5jaG9ySWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDYsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHBiLkNhbGxUeXBlIGNhbGxfdHlwZSA9IDc7CiAqIEByZXR1cm4geyFwcm90by5wYi5DYWxsVHlwZX0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q2FsbFR5cGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDcsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQ2FsbFR5cGV9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q2FsbFR5cGUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCA3LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBwYi5IYW5nVHlwZSBoYW5nX3R5cGUgPSA4OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuSGFuZ1R5cGV9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEhhbmdUeXBlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA4LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkhhbmdUeXBlfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEhhbmdUeXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgOCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuQ2FsbFN0YXR1cyBzdGF0dXMgPSA5OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuQ2FsbFN0YXR1c30KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0U3RhdHVzID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA5LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkNhbGxTdGF0dXN9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgOSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIG1pbl9kdXJhdGlvbiA9IDEwOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldE1pbkR1cmF0aW9uID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxMCwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRNaW5EdXJhdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMTAsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBtYXhfZHVyYXRpb24gPSAxMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRNYXhEdXJhdGlvbiA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMTEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0TWF4RHVyYXRpb24gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDExLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9zdGFydCA9IDEyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldENyZWF0ZWRTdGFydCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMTIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q3JlYXRlZFN0YXJ0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGNyZWF0ZWRfZW5kID0gMTM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q3JlYXRlZEVuZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMTMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q3JlYXRlZEVuZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMTMsIHZhbHVlKTsKfTsKLyoqCiAqIExpc3Qgb2YgcmVwZWF0ZWQgZmllbGRzIHdpdGhpbiB0aGlzIG1lc3NhZ2UgdHlwZS4KICogQHByaXZhdGUgeyFBcnJheTxudW1iZXI+fQogKiBAY29uc3QKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzFdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBjYWxsc0xpc3Q6IGpzcGIuTWVzc2FnZS50b09iamVjdExpc3QobXNnLmdldENhbGxzTGlzdCgpLCB1c2VydHlwZV9wYi5DYWxsUmVjb3JkLnRvT2JqZWN0LCBpbmNsdWRlSW5zdGFuY2UpLAogICAgICBwYWdlTm86IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIHBhZ2VTaXplOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICB0b3RhbFBhZ2U6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNCwgMCksCiAgICAgIHRvdGFsQ291bnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSBuZXcgdXNlcnR5cGVfcGIuQ2FsbFJlY29yZCgpOwogICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZSh2YWx1ZSwgdXNlcnR5cGVfcGIuQ2FsbFJlY29yZC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpOwogICAgICAgIG1zZy5hZGRDYWxscyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0UGFnZU5vKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlU2l6ZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VG90YWxQYWdlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbENvdW50KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseX0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0Q2FsbHNMaXN0KCk7CgogIGlmIChmLmxlbmd0aCA+IDApIHsKICAgIHdyaXRlci53cml0ZVJlcGVhdGVkTWVzc2FnZSgxLCBmLCB1c2VydHlwZV9wYi5DYWxsUmVjb3JkLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VObygpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZVNpemUoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFRvdGFsUGFnZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDQsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxDb3VudCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDUsIGYpOwogIH0KfTsKLyoqCiAqIHJlcGVhdGVkIHBiLkNhbGxSZWNvcmQgY2FsbHMgPSAxOwogKiBAcmV0dXJuIHshQXJyYXk8IXByb3RvLnBiLkNhbGxSZWNvcmQ+fQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5wcm90b3R5cGUuZ2V0Q2FsbHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgdXNlcnR5cGVfcGIuQ2FsbFJlY29yZCwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuQ2FsbFJlY29yZD59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkucHJvdG90eXBlLnNldENhbGxzTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuQ2FsbFJlY29yZD19IG9wdF92YWx1ZQogKiBAcGFyYW0ge251bWJlcj19IG9wdF9pbmRleAogKiBAcmV0dXJuIHshcHJvdG8ucGIuQ2FsbFJlY29yZH0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkucHJvdG90eXBlLmFkZENhbGxzID0gZnVuY3Rpb24gKG9wdF92YWx1ZSwgb3B0X2luZGV4KSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5hZGRUb1JlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIDEsIG9wdF92YWx1ZSwgcHJvdG8ucGIuQ2FsbFJlY29yZCwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5wcm90b3R5cGUuY2xlYXJDYWxsc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0Q2FsbHNMaXN0KFtdKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZU5vID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAyLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseS5wcm90b3R5cGUuZ2V0UGFnZVNpemUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX3BhZ2UgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDQsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9jb3VudCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLkNhbGxMaXN0UmVwbHkucHJvdG90eXBlLmdldFRvdGFsQ291bnQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ2FsbExpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DYWxsTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIHBhZ2VObzoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgcGFnZVNpemU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgYXBwSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNCwgMCksCiAgICAgIHRyYWRlclR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgNSwgMCksCiAgICAgIHRyYWRlcklkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDYsIDApLAogICAgICBzb3VyY2VUeXBlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDcsIDApLAogICAgICBjcmVhdGVkU3RhcnQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgOCwgMCksCiAgICAgIGNyZWF0ZWRFbmQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgOSwgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBcmVhSWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFwcElkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0VHJhZGVyVHlwZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDY6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0VHJhZGVySWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA3OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkRW51bSgpOwogICAgICAgIG1zZy5zZXRTb3VyY2VUeXBlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgODoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRDcmVhdGVkU3RhcnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA5OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldENyZWF0ZWRFbmQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRQYWdlTm8oKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFBhZ2VTaXplKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcmVhSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldEFwcElkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUcmFkZXJUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oNSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUcmFkZXJJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDYsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0U291cmNlVHlwZSgpOwoKICBpZiAoZiAhPT0gMC4wKSB7CiAgICB3cml0ZXIud3JpdGVFbnVtKDcsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0Q3JlYXRlZFN0YXJ0KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoOCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRDcmVhdGVkRW5kKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoOSwgZik7CiAgfQp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHBhZ2Vfbm8gPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlTm8gPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRQYWdlTm8gPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDEsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX3NpemUgPSAyOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFBhZ2VTaXplID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDM7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFyZWFJZCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFwcF9pZCA9IDQ7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEFwcElkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0QXBwSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHBiLkVudGl0eVR5cGUgdHJhZGVyX3R5cGUgPSA1OwogKiBAcmV0dXJuIHshcHJvdG8ucGIuRW50aXR5VHlwZX0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFRyYWRlclR5cGUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDUsIDApOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuRW50aXR5VHlwZX0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldFRyYWRlclR5cGUgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0VudW1GaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgdHJhZGVyX2lkID0gNjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0VHJhZGVySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDYsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRUcmFkZXJJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuRW50aXR5VHlwZSBzb3VyY2VfdHlwZSA9IDc7CiAqIEByZXR1cm4geyFwcm90by5wYi5FbnRpdHlUeXBlfQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0U291cmNlVHlwZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgNywgMCk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5FbnRpdHlUeXBlfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0U291cmNlVHlwZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zRW51bUZpZWxkKHRoaXMsIDcsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBjcmVhdGVkX3N0YXJ0ID0gODsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0Q3JlYXRlZFN0YXJ0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA4LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q3JlYXRlZFN0YXJ0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA4LCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgY3JlYXRlZF9lbmQgPSA5OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRDcmVhdGVkRW5kID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA5LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0Q3JlYXRlZEVuZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgOSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkucmVwZWF0ZWRGaWVsZHNfID0gWzFdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgdHJhbnNhY3Rpb25zTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0VHJhbnNhY3Rpb25zTGlzdCgpLCB1c2VydHlwZV9wYi5UcmFuc2FjdGlvbi50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKSwKICAgICAgcGFnZU5vOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDIsIDApLAogICAgICBwYWdlU2l6ZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAzLCAwKSwKICAgICAgdG90YWxQYWdlOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDQsIDApLAogICAgICB0b3RhbENvdW50OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHl9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseX0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyB1c2VydHlwZV9wYi5UcmFuc2FjdGlvbigpOwogICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZSh2YWx1ZSwgdXNlcnR5cGVfcGIuVHJhbnNhY3Rpb24uZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTsKICAgICAgICBtc2cuYWRkVHJhbnNhY3Rpb25zKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMjoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRQYWdlTm8odmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAzOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFBhZ2VTaXplKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNDoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRUb3RhbFBhZ2UodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA1OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFRvdGFsQ291bnQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5fSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0VHJhbnNhY3Rpb25zTGlzdCgpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVSZXBlYXRlZE1lc3NhZ2UoMSwgZiwgdXNlcnR5cGVfcGIuVHJhbnNhY3Rpb24uc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0UGFnZU5vKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRQYWdlU2l6ZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0VG90YWxQYWdlKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUb3RhbENvdW50KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNSwgZik7CiAgfQp9OwovKioKICogcmVwZWF0ZWQgcGIuVHJhbnNhY3Rpb24gdHJhbnNhY3Rpb25zID0gMTsKICogQHJldHVybiB7IUFycmF5PCFwcm90by5wYi5UcmFuc2FjdGlvbj59CiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VHJhbnNhY3Rpb25zTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldFJlcGVhdGVkV3JhcHBlckZpZWxkKHRoaXMsIHVzZXJ0eXBlX3BiLlRyYW5zYWN0aW9uLCAxKTsKfTsKLyoqCiAqIEBwYXJhbSB7IUFycmF5PCFwcm90by5wYi5UcmFuc2FjdGlvbj59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2V0VHJhbnNhY3Rpb25zTGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogQHBhcmFtIHshcHJvdG8ucGIuVHJhbnNhY3Rpb249fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLlRyYW5zYWN0aW9ufQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkucHJvdG90eXBlLmFkZFRyYW5zYWN0aW9ucyA9IGZ1bmN0aW9uIChvcHRfdmFsdWUsIG9wdF9pbmRleCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYWRkVG9SZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCBvcHRfdmFsdWUsIHByb3RvLnBiLlRyYW5zYWN0aW9uLCBvcHRfaW5kZXgpOwp9OwovKioKICogQ2xlYXJzIHRoZSBsaXN0IG1ha2luZyBpdCBlbXB0eSBidXQgbm9uLW51bGwuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHl9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkucHJvdG90eXBlLmNsZWFyVHJhbnNhY3Rpb25zTGlzdCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4gdGhpcy5zZXRUcmFuc2FjdGlvbnNMaXN0KFtdKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBwYWdlX25vID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VObyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMiwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuc2V0UGFnZU5vID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcGFnZV9zaXplID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuVHJhbnNhY3Rpb25MaXN0UmVwbHkucHJvdG90eXBlLmdldFBhZ2VTaXplID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRQYWdlU2l6ZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIHRvdGFsX3BhZ2UgPSA0OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5UcmFuc2FjdGlvbkxpc3RSZXBseS5wcm90b3R5cGUuZ2V0VG90YWxQYWdlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbFBhZ2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDQsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiB0b3RhbF9jb3VudCA9IDU7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5nZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlRyYW5zYWN0aW9uTGlzdFJlcGx5LnByb3RvdHlwZS5zZXRUb3RhbENvdW50ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCA1LCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKSwKICAgICAgc2V0dGxlQXQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIG1pbkJhbGFuY2U6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0fQogKi8KCgpwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBcmVhSWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFNldHRsZUF0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRNaW5CYWxhbmNlKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRTZXR0bGVBdCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0TWluQmFsYW5jZSgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDMsIGYpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhcmVhX2lkID0gMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5wcm90b3R5cGUuc2V0QXJlYUlkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgc2V0dGxlX2F0ID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0U2V0dGxlQXQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0LnByb3RvdHlwZS5zZXRTZXR0bGVBdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIG1pbl9iYWxhbmNlID0gMzsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQ3JlYXRlU2V0dGxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0TWluQmFsYW5jZSA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMywgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5DcmVhdGVTZXR0bGVSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkNyZWF0ZVNldHRsZVJlcXVlc3QucHJvdG90eXBlLnNldE1pbkJhbGFuY2UgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDMsIHZhbHVlKTsKfTsKLyoqCiAqIExpc3Qgb2YgcmVwZWF0ZWQgZmllbGRzIHdpdGhpbiB0aGlzIG1lc3NhZ2UgdHlwZS4KICogQHByaXZhdGUgeyFBcnJheTxudW1iZXI+fQogKiBAY29uc3QKICovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QucmVwZWF0ZWRGaWVsZHNfID0gWzJdOwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdC50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdC50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBhcmVhSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIHJlY29yZHNMaXN0OiBqc3BiLk1lc3NhZ2UudG9PYmplY3RMaXN0KG1zZy5nZXRSZWNvcmRzTGlzdCgpLCBhbmNob3J0eXBlX3BiLlNldHRsZVJlY29yZC50b09iamVjdCwgaW5jbHVkZUluc3RhbmNlKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdH0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gbmV3IGFuY2hvcnR5cGVfcGIuU2V0dGxlUmVjb3JkKCk7CiAgICAgICAgcmVhZGVyLnJlYWRNZXNzYWdlKHZhbHVlLCBhbmNob3J0eXBlX3BiLlNldHRsZVJlY29yZC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIpOwogICAgICAgIG1zZy5hZGRSZWNvcmRzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0QXJlYUlkKCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRSZWNvcmRzTGlzdCgpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVSZXBlYXRlZE1lc3NhZ2UoMiwgZiwgYW5jaG9ydHlwZV9wYi5TZXR0bGVSZWNvcmQuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIpOwogIH0KfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhcmVhX2lkID0gMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdC5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdC5wcm90b3R5cGUuc2V0QXJlYUlkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiByZXBlYXRlZCBwYi5TZXR0bGVSZWNvcmQgcmVjb3JkcyA9IDI7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuU2V0dGxlUmVjb3JkPn0KICovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QucHJvdG90eXBlLmdldFJlY29yZHNMaXN0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0UmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgYW5jaG9ydHlwZV9wYi5TZXR0bGVSZWNvcmQsIDIpOwp9OwovKioKICogQHBhcmFtIHshQXJyYXk8IXByb3RvLnBiLlNldHRsZVJlY29yZD59IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuU3VibWl0U2V0dGxlUmVxdWVzdH0gcmV0dXJucyB0aGlzCiovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QucHJvdG90eXBlLnNldFJlY29yZHNMaXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAyLCB2YWx1ZSk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5TZXR0bGVSZWNvcmQ9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLlNldHRsZVJlY29yZH0KICovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QucHJvdG90eXBlLmFkZFJlY29yZHMgPSBmdW5jdGlvbiAob3B0X3ZhbHVlLCBvcHRfaW5kZXgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmFkZFRvUmVwZWF0ZWRXcmFwcGVyRmllbGQodGhpcywgMiwgb3B0X3ZhbHVlLCBwcm90by5wYi5TZXR0bGVSZWNvcmQsIG9wdF9pbmRleCk7Cn07Ci8qKgogKiBDbGVhcnMgdGhlIGxpc3QgbWFraW5nIGl0IGVtcHR5IGJ1dCBub24tbnVsbC4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TdWJtaXRTZXR0bGVSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlN1Ym1pdFNldHRsZVJlcXVlc3QucHJvdG90eXBlLmNsZWFyUmVjb3Jkc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0UmVjb3Jkc0xpc3QoW10pOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdC5wcm90b3R5cGUudG9PYmplY3QgPSBmdW5jdGlvbiAob3B0X2luY2x1ZGVJbnN0YW5jZSkgewogICAgcmV0dXJuIHByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3QudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXF1ZXN0fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXF1ZXN0LnRvT2JqZWN0ID0gZnVuY3Rpb24gKGluY2x1ZGVJbnN0YW5jZSwgbXNnKSB7CiAgICB2YXIgZiwKICAgICAgICBvYmogPSB7CiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdCgpOwogIHJldHVybiBwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlcihtc2csIHJlYWRlcik7Cn07Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KSBmcm9tIHRoZQogKiBnaXZlbiByZWFkZXIgaW50byB0aGUgZ2l2ZW4gbWVzc2FnZSBvYmplY3QuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3QuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyID0gZnVuY3Rpb24gKG1zZywgcmVhZGVyKSB7CiAgd2hpbGUgKHJlYWRlci5uZXh0RmllbGQoKSkgewogICAgaWYgKHJlYWRlci5pc0VuZEdyb3VwKCkpIHsKICAgICAgYnJlYWs7CiAgICB9CgogICAgdmFyIGZpZWxkID0gcmVhZGVyLmdldEZpZWxkTnVtYmVyKCk7CgogICAgc3dpdGNoIChmaWVsZCkgewogICAgICBjYXNlIDE6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QXJlYUlkKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3QucHJvdG90eXBlLnNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uICgpIHsKICB2YXIgd3JpdGVyID0gbmV3IGpzcGIuQmluYXJ5V3JpdGVyKCk7CiAgcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdC5zZXJpYWxpemVCaW5hcnlUb1dyaXRlciA9IGZ1bmN0aW9uIChtZXNzYWdlLCB3cml0ZXIpIHsKICB2YXIgZiA9IHVuZGVmaW5lZDsKICBmID0gbWVzc2FnZS5nZXRBcmVhSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdC5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAxLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseS50b09iamVjdChvcHRfaW5jbHVkZUluc3RhbmNlLCB0aGlzKTsKICB9OwogIC8qKgogICAqIFN0YXRpYyB2ZXJzaW9uIG9mIHRoZSB7QHNlZSB0b09iamVjdH0gbWV0aG9kLgogICAqIEBwYXJhbSB7Ym9vbGVhbnx1bmRlZmluZWR9IGluY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiBXaGV0aGVyIHRvIGluY2x1ZGUKICAgKiAgICAgdGhlIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5fSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBwcm9ncmVzczoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAxLCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LmRlc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKGJ5dGVzKSB7CiAgdmFyIHJlYWRlciA9IG5ldyBqc3BiLkJpbmFyeVJlYWRlcihieXRlcyk7CiAgdmFyIG1zZyA9IG5ldyBwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseSgpOwogIHJldHVybiBwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseX0gbXNnIFRoZSBtZXNzYWdlIG9iamVjdCB0byBkZXNlcmlhbGl6ZSBpbnRvLgogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVJlYWRlcn0gcmVhZGVyIFRoZSBCaW5hcnlSZWFkZXIgdG8gdXNlLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFByb2dyZXNzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKHRoaXMsIHdyaXRlcik7CiAgcmV0dXJuIHdyaXRlci5nZXRSZXN1bHRCdWZmZXIoKTsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIGdpdmVuIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUKICogZm9ybWF0KSwgd3JpdGluZyB0byB0aGUgZ2l2ZW4gQmluYXJ5V3JpdGVyLgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU2V0dGxlUHJvZ3Jlc3NSZXBseX0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UHJvZ3Jlc3MoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigxLCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgcHJvZ3Jlc3MgPSAxOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5LnByb3RvdHlwZS5nZXRQcm9ncmVzcyA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TZXR0bGVQcm9ncmVzc1JlcGx5fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlNldHRsZVByb2dyZXNzUmVwbHkucHJvdG90eXBlLnNldFByb2dyZXNzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07CgppZiAoanNwYi5NZXNzYWdlLkdFTkVSQVRFX1RPX09CSkVDVCkgewogIC8qKgogICAqIENyZWF0ZXMgYW4gb2JqZWN0IHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcHJvdG8uCiAgICogRmllbGQgbmFtZXMgdGhhdCBhcmUgcmVzZXJ2ZWQgaW4gSmF2YVNjcmlwdCBhbmQgd2lsbCBiZSByZW5hbWVkIHRvIHBiX25hbWUuCiAgICogT3B0aW9uYWwgZmllbGRzIHRoYXQgYXJlIG5vdCBzZXQgd2lsbCBiZSBzZXQgdG8gdW5kZWZpbmVkLgogICAqIFRvIGFjY2VzcyBhIHJlc2VydmVkIGZpZWxkIHVzZSwgZm9vLnBiXzxuYW1lPiwgZWcsIGZvby5wYl9kZWZhdWx0LgogICAqIEZvciB0aGUgbGlzdCBvZiByZXNlcnZlZCBuYW1lcyBwbGVhc2Ugc2VlOgogICAqICAgICBuZXQvcHJvdG8yL2NvbXBpbGVyL2pzL2ludGVybmFsL2dlbmVyYXRvci5jYyNrS2V5d29yZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBvcHRfaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIHdoZXRoZXIgdG8gaW5jbHVkZSB0aGUKICAgKiAgICAgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKi8KICBwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QudG9PYmplY3Qob3B0X2luY2x1ZGVJbnN0YW5jZSwgdGhpcyk7CiAgfTsKICAvKioKICAgKiBTdGF0aWMgdmVyc2lvbiBvZiB0aGUge0BzZWUgdG9PYmplY3R9IG1ldGhvZC4KICAgKiBAcGFyYW0ge2Jvb2xlYW58dW5kZWZpbmVkfSBpbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gV2hldGhlciB0byBpbmNsdWRlCiAgICogICAgIHRoZSBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3R9IG1zZyBUaGUgbXNnIGluc3RhbmNlIHRvIHRyYW5zZm9ybS4KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICAgKi8KCgogIHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICBhcmVhSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMSwgMCksCiAgICAgIGd1aWxkSWQ6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMiwgMCksCiAgICAgIGFuY2hvcklkOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDMsIDApLAogICAgICBzZXR0bGVBdDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA0LCAwKSwKICAgICAgc3RhdHVzOiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDUsIDApCiAgICB9OwoKICAgIGlmIChpbmNsdWRlSW5zdGFuY2UpIHsKICAgICAgb2JqLiRqc3BiTWVzc2FnZUluc3RhbmNlID0gbXNnOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKfQovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEBwYXJhbSB7anNwYi5CeXRlU291cmNlfSBieXRlcyBUaGUgYnl0ZXMgdG8gZGVzZXJpYWxpemUuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3R9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeSA9IGZ1bmN0aW9uIChieXRlcykgewogIHZhciByZWFkZXIgPSBuZXcganNwYi5CaW5hcnlSZWFkZXIoYnl0ZXMpOwogIHZhciBtc2cgPSBuZXcgcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0KCk7CiAgcmV0dXJuIHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3R9IG1zZyBUaGUgbWVzc2FnZSBvYmplY3QgdG8gZGVzZXJpYWxpemUgaW50by4KICogQHBhcmFtIHshanNwYi5CaW5hcnlSZWFkZXJ9IHJlYWRlciBUaGUgQmluYXJ5UmVhZGVyIHRvIHVzZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdH0KICovCgoKcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldEFyZWFJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDI6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0R3VpbGRJZCh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDM6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRVaW50MzIoKTsKICAgICAgICBtc2cuc2V0QW5jaG9ySWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSA0OgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkVWludDMyKCk7CiAgICAgICAgbXNnLnNldFNldHRsZUF0KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0U3RhdHVzKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmVhZGVyLnNraXBGaWVsZCgpOwogICAgICAgIGJyZWFrOwogICAgfQogIH0KCiAgcmV0dXJuIG1zZzsKfTsKLyoqCiAqIFNlcmlhbGl6ZXMgdGhlIG1lc3NhZ2UgdG8gYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2VyaWFsaXplQmluYXJ5ID0gZnVuY3Rpb24gKCkgewogIHZhciB3cml0ZXIgPSBuZXcganNwYi5CaW5hcnlXcml0ZXIoKTsKICBwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3Quc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdH0gbWVzc2FnZQogKiBAcGFyYW0geyFqc3BiLkJpbmFyeVdyaXRlcn0gd3JpdGVyCiAqIEBzdXBwcmVzcyB7dW51c2VkTG9jYWxWYXJpYWJsZXN9IGYgaXMgb25seSB1c2VkIGZvciBuZXN0ZWQgbWVzc2FnZXMKICovCgoKcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0LnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyID0gZnVuY3Rpb24gKG1lc3NhZ2UsIHdyaXRlcikgewogIHZhciBmID0gdW5kZWZpbmVkOwogIGYgPSBtZXNzYWdlLmdldEFyZWFJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDEsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0R3VpbGRJZCgpOwoKICBpZiAoZiAhPT0gMCkgewogICAgd3JpdGVyLndyaXRlVWludDMyKDIsIGYpOwogIH0KCiAgZiA9IG1lc3NhZ2UuZ2V0QW5jaG9ySWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMigzLCBmKTsKICB9CgogIGYgPSBtZXNzYWdlLmdldFNldHRsZUF0KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRTdGF0dXMoKTsKCiAgaWYgKGYgIT09IDAuMCkgewogICAgd3JpdGVyLndyaXRlRW51bSg1LCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgYXJlYV9pZCA9IDE7CiAqIEByZXR1cm4ge251bWJlcn0KICovCgoKcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5nZXRBcmVhSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDEsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFyZWFJZCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgMSwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGd1aWxkX2lkID0gMjsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldEd1aWxkSWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEd1aWxkSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDIsIHZhbHVlKTsKfTsKLyoqCiAqIG9wdGlvbmFsIHVpbnQzMiBhbmNob3JfaWQgPSAzOwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0QW5jaG9ySWQgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDMsIDApOwp9OwovKioKICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3R9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QucHJvdG90eXBlLnNldEFuY2hvcklkID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAzLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgc2V0dGxlX2F0ID0gNDsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcXVlc3QucHJvdG90eXBlLmdldFNldHRsZUF0ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0fSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXF1ZXN0LnByb3RvdHlwZS5zZXRTZXR0bGVBdCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zSW50RmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuU2V0dGxlU3RhdHVzIHN0YXR1cyA9IDU7CiAqIEByZXR1cm4geyFwcm90by5wYi5TZXR0bGVTdGF0dXN9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuZ2V0U3RhdHVzID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLlNldHRsZVN0YXR1c30gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdH0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVxdWVzdC5wcm90b3R5cGUuc2V0U3RhdHVzID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgNSwgdmFsdWUpOwp9OwovKioKICogTGlzdCBvZiByZXBlYXRlZCBmaWVsZHMgd2l0aGluIHRoaXMgbWVzc2FnZSB0eXBlLgogKiBAcHJpdmF0ZSB7IUFycmF5PG51bWJlcj59CiAqIEBjb25zdAogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5LnJlcGVhdGVkRmllbGRzXyA9IFsxXTsKCmlmIChqc3BiLk1lc3NhZ2UuR0VORVJBVEVfVE9fT0JKRUNUKSB7CiAgLyoqCiAgICogQ3JlYXRlcyBhbiBvYmplY3QgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBwcm90by4KICAgKiBGaWVsZCBuYW1lcyB0aGF0IGFyZSByZXNlcnZlZCBpbiBKYXZhU2NyaXB0IGFuZCB3aWxsIGJlIHJlbmFtZWQgdG8gcGJfbmFtZS4KICAgKiBPcHRpb25hbCBmaWVsZHMgdGhhdCBhcmUgbm90IHNldCB3aWxsIGJlIHNldCB0byB1bmRlZmluZWQuCiAgICogVG8gYWNjZXNzIGEgcmVzZXJ2ZWQgZmllbGQgdXNlLCBmb28ucGJfPG5hbWU+LCBlZywgZm9vLnBiX2RlZmF1bHQuCiAgICogRm9yIHRoZSBsaXN0IG9mIHJlc2VydmVkIG5hbWVzIHBsZWFzZSBzZWU6CiAgICogICAgIG5ldC9wcm90bzIvY29tcGlsZXIvanMvaW50ZXJuYWwvZ2VuZXJhdG9yLmNjI2tLZXl3b3JkLgogICAqIEBwYXJhbSB7Ym9vbGVhbj19IG9wdF9pbmNsdWRlSW5zdGFuY2UgRGVwcmVjYXRlZC4gd2hldGhlciB0byBpbmNsdWRlIHRoZQogICAqICAgICBKU1BCIGluc3RhbmNlIGZvciB0cmFuc2l0aW9uYWwgc295IHByb3RvIHN1cHBvcnQ6CiAgICogICAgIGh0dHA6Ly9nb3RvL3NveS1wYXJhbS1taWdyYXRpb24KICAgKiBAcmV0dXJuIHshT2JqZWN0fQogICAqLwogIHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkucHJvdG90eXBlLnRvT2JqZWN0ID0gZnVuY3Rpb24gKG9wdF9pbmNsdWRlSW5zdGFuY2UpIHsKICAgIHJldHVybiBwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5LnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseX0gbXNnIFRoZSBtc2cgaW5zdGFuY2UgdG8gdHJhbnNmb3JtLgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogICAqLwoKCiAgcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseS50b09iamVjdCA9IGZ1bmN0aW9uIChpbmNsdWRlSW5zdGFuY2UsIG1zZykgewogICAgdmFyIGYsCiAgICAgICAgb2JqID0gewogICAgICByZWNvcmRzTGlzdDoganNwYi5NZXNzYWdlLnRvT2JqZWN0TGlzdChtc2cuZ2V0UmVjb3Jkc0xpc3QoKSwgYW5jaG9ydHlwZV9wYi5TZXR0bGVSZWNvcmQudG9PYmplY3QsIGluY2x1ZGVJbnN0YW5jZSkKICAgIH07CgogICAgaWYgKGluY2x1ZGVJbnN0YW5jZSkgewogICAgICBvYmouJGpzcGJNZXNzYWdlSW5zdGFuY2UgPSBtc2c7CiAgICB9CgogICAgcmV0dXJuIG9iajsKICB9Owp9Ci8qKgogKiBEZXNlcmlhbGl6ZXMgYmluYXJ5IGRhdGEgKGluIHByb3RvYnVmIHdpcmUgZm9ybWF0KS4KICogQHBhcmFtIHtqc3BiLkJ5dGVTb3VyY2V9IGJ5dGVzIFRoZSBieXRlcyB0byBkZXNlcmlhbGl6ZS4KICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHl9CiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkoKTsKICByZXR1cm4gcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseS5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIobXNnLCByZWFkZXIpOwp9OwovKioKICogRGVzZXJpYWxpemVzIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkgZnJvbSB0aGUKICogZ2l2ZW4gcmVhZGVyIGludG8gdGhlIGdpdmVuIG1lc3NhZ2Ugb2JqZWN0LgogKiBAcGFyYW0geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5fSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5fQogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5LmRlc2VyaWFsaXplQmluYXJ5RnJvbVJlYWRlciA9IGZ1bmN0aW9uIChtc2csIHJlYWRlcikgewogIHdoaWxlIChyZWFkZXIubmV4dEZpZWxkKCkpIHsKICAgIGlmIChyZWFkZXIuaXNFbmRHcm91cCgpKSB7CiAgICAgIGJyZWFrOwogICAgfQoKICAgIHZhciBmaWVsZCA9IHJlYWRlci5nZXRGaWVsZE51bWJlcigpOwoKICAgIHN3aXRjaCAoZmllbGQpIHsKICAgICAgY2FzZSAxOgogICAgICAgIHZhciB2YWx1ZSA9IG5ldyBhbmNob3J0eXBlX3BiLlNldHRsZVJlY29yZCgpOwogICAgICAgIHJlYWRlci5yZWFkTWVzc2FnZSh2YWx1ZSwgYW5jaG9ydHlwZV9wYi5TZXR0bGVSZWNvcmQuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKTsKICAgICAgICBtc2cuYWRkUmVjb3Jkcyh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBkZWZhdWx0OgogICAgICAgIHJlYWRlci5za2lwRmllbGQoKTsKICAgICAgICBicmVhazsKICAgIH0KICB9CgogIHJldHVybiBtc2c7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlIGZvcm1hdCkuCiAqIEByZXR1cm4geyFVaW50OEFycmF5fQogKi8KCgpwcm90by5wYi5jbXMuU2V0dGxlTGlzdFJlcGx5LnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIodGhpcywgd3JpdGVyKTsKICByZXR1cm4gd3JpdGVyLmdldFJlc3VsdEJ1ZmZlcigpOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgZ2l2ZW4gbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZQogKiBmb3JtYXQpLCB3cml0aW5nIHRvIHRoZSBnaXZlbiBCaW5hcnlXcml0ZXIuCiAqIEBwYXJhbSB7IXByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHl9IG1lc3NhZ2UKICogQHBhcmFtIHshanNwYi5CaW5hcnlXcml0ZXJ9IHdyaXRlcgogKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0UmVjb3Jkc0xpc3QoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlUmVwZWF0ZWRNZXNzYWdlKDEsIGYsIGFuY2hvcnR5cGVfcGIuU2V0dGxlUmVjb3JkLnNlcmlhbGl6ZUJpbmFyeVRvV3JpdGVyKTsKICB9Cn07Ci8qKgogKiByZXBlYXRlZCBwYi5TZXR0bGVSZWNvcmQgcmVjb3JkcyA9IDE7CiAqIEByZXR1cm4geyFBcnJheTwhcHJvdG8ucGIuU2V0dGxlUmVjb3JkPn0KICovCgoKcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseS5wcm90b3R5cGUuZ2V0UmVjb3Jkc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCBhbmNob3J0eXBlX3BiLlNldHRsZVJlY29yZCwgMSk7Cn07Ci8qKgogKiBAcGFyYW0geyFBcnJheTwhcHJvdG8ucGIuU2V0dGxlUmVjb3JkPn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHl9IHJldHVybnMgdGhpcwoqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkucHJvdG90eXBlLnNldFJlY29yZHNMaXN0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRSZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBAcGFyYW0geyFwcm90by5wYi5TZXR0bGVSZWNvcmQ9fSBvcHRfdmFsdWUKICogQHBhcmFtIHtudW1iZXI9fSBvcHRfaW5kZXgKICogQHJldHVybiB7IXByb3RvLnBiLlNldHRsZVJlY29yZH0KICovCgoKcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseS5wcm90b3R5cGUuYWRkUmVjb3JkcyA9IGZ1bmN0aW9uIChvcHRfdmFsdWUsIG9wdF9pbmRleCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYWRkVG9SZXBlYXRlZFdyYXBwZXJGaWVsZCh0aGlzLCAxLCBvcHRfdmFsdWUsIHByb3RvLnBiLlNldHRsZVJlY29yZCwgb3B0X2luZGV4KTsKfTsKLyoqCiAqIENsZWFycyB0aGUgbGlzdCBtYWtpbmcgaXQgZW1wdHkgYnV0IG5vbi1udWxsLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLlNldHRsZUxpc3RSZXBseX0gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5TZXR0bGVMaXN0UmVwbHkucHJvdG90eXBlLmNsZWFyUmVjb3Jkc0xpc3QgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIHRoaXMuc2V0UmVjb3Jkc0xpc3QoW10pOwp9OwoKaWYgKGpzcGIuTWVzc2FnZS5HRU5FUkFURV9UT19PQkpFQ1QpIHsKICAvKioKICAgKiBDcmVhdGVzIGFuIG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHByb3RvLgogICAqIEZpZWxkIG5hbWVzIHRoYXQgYXJlIHJlc2VydmVkIGluIEphdmFTY3JpcHQgYW5kIHdpbGwgYmUgcmVuYW1lZCB0byBwYl9uYW1lLgogICAqIE9wdGlvbmFsIGZpZWxkcyB0aGF0IGFyZSBub3Qgc2V0IHdpbGwgYmUgc2V0IHRvIHVuZGVmaW5lZC4KICAgKiBUbyBhY2Nlc3MgYSByZXNlcnZlZCBmaWVsZCB1c2UsIGZvby5wYl88bmFtZT4sIGVnLCBmb28ucGJfZGVmYXVsdC4KICAgKiBGb3IgdGhlIGxpc3Qgb2YgcmVzZXJ2ZWQgbmFtZXMgcGxlYXNlIHNlZToKICAgKiAgICAgbmV0L3Byb3RvMi9jb21waWxlci9qcy9pbnRlcm5hbC9nZW5lcmF0b3IuY2Mja0tleXdvcmQuCiAgICogQHBhcmFtIHtib29sZWFuPX0gb3B0X2luY2x1ZGVJbnN0YW5jZSBEZXByZWNhdGVkLiB3aGV0aGVyIHRvIGluY2x1ZGUgdGhlCiAgICogICAgIEpTUEIgaW5zdGFuY2UgZm9yIHRyYW5zaXRpb25hbCBzb3kgcHJvdG8gc3VwcG9ydDoKICAgKiAgICAgaHR0cDovL2dvdG8vc295LXBhcmFtLW1pZ3JhdGlvbgogICAqIEByZXR1cm4geyFPYmplY3R9CiAgICovCiAgcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS50b09iamVjdCA9IGZ1bmN0aW9uIChvcHRfaW5jbHVkZUluc3RhbmNlKSB7CiAgICByZXR1cm4gcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnRvT2JqZWN0KG9wdF9pbmNsdWRlSW5zdGFuY2UsIHRoaXMpOwogIH07CiAgLyoqCiAgICogU3RhdGljIHZlcnNpb24gb2YgdGhlIHtAc2VlIHRvT2JqZWN0fSBtZXRob2QuCiAgICogQHBhcmFtIHtib29sZWFufHVuZGVmaW5lZH0gaW5jbHVkZUluc3RhbmNlIERlcHJlY2F0ZWQuIFdoZXRoZXIgdG8gaW5jbHVkZQogICAqICAgICB0aGUgSlNQQiBpbnN0YW5jZSBmb3IgdHJhbnNpdGlvbmFsIHNveSBwcm90byBzdXBwb3J0OgogICAqICAgICBodHRwOi8vZ290by9zb3ktcGFyYW0tbWlncmF0aW9uCiAgICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfSBtc2cgVGhlIG1zZyBpbnN0YW5jZSB0byB0cmFuc2Zvcm0uCiAgICogQHJldHVybiB7IU9iamVjdH0KICAgKiBAc3VwcHJlc3Mge3VudXNlZExvY2FsVmFyaWFibGVzfSBmIGlzIG9ubHkgdXNlZCBmb3IgbmVzdGVkIG1lc3NhZ2VzCiAgICovCgoKICBwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsudG9PYmplY3QgPSBmdW5jdGlvbiAoaW5jbHVkZUluc3RhbmNlLCBtc2cpIHsKICAgIHZhciBmLAogICAgICAgIG9iaiA9IHsKICAgICAgb2Zmc2V0OiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdChtc2csIDEsIDApLAogICAgICBmaWxlbmFtZToganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCAyLCAiIiksCiAgICAgIHR5cGU6IGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KG1zZywgMywgMCksCiAgICAgIGNvbnRlbnQ6IG1zZy5nZXRDb250ZW50X2FzQjY0KCksCiAgICAgIGFyZWFJZDoganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQobXNnLCA1LCAwKQogICAgfTsKCiAgICBpZiAoaW5jbHVkZUluc3RhbmNlKSB7CiAgICAgIG9iai4kanNwYk1lc3NhZ2VJbnN0YW5jZSA9IG1zZzsKICAgIH0KCiAgICByZXR1cm4gb2JqOwogIH07Cn0KLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcGFyYW0ge2pzcGIuQnl0ZVNvdXJjZX0gYnl0ZXMgVGhlIGJ5dGVzIHRvIGRlc2VyaWFsaXplLgogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfQogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsuZGVzZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoYnl0ZXMpIHsKICB2YXIgcmVhZGVyID0gbmV3IGpzcGIuQmluYXJ5UmVhZGVyKGJ5dGVzKTsKICB2YXIgbXNnID0gbmV3IHByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuaygpOwogIHJldHVybiBwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsuZGVzZXJpYWxpemVCaW5hcnlGcm9tUmVhZGVyKG1zZywgcmVhZGVyKTsKfTsKLyoqCiAqIERlc2VyaWFsaXplcyBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpIGZyb20gdGhlCiAqIGdpdmVuIHJlYWRlciBpbnRvIHRoZSBnaXZlbiBtZXNzYWdlIG9iamVjdC4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfSBtc2cgVGhlIG1lc3NhZ2Ugb2JqZWN0IHRvIGRlc2VyaWFsaXplIGludG8uCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5UmVhZGVyfSByZWFkZXIgVGhlIEJpbmFyeVJlYWRlciB0byB1c2UuCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmt9CiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5kZXNlcmlhbGl6ZUJpbmFyeUZyb21SZWFkZXIgPSBmdW5jdGlvbiAobXNnLCByZWFkZXIpIHsKICB3aGlsZSAocmVhZGVyLm5leHRGaWVsZCgpKSB7CiAgICBpZiAocmVhZGVyLmlzRW5kR3JvdXAoKSkgewogICAgICBicmVhazsKICAgIH0KCiAgICB2YXIgZmllbGQgPSByZWFkZXIuZ2V0RmllbGROdW1iZXIoKTsKCiAgICBzd2l0Y2ggKGZpZWxkKSB7CiAgICAgIGNhc2UgMToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRPZmZzZXQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAyOgogICAgICAgIHZhciB2YWx1ZSA9IHJlYWRlci5yZWFkU3RyaW5nKCk7CiAgICAgICAgbXNnLnNldEZpbGVuYW1lKHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgMzoKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZEVudW0oKTsKICAgICAgICBtc2cuc2V0VHlwZSh2YWx1ZSk7CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlIDQ6CiAgICAgICAgdmFyIHZhbHVlID0gcmVhZGVyLnJlYWRCeXRlcygpOwogICAgICAgIG1zZy5zZXRDb250ZW50KHZhbHVlKTsKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgNToKICAgICAgICB2YXIgdmFsdWUgPSByZWFkZXIucmVhZFVpbnQzMigpOwogICAgICAgIG1zZy5zZXRBcmVhSWQodmFsdWUpOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgICAgICByZWFkZXIuc2tpcEZpZWxkKCk7CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICByZXR1cm4gbXNnOwp9OwovKioKICogU2VyaWFsaXplcyB0aGUgbWVzc2FnZSB0byBiaW5hcnkgZGF0YSAoaW4gcHJvdG9idWYgd2lyZSBmb3JtYXQpLgogKiBAcmV0dXJuIHshVWludDhBcnJheX0KICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS5zZXJpYWxpemVCaW5hcnkgPSBmdW5jdGlvbiAoKSB7CiAgdmFyIHdyaXRlciA9IG5ldyBqc3BiLkJpbmFyeVdyaXRlcigpOwogIHByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5zZXJpYWxpemVCaW5hcnlUb1dyaXRlcih0aGlzLCB3cml0ZXIpOwogIHJldHVybiB3cml0ZXIuZ2V0UmVzdWx0QnVmZmVyKCk7Cn07Ci8qKgogKiBTZXJpYWxpemVzIHRoZSBnaXZlbiBtZXNzYWdlIHRvIGJpbmFyeSBkYXRhIChpbiBwcm90b2J1ZiB3aXJlCiAqIGZvcm1hdCksIHdyaXRpbmcgdG8gdGhlIGdpdmVuIEJpbmFyeVdyaXRlci4KICogQHBhcmFtIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfSBtZXNzYWdlCiAqIEBwYXJhbSB7IWpzcGIuQmluYXJ5V3JpdGVyfSB3cml0ZXIKICogQHN1cHByZXNzIHt1bnVzZWRMb2NhbFZhcmlhYmxlc30gZiBpcyBvbmx5IHVzZWQgZm9yIG5lc3RlZCBtZXNzYWdlcwogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsuc2VyaWFsaXplQmluYXJ5VG9Xcml0ZXIgPSBmdW5jdGlvbiAobWVzc2FnZSwgd3JpdGVyKSB7CiAgdmFyIGYgPSB1bmRlZmluZWQ7CiAgZiA9IG1lc3NhZ2UuZ2V0T2Zmc2V0KCk7CgogIGlmIChmICE9PSAwKSB7CiAgICB3cml0ZXIud3JpdGVVaW50MzIoMSwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRGaWxlbmFtZSgpOwoKICBpZiAoZi5sZW5ndGggPiAwKSB7CiAgICB3cml0ZXIud3JpdGVTdHJpbmcoMiwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRUeXBlKCk7CgogIGlmIChmICE9PSAwLjApIHsKICAgIHdyaXRlci53cml0ZUVudW0oMywgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRDb250ZW50X2FzVTgoKTsKCiAgaWYgKGYubGVuZ3RoID4gMCkgewogICAgd3JpdGVyLndyaXRlQnl0ZXMoNCwgZik7CiAgfQoKICBmID0gbWVzc2FnZS5nZXRBcmVhSWQoKTsKCiAgaWYgKGYgIT09IDApIHsKICAgIHdyaXRlci53cml0ZVVpbnQzMig1LCBmKTsKICB9Cn07Ci8qKgogKiBvcHRpb25hbCB1aW50MzIgb2Zmc2V0ID0gMTsKICogQHJldHVybiB7bnVtYmVyfQogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsucHJvdG90eXBlLmdldE9mZnNldCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmdldEZpZWxkV2l0aERlZmF1bHQodGhpcywgMSwgMCk7Cn07Ci8qKgogKiBAcGFyYW0ge251bWJlcn0gdmFsdWUKICogQHJldHVybiB7IXByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVua30gcmV0dXJucyB0aGlzCiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5wcm90b3R5cGUuc2V0T2Zmc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNJbnRGaWVsZCh0aGlzLCAxLCB2YWx1ZSk7Cn07Ci8qKgogKiBvcHRpb25hbCBzdHJpbmcgZmlsZW5hbWUgPSAyOwogKiBAcmV0dXJuIHtzdHJpbmd9CiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5wcm90b3R5cGUuZ2V0RmlsZW5hbWUgPSBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5nZXRGaWVsZFdpdGhEZWZhdWx0KHRoaXMsIDIsICIiKTsKfTsKLyoqCiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS5zZXRGaWxlbmFtZSA9IGZ1bmN0aW9uICh2YWx1ZSkgewogIHJldHVybiBqc3BiLk1lc3NhZ2Uuc2V0UHJvdG8zU3RyaW5nRmllbGQodGhpcywgMiwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgcGIuRmlsZVR5cGUgdHlwZSA9IDM7CiAqIEByZXR1cm4geyFwcm90by5wYi5GaWxlVHlwZX0KICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS5nZXRUeXBlID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCAzLCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7IXByb3RvLnBiLkZpbGVUeXBlfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS5zZXRUeXBlID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgcmV0dXJuIGpzcGIuTWVzc2FnZS5zZXRQcm90bzNFbnVtRmllbGQodGhpcywgMywgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgYnl0ZXMgY29udGVudCA9IDQ7CiAqIEByZXR1cm4ge3N0cmluZ30KICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA0LCAiIik7Cn07Ci8qKgogKiBvcHRpb25hbCBieXRlcyBjb250ZW50ID0gNDsKICogVGhpcyBpcyBhIHR5cGUtY29udmVyc2lvbiB3cmFwcGVyIGFyb3VuZCBgZ2V0Q29udGVudCgpYAogKiBAcmV0dXJuIHtzdHJpbmd9CiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5wcm90b3R5cGUuZ2V0Q29udGVudF9hc0I2NCA9IGZ1bmN0aW9uICgpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLmJ5dGVzQXNCNjQodGhpcy5nZXRDb250ZW50KCkpOwp9OwovKioKICogb3B0aW9uYWwgYnl0ZXMgY29udGVudCA9IDQ7CiAqIE5vdGUgdGhhdCBVaW50OEFycmF5IGlzIG5vdCBzdXBwb3J0ZWQgb24gYWxsIGJyb3dzZXJzLgogKiBAc2VlIGh0dHA6Ly9jYW5pdXNlLmNvbS9VaW50OEFycmF5CiAqIFRoaXMgaXMgYSB0eXBlLWNvbnZlcnNpb24gd3JhcHBlciBhcm91bmQgYGdldENvbnRlbnQoKWAKICogQHJldHVybiB7IVVpbnQ4QXJyYXl9CiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5wcm90b3R5cGUuZ2V0Q29udGVudF9hc1U4ID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuYnl0ZXNBc1U4KHRoaXMuZ2V0Q29udGVudCgpKTsKfTsKLyoqCiAqIEBwYXJhbSB7IShzdHJpbmd8VWludDhBcnJheSl9IHZhbHVlCiAqIEByZXR1cm4geyFwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmt9IHJldHVybnMgdGhpcwogKi8KCgpwcm90by5wYi5jbXMuQWRtaW5GaWxlQ2h1bmsucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0J5dGVzRmllbGQodGhpcywgNCwgdmFsdWUpOwp9OwovKioKICogb3B0aW9uYWwgdWludDMyIGFyZWFfaWQgPSA1OwogKiBAcmV0dXJuIHtudW1iZXJ9CiAqLwoKCnByb3RvLnBiLmNtcy5BZG1pbkZpbGVDaHVuay5wcm90b3R5cGUuZ2V0QXJlYUlkID0gZnVuY3Rpb24gKCkgewogIHJldHVybiBqc3BiLk1lc3NhZ2UuZ2V0RmllbGRXaXRoRGVmYXVsdCh0aGlzLCA1LCAwKTsKfTsKLyoqCiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZQogKiBAcmV0dXJuIHshcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rfSByZXR1cm5zIHRoaXMKICovCgoKcHJvdG8ucGIuY21zLkFkbWluRmlsZUNodW5rLnByb3RvdHlwZS5zZXRBcmVhSWQgPSBmdW5jdGlvbiAodmFsdWUpIHsKICByZXR1cm4ganNwYi5NZXNzYWdlLnNldFByb3RvM0ludEZpZWxkKHRoaXMsIDUsIHZhbHVlKTsKfTsKCmdvb2cub2JqZWN0LmV4dGVuZChleHBvcnRzLCBwcm90by5wYi5jbXMpOw=="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/proto/js/cms_pb.js"],"names":["jspb","require","goog","global","Function","usertype_pb","object","extend","proto","anchortype_pb","cmstype_pb","exportSymbol","pb","cms","AreaListReply","opt_data","Message","initialize","repeatedFields_","inherits","DEBUG","COMPILED","displayName","LoginRequest","AdminListReply","GuildListReply","AppListReply","AnchorListRequest","AnchorListReply","UserListRequest","UserListReply","AdjustBalanceRequest","AdjustBalanceReply","BlockRequest","UnblockRequest","MigrateRequest","AuthorizeAnchorRequest","AnchorFullRequest","AnchorFullReply","ProfileListRequest","ProfileListReply","ProcessProfileRequest","ViolationListRequest","ViolationListReply","ProcessViolationRequest","LiveListRequest","LiveListReply","PayListRequest","PayListReply","RobotListRequest","RobotListReply","RobotMessageListRequest","RobotMessageListReply","MomentListRequest","MomentListReply","AutoMessageListRequest","AutoMessageListReply","ChatMessageListRequest","ChatMessageListReply","CallListRequest","CallListReply","TransactionListRequest","TransactionListReply","CreateSettleRequest","SubmitSettleRequest","SettleProgressRequest","SettleProgressReply","SettleListRequest","SettleListReply","AdminFileChunk","GENERATE_TO_OBJECT","prototype","toObject","opt_includeInstance","includeInstance","msg","f","obj","areasList","toObjectList","getAreasList","Area","$jspbMessageInstance","deserializeBinary","bytes","reader","BinaryReader","deserializeBinaryFromReader","nextField","isEndGroup","field","getFieldNumber","value","readMessage","addAreas","skipField","serializeBinary","writer","BinaryWriter","serializeBinaryToWriter","getResultBuffer","message","undefined","length","writeRepeatedMessage","getRepeatedWrapperField","setAreasList","setRepeatedWrapperField","opt_value","opt_index","addToRepeatedWrapperField","clearAreasList","email","getFieldWithDefault","password","readString","setEmail","setPassword","getEmail","writeString","getPassword","setProto3StringField","adminsList","getAdminsList","Admin","addAdmins","setAdminsList","clearAdminsList","guildsList","getGuildsList","Guild","addGuilds","setGuildsList","clearGuildsList","appsList","getAppsList","App","addApps","setAppsList","clearAppsList","pageNo","pageSize","anchorId","areaId","guildId","blockStatus","onlineStatus","reviewStatus","createdStart","createdEnd","minOffline","readUint32","setPageNo","setPageSize","setAnchorId","setAreaId","setGuildId","readEnum","setBlockStatus","setOnlineStatus","setReviewStatus","setCreatedStart","setCreatedEnd","setMinOffline","getPageNo","writeUint32","getPageSize","getAnchorId","getAreaId","getGuildId","getBlockStatus","writeEnum","getOnlineStatus","getReviewStatus","getCreatedStart","getCreatedEnd","getMinOffline","setProto3IntField","setProto3EnumField","anchorsList","getAnchorsList","AnchorBasic","totalPage","totalCount","addAnchors","setTotalPage","setTotalCount","getTotalPage","getTotalCount","setAnchorsList","clearAnchorsList","userId","nickname","vipOnly","getBooleanFieldWithDefault","depositOnly","minBalance","setUserId","setNickname","readBool","setVipOnly","setDepositOnly","setMinBalance","getUserId","getNickname","getVipOnly","writeBool","getDepositOnly","getMinBalance","setProto3BooleanField","usersList","getUsersList","User","addUsers","setUsersList","clearUsersList","entityType","entityId","amount","sendNotify","desc","setEntityType","setEntityId","readInt32","setAmount","setSendNotify","setDesc","getEntityType","getEntityId","getAmount","writeInt32","getSendNotify","getDesc","balance","setBalance","getBalance","duration","reason","setDuration","setReason","getDuration","getReason","srcId","dstId","setSrcId","setDstId","getSrcId","getDstId","basic","getBasic","profilesList","getProfilesList","AnchorProfile","setBasic","addProfiles","writeMessage","getWrapperField","setWrapperField","clearBasic","hasBasic","getField","setProfilesList","clearProfilesList","status","setStatus","getStatus","profileId","setProfileId","getProfileId","dealStatusList","getRepeatedField","scene","reporterType","reporterId","reportedType","reportedId","values","isDelimited","readPackedEnum","i","addDealStatus","setScene","setReporterType","setReporterId","setReportedType","setReportedId","getDealStatusList","writePackedEnum","getScene","getReporterType","getReporterId","getReportedType","getReportedId","setDealStatusList","setField","addToRepeatedField","clearDealStatusList","recordsList","getRecordsList","ViolationRecord","addRecords","setRecordsList","clearRecordsList","violationId","dealStatus","dealMessage","blockDuration","readUint64","setViolationId","setDealStatus","setDealMessage","setBlockDuration","getViolationId","writeUint64","getDealStatus","getDealMessage","getBlockDuration","FileRecord","appId","recordId","setAppId","setRecordId","getAppId","getRecordId","PayRecord","enable","robotId","setEnable","setRobotId","getEnable","getRobotId","robotsList","getRobotsList","addRobots","setRobotsList","clearRobotsList","messagesList","getMessagesList","RobotMessage","addMessages","setMessagesList","clearMessagesList","momentsList","getMomentsList","Moment","addMoments","setMomentsList","clearMomentsList","action","setAction","getAction","AutoMessage","direction","type","keyword","setDirection","setType","setKeyword","getDirection","getType","getKeyword","ChatMessage","callType","hangType","minDuration","maxDuration","setCallType","setHangType","setMinDuration","setMaxDuration","getCallType","getHangType","getMinDuration","getMaxDuration","callsList","getCallsList","CallRecord","addCalls","setCallsList","clearCallsList","traderType","traderId","sourceType","setTraderType","setTraderId","setSourceType","getTraderType","getTraderId","getSourceType","transactionsList","getTransactionsList","Transaction","addTransactions","setTransactionsList","clearTransactionsList","settleAt","setSettleAt","getSettleAt","SettleRecord","progress","setProgress","getProgress","offset","filename","content","getContent_asB64","setOffset","setFilename","readBytes","setContent","getOffset","getFilename","getContent_asU8","writeBytes","getContent","bytesAsB64","bytesAsU8","setProto3BytesField","exports"],"mappings":"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","sourcesContent":["// source: cms.proto\n/**\n * @fileoverview\n * @enhanceable\n * @suppress {missingRequire} reports error on implicit type usages.\n * @suppress {messageConventions} JS Compiler reports an error if a variable or\n *     field starts with 'MSG_' and isn't a translatable message.\n * @public\n */\n// GENERATED CODE -- DO NOT EDIT!\n/* eslint-disable */\n// @ts-nocheck\n\nvar jspb = require('google-protobuf');\nvar goog = jspb;\nvar global = Function('return this')();\n\nvar usertype_pb = require('./usertype_pb.js');\ngoog.object.extend(proto, usertype_pb);\nvar anchortype_pb = require('./anchortype_pb.js');\ngoog.object.extend(proto, anchortype_pb);\nvar cmstype_pb = require('./cmstype_pb.js');\ngoog.object.extend(proto, cmstype_pb);\ngoog.exportSymbol('proto.pb.cms.AdjustBalanceReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AdjustBalanceRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.AdminFileChunk', null, global);\ngoog.exportSymbol('proto.pb.cms.AdminListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AnchorFullReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AnchorFullRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.AnchorListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AnchorListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.AppListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AreaListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AuthorizeAnchorRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.AutoMessageListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.AutoMessageListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.BlockRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.CallListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.CallListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.ChatMessageListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.ChatMessageListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.CreateSettleRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.GuildListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.LiveListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.LiveListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.LoginRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.MigrateRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.MomentListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.MomentListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.PayListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.PayListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.ProcessProfileRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.ProcessViolationRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.ProfileListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.ProfileListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.RobotListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.RobotListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.RobotMessageListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.RobotMessageListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.SettleListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.SettleListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.SettleProgressReply', null, global);\ngoog.exportSymbol('proto.pb.cms.SettleProgressRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.SubmitSettleRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.TransactionListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.TransactionListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.UnblockRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.UserListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.UserListRequest', null, global);\ngoog.exportSymbol('proto.pb.cms.ViolationListReply', null, global);\ngoog.exportSymbol('proto.pb.cms.ViolationListRequest', null, global);\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AreaListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.AreaListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.AreaListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AreaListReply.displayName = 'proto.pb.cms.AreaListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.LoginRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.LoginRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.LoginRequest.displayName = 'proto.pb.cms.LoginRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AdminListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.AdminListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.AdminListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AdminListReply.displayName = 'proto.pb.cms.AdminListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.GuildListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.GuildListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.GuildListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.GuildListReply.displayName = 'proto.pb.cms.GuildListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AppListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.AppListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.AppListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AppListReply.displayName = 'proto.pb.cms.AppListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AnchorListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AnchorListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AnchorListRequest.displayName = 'proto.pb.cms.AnchorListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AnchorListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.AnchorListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.AnchorListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AnchorListReply.displayName = 'proto.pb.cms.AnchorListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.UserListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.UserListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.UserListRequest.displayName = 'proto.pb.cms.UserListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.UserListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.UserListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.UserListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.UserListReply.displayName = 'proto.pb.cms.UserListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AdjustBalanceRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AdjustBalanceRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AdjustBalanceRequest.displayName = 'proto.pb.cms.AdjustBalanceRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AdjustBalanceReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AdjustBalanceReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AdjustBalanceReply.displayName = 'proto.pb.cms.AdjustBalanceReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.BlockRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.BlockRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.BlockRequest.displayName = 'proto.pb.cms.BlockRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.UnblockRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.UnblockRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.UnblockRequest.displayName = 'proto.pb.cms.UnblockRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.MigrateRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.MigrateRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.MigrateRequest.displayName = 'proto.pb.cms.MigrateRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AuthorizeAnchorRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AuthorizeAnchorRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AuthorizeAnchorRequest.displayName = 'proto.pb.cms.AuthorizeAnchorRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AnchorFullRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AnchorFullRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AnchorFullRequest.displayName = 'proto.pb.cms.AnchorFullRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AnchorFullReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.AnchorFullReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.AnchorFullReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AnchorFullReply.displayName = 'proto.pb.cms.AnchorFullReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ProfileListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.ProfileListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ProfileListRequest.displayName = 'proto.pb.cms.ProfileListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ProfileListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.ProfileListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.ProfileListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ProfileListReply.displayName = 'proto.pb.cms.ProfileListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ProcessProfileRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.ProcessProfileRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ProcessProfileRequest.displayName = 'proto.pb.cms.ProcessProfileRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ViolationListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.ViolationListRequest.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.ViolationListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ViolationListRequest.displayName = 'proto.pb.cms.ViolationListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ViolationListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.ViolationListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.ViolationListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ViolationListReply.displayName = 'proto.pb.cms.ViolationListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ProcessViolationRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.ProcessViolationRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ProcessViolationRequest.displayName = 'proto.pb.cms.ProcessViolationRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.LiveListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.LiveListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.LiveListRequest.displayName = 'proto.pb.cms.LiveListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.LiveListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.LiveListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.LiveListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.LiveListReply.displayName = 'proto.pb.cms.LiveListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.PayListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.PayListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.PayListRequest.displayName = 'proto.pb.cms.PayListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.PayListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.PayListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.PayListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.PayListReply.displayName = 'proto.pb.cms.PayListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.RobotListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.RobotListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.RobotListRequest.displayName = 'proto.pb.cms.RobotListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.RobotListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.RobotListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.RobotListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.RobotListReply.displayName = 'proto.pb.cms.RobotListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.RobotMessageListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.RobotMessageListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.RobotMessageListRequest.displayName = 'proto.pb.cms.RobotMessageListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.RobotMessageListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.RobotMessageListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.RobotMessageListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.RobotMessageListReply.displayName = 'proto.pb.cms.RobotMessageListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.MomentListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.MomentListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.MomentListRequest.displayName = 'proto.pb.cms.MomentListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.MomentListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.MomentListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.MomentListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.MomentListReply.displayName = 'proto.pb.cms.MomentListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AutoMessageListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AutoMessageListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AutoMessageListRequest.displayName = 'proto.pb.cms.AutoMessageListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AutoMessageListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.AutoMessageListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.AutoMessageListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AutoMessageListReply.displayName = 'proto.pb.cms.AutoMessageListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ChatMessageListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.ChatMessageListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ChatMessageListRequest.displayName = 'proto.pb.cms.ChatMessageListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.ChatMessageListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.ChatMessageListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.ChatMessageListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.ChatMessageListReply.displayName = 'proto.pb.cms.ChatMessageListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.CallListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.CallListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.CallListRequest.displayName = 'proto.pb.cms.CallListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.CallListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.CallListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.CallListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.CallListReply.displayName = 'proto.pb.cms.CallListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.TransactionListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.TransactionListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.TransactionListRequest.displayName = 'proto.pb.cms.TransactionListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.TransactionListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.TransactionListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.TransactionListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.TransactionListReply.displayName = 'proto.pb.cms.TransactionListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.CreateSettleRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.CreateSettleRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.CreateSettleRequest.displayName = 'proto.pb.cms.CreateSettleRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.SubmitSettleRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.SubmitSettleRequest.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.SubmitSettleRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.SubmitSettleRequest.displayName = 'proto.pb.cms.SubmitSettleRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.SettleProgressRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.SettleProgressRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.SettleProgressRequest.displayName = 'proto.pb.cms.SettleProgressRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.SettleProgressReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.SettleProgressReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.SettleProgressReply.displayName = 'proto.pb.cms.SettleProgressReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.SettleListRequest = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.SettleListRequest, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.SettleListRequest.displayName = 'proto.pb.cms.SettleListRequest';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.SettleListReply = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, proto.pb.cms.SettleListReply.repeatedFields_, null);\n};\ngoog.inherits(proto.pb.cms.SettleListReply, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.SettleListReply.displayName = 'proto.pb.cms.SettleListReply';\n}\n/**\n * Generated by JsPbCodeGenerator.\n * @param {Array=} opt_data Optional initial data array, typically from a\n * server response, or constructed directly in Javascript. The array is used\n * in place and becomes part of the constructed object. It is not cloned.\n * If no data is provided, the constructed object will be empty, but still\n * valid.\n * @extends {jspb.Message}\n * @constructor\n */\nproto.pb.cms.AdminFileChunk = function(opt_data) {\n  jspb.Message.initialize(this, opt_data, 0, -1, null, null);\n};\ngoog.inherits(proto.pb.cms.AdminFileChunk, jspb.Message);\nif (goog.DEBUG && !COMPILED) {\n  /**\n   * @public\n   * @override\n   */\n  proto.pb.cms.AdminFileChunk.displayName = 'proto.pb.cms.AdminFileChunk';\n}\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.AreaListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AreaListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AreaListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AreaListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AreaListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    areasList: jspb.Message.toObjectList(msg.getAreasList(),\n    usertype_pb.Area.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AreaListReply}\n */\nproto.pb.cms.AreaListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AreaListReply;\n  return proto.pb.cms.AreaListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AreaListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AreaListReply}\n */\nproto.pb.cms.AreaListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.Area;\n      reader.readMessage(value,usertype_pb.Area.deserializeBinaryFromReader);\n      msg.addAreas(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AreaListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AreaListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AreaListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AreaListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAreasList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.Area.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.Area areas = 1;\n * @return {!Array<!proto.pb.Area>}\n */\nproto.pb.cms.AreaListReply.prototype.getAreasList = function() {\n  return /** @type{!Array<!proto.pb.Area>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.Area, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.Area>} value\n * @return {!proto.pb.cms.AreaListReply} returns this\n*/\nproto.pb.cms.AreaListReply.prototype.setAreasList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.Area=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.Area}\n */\nproto.pb.cms.AreaListReply.prototype.addAreas = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.Area, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.AreaListReply} returns this\n */\nproto.pb.cms.AreaListReply.prototype.clearAreasList = function() {\n  return this.setAreasList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.LoginRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.LoginRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.LoginRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.LoginRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    email: jspb.Message.getFieldWithDefault(msg, 1, \"\"),\n    password: jspb.Message.getFieldWithDefault(msg, 2, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.LoginRequest}\n */\nproto.pb.cms.LoginRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.LoginRequest;\n  return proto.pb.cms.LoginRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.LoginRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.LoginRequest}\n */\nproto.pb.cms.LoginRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setEmail(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setPassword(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.LoginRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.LoginRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.LoginRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.LoginRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEmail();\n  if (f.length > 0) {\n    writer.writeString(\n      1,\n      f\n    );\n  }\n  f = message.getPassword();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional string email = 1;\n * @return {string}\n */\nproto.pb.cms.LoginRequest.prototype.getEmail = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 1, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.LoginRequest} returns this\n */\nproto.pb.cms.LoginRequest.prototype.setEmail = function(value) {\n  return jspb.Message.setProto3StringField(this, 1, value);\n};\n\n\n/**\n * optional string password = 2;\n * @return {string}\n */\nproto.pb.cms.LoginRequest.prototype.getPassword = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.LoginRequest} returns this\n */\nproto.pb.cms.LoginRequest.prototype.setPassword = function(value) {\n  return jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.AdminListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AdminListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AdminListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AdminListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdminListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    adminsList: jspb.Message.toObjectList(msg.getAdminsList(),\n    cmstype_pb.Admin.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AdminListReply}\n */\nproto.pb.cms.AdminListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AdminListReply;\n  return proto.pb.cms.AdminListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AdminListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AdminListReply}\n */\nproto.pb.cms.AdminListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new cmstype_pb.Admin;\n      reader.readMessage(value,cmstype_pb.Admin.deserializeBinaryFromReader);\n      msg.addAdmins(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AdminListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AdminListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AdminListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdminListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAdminsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      cmstype_pb.Admin.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.Admin admins = 1;\n * @return {!Array<!proto.pb.Admin>}\n */\nproto.pb.cms.AdminListReply.prototype.getAdminsList = function() {\n  return /** @type{!Array<!proto.pb.Admin>} */ (\n    jspb.Message.getRepeatedWrapperField(this, cmstype_pb.Admin, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.Admin>} value\n * @return {!proto.pb.cms.AdminListReply} returns this\n*/\nproto.pb.cms.AdminListReply.prototype.setAdminsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.Admin=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.Admin}\n */\nproto.pb.cms.AdminListReply.prototype.addAdmins = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.Admin, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.AdminListReply} returns this\n */\nproto.pb.cms.AdminListReply.prototype.clearAdminsList = function() {\n  return this.setAdminsList([]);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.GuildListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.GuildListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.GuildListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.GuildListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.GuildListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    guildsList: jspb.Message.toObjectList(msg.getGuildsList(),\n    cmstype_pb.Guild.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.GuildListReply}\n */\nproto.pb.cms.GuildListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.GuildListReply;\n  return proto.pb.cms.GuildListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.GuildListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.GuildListReply}\n */\nproto.pb.cms.GuildListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new cmstype_pb.Guild;\n      reader.readMessage(value,cmstype_pb.Guild.deserializeBinaryFromReader);\n      msg.addGuilds(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.GuildListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.GuildListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.GuildListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.GuildListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getGuildsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      cmstype_pb.Guild.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.Guild guilds = 1;\n * @return {!Array<!proto.pb.Guild>}\n */\nproto.pb.cms.GuildListReply.prototype.getGuildsList = function() {\n  return /** @type{!Array<!proto.pb.Guild>} */ (\n    jspb.Message.getRepeatedWrapperField(this, cmstype_pb.Guild, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.Guild>} value\n * @return {!proto.pb.cms.GuildListReply} returns this\n*/\nproto.pb.cms.GuildListReply.prototype.setGuildsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.Guild=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.Guild}\n */\nproto.pb.cms.GuildListReply.prototype.addGuilds = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.Guild, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.GuildListReply} returns this\n */\nproto.pb.cms.GuildListReply.prototype.clearGuildsList = function() {\n  return this.setGuildsList([]);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.AppListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AppListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AppListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AppListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AppListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    appsList: jspb.Message.toObjectList(msg.getAppsList(),\n    cmstype_pb.App.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AppListReply}\n */\nproto.pb.cms.AppListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AppListReply;\n  return proto.pb.cms.AppListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AppListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AppListReply}\n */\nproto.pb.cms.AppListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new cmstype_pb.App;\n      reader.readMessage(value,cmstype_pb.App.deserializeBinaryFromReader);\n      msg.addApps(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AppListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AppListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AppListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AppListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAppsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      cmstype_pb.App.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.App apps = 1;\n * @return {!Array<!proto.pb.App>}\n */\nproto.pb.cms.AppListReply.prototype.getAppsList = function() {\n  return /** @type{!Array<!proto.pb.App>} */ (\n    jspb.Message.getRepeatedWrapperField(this, cmstype_pb.App, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.App>} value\n * @return {!proto.pb.cms.AppListReply} returns this\n*/\nproto.pb.cms.AppListReply.prototype.setAppsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.App=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.App}\n */\nproto.pb.cms.AppListReply.prototype.addApps = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.App, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.AppListReply} returns this\n */\nproto.pb.cms.AppListReply.prototype.clearAppsList = function() {\n  return this.setAppsList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AnchorListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AnchorListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AnchorListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    anchorId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    guildId: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    blockStatus: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    onlineStatus: jspb.Message.getFieldWithDefault(msg, 7, 0),\n    reviewStatus: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 9, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 10, 0),\n    minOffline: jspb.Message.getFieldWithDefault(msg, 11, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AnchorListRequest}\n */\nproto.pb.cms.AnchorListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AnchorListRequest;\n  return proto.pb.cms.AnchorListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AnchorListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AnchorListRequest}\n */\nproto.pb.cms.AnchorListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setGuildId(value);\n      break;\n    case 6:\n      var value = /** @type {!proto.pb.BlockStatus} */ (reader.readEnum());\n      msg.setBlockStatus(value);\n      break;\n    case 7:\n      var value = /** @type {!proto.pb.OnlineStatus} */ (reader.readEnum());\n      msg.setOnlineStatus(value);\n      break;\n    case 8:\n      var value = /** @type {!proto.pb.ReviewStatus} */ (reader.readEnum());\n      msg.setReviewStatus(value);\n      break;\n    case 9:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    case 11:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setMinOffline(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AnchorListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AnchorListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AnchorListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getGuildId();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n  f = message.getBlockStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      6,\n      f\n    );\n  }\n  f = message.getOnlineStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      7,\n      f\n    );\n  }\n  f = message.getReviewStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      8,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      9,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      10,\n      f\n    );\n  }\n  f = message.getMinOffline();\n  if (f !== 0) {\n    writer.writeUint32(\n      11,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 anchor_id = 3;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 area_id = 4;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 guild_id = 5;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getGuildId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setGuildId = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n/**\n * optional pb.BlockStatus block_status = 6;\n * @return {!proto.pb.BlockStatus}\n */\nproto.pb.cms.AnchorListRequest.prototype.getBlockStatus = function() {\n  return /** @type {!proto.pb.BlockStatus} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {!proto.pb.BlockStatus} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setBlockStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 6, value);\n};\n\n\n/**\n * optional pb.OnlineStatus online_status = 7;\n * @return {!proto.pb.OnlineStatus}\n */\nproto.pb.cms.AnchorListRequest.prototype.getOnlineStatus = function() {\n  return /** @type {!proto.pb.OnlineStatus} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {!proto.pb.OnlineStatus} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setOnlineStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 7, value);\n};\n\n\n/**\n * optional pb.ReviewStatus review_status = 8;\n * @return {!proto.pb.ReviewStatus}\n */\nproto.pb.cms.AnchorListRequest.prototype.getReviewStatus = function() {\n  return /** @type {!proto.pb.ReviewStatus} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {!proto.pb.ReviewStatus} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setReviewStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 8, value);\n};\n\n\n/**\n * optional uint32 created_start = 9;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 9, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 9, value);\n};\n\n\n/**\n * optional uint32 created_end = 10;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n/**\n * optional uint32 min_offline = 11;\n * @return {number}\n */\nproto.pb.cms.AnchorListRequest.prototype.getMinOffline = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 11, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListRequest} returns this\n */\nproto.pb.cms.AnchorListRequest.prototype.setMinOffline = function(value) {\n  return jspb.Message.setProto3IntField(this, 11, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.AnchorListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AnchorListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AnchorListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AnchorListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    anchorsList: jspb.Message.toObjectList(msg.getAnchorsList(),\n    anchortype_pb.AnchorBasic.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AnchorListReply}\n */\nproto.pb.cms.AnchorListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AnchorListReply;\n  return proto.pb.cms.AnchorListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AnchorListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AnchorListReply}\n */\nproto.pb.cms.AnchorListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new anchortype_pb.AnchorBasic;\n      reader.readMessage(value,anchortype_pb.AnchorBasic.deserializeBinaryFromReader);\n      msg.addAnchors(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AnchorListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AnchorListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AnchorListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAnchorsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      anchortype_pb.AnchorBasic.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.AnchorBasic anchors = 1;\n * @return {!Array<!proto.pb.AnchorBasic>}\n */\nproto.pb.cms.AnchorListReply.prototype.getAnchorsList = function() {\n  return /** @type{!Array<!proto.pb.AnchorBasic>} */ (\n    jspb.Message.getRepeatedWrapperField(this, anchortype_pb.AnchorBasic, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.AnchorBasic>} value\n * @return {!proto.pb.cms.AnchorListReply} returns this\n*/\nproto.pb.cms.AnchorListReply.prototype.setAnchorsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.AnchorBasic=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.AnchorBasic}\n */\nproto.pb.cms.AnchorListReply.prototype.addAnchors = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.AnchorBasic, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.AnchorListReply} returns this\n */\nproto.pb.cms.AnchorListReply.prototype.clearAnchorsList = function() {\n  return this.setAnchorsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.AnchorListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListReply} returns this\n */\nproto.pb.cms.AnchorListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.AnchorListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListReply} returns this\n */\nproto.pb.cms.AnchorListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.AnchorListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListReply} returns this\n */\nproto.pb.cms.AnchorListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.AnchorListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorListReply} returns this\n */\nproto.pb.cms.AnchorListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.UserListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.UserListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.UserListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.UserListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    userId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    nickname: jspb.Message.getFieldWithDefault(msg, 5, \"\"),\n    vipOnly: jspb.Message.getBooleanFieldWithDefault(msg, 6, false),\n    depositOnly: jspb.Message.getBooleanFieldWithDefault(msg, 7, false),\n    minBalance: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 9, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 10, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.UserListRequest}\n */\nproto.pb.cms.UserListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.UserListRequest;\n  return proto.pb.cms.UserListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.UserListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.UserListRequest}\n */\nproto.pb.cms.UserListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setUserId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setNickname(value);\n      break;\n    case 6:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setVipOnly(value);\n      break;\n    case 7:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setDepositOnly(value);\n      break;\n    case 8:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setMinBalance(value);\n      break;\n    case 9:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.UserListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.UserListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.UserListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.UserListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getUserId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getNickname();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n  f = message.getVipOnly();\n  if (f) {\n    writer.writeBool(\n      6,\n      f\n    );\n  }\n  f = message.getDepositOnly();\n  if (f) {\n    writer.writeBool(\n      7,\n      f\n    );\n  }\n  f = message.getMinBalance();\n  if (f !== 0) {\n    writer.writeUint32(\n      8,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      9,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      10,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 user_id = 3;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getUserId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setUserId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 area_id = 4;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional string nickname = 5;\n * @return {string}\n */\nproto.pb.cms.UserListRequest.prototype.getNickname = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setNickname = function(value) {\n  return jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n/**\n * optional bool vip_only = 6;\n * @return {boolean}\n */\nproto.pb.cms.UserListRequest.prototype.getVipOnly = function() {\n  return /** @type {boolean} */ (jspb.Message.getBooleanFieldWithDefault(this, 6, false));\n};\n\n\n/**\n * @param {boolean} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setVipOnly = function(value) {\n  return jspb.Message.setProto3BooleanField(this, 6, value);\n};\n\n\n/**\n * optional bool deposit_only = 7;\n * @return {boolean}\n */\nproto.pb.cms.UserListRequest.prototype.getDepositOnly = function() {\n  return /** @type {boolean} */ (jspb.Message.getBooleanFieldWithDefault(this, 7, false));\n};\n\n\n/**\n * @param {boolean} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setDepositOnly = function(value) {\n  return jspb.Message.setProto3BooleanField(this, 7, value);\n};\n\n\n/**\n * optional uint32 min_balance = 8;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getMinBalance = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setMinBalance = function(value) {\n  return jspb.Message.setProto3IntField(this, 8, value);\n};\n\n\n/**\n * optional uint32 created_start = 9;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 9, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 9, value);\n};\n\n\n/**\n * optional uint32 created_end = 10;\n * @return {number}\n */\nproto.pb.cms.UserListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListRequest} returns this\n */\nproto.pb.cms.UserListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.UserListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.UserListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.UserListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.UserListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.UserListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    usersList: jspb.Message.toObjectList(msg.getUsersList(),\n    usertype_pb.User.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.UserListReply}\n */\nproto.pb.cms.UserListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.UserListReply;\n  return proto.pb.cms.UserListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.UserListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.UserListReply}\n */\nproto.pb.cms.UserListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.User;\n      reader.readMessage(value,usertype_pb.User.deserializeBinaryFromReader);\n      msg.addUsers(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.UserListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.UserListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.UserListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.UserListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getUsersList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.User.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.User users = 1;\n * @return {!Array<!proto.pb.User>}\n */\nproto.pb.cms.UserListReply.prototype.getUsersList = function() {\n  return /** @type{!Array<!proto.pb.User>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.User, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.User>} value\n * @return {!proto.pb.cms.UserListReply} returns this\n*/\nproto.pb.cms.UserListReply.prototype.setUsersList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.User=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.User}\n */\nproto.pb.cms.UserListReply.prototype.addUsers = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.User, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.UserListReply} returns this\n */\nproto.pb.cms.UserListReply.prototype.clearUsersList = function() {\n  return this.setUsersList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.UserListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListReply} returns this\n */\nproto.pb.cms.UserListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.UserListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListReply} returns this\n */\nproto.pb.cms.UserListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.UserListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListReply} returns this\n */\nproto.pb.cms.UserListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.UserListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UserListReply} returns this\n */\nproto.pb.cms.UserListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AdjustBalanceRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AdjustBalanceRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdjustBalanceRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    entityType: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    entityId: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    amount: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    sendNotify: jspb.Message.getBooleanFieldWithDefault(msg, 4, false),\n    desc: jspb.Message.getFieldWithDefault(msg, 5, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AdjustBalanceRequest}\n */\nproto.pb.cms.AdjustBalanceRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AdjustBalanceRequest;\n  return proto.pb.cms.AdjustBalanceRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AdjustBalanceRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AdjustBalanceRequest}\n */\nproto.pb.cms.AdjustBalanceRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setEntityType(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setEntityId(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readInt32());\n      msg.setAmount(value);\n      break;\n    case 4:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setSendNotify(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setDesc(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AdjustBalanceRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AdjustBalanceRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdjustBalanceRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEntityType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getEntityId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAmount();\n  if (f !== 0) {\n    writer.writeInt32(\n      3,\n      f\n    );\n  }\n  f = message.getSendNotify();\n  if (f) {\n    writer.writeBool(\n      4,\n      f\n    );\n  }\n  f = message.getDesc();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional pb.EntityType entity_type = 1;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.getEntityType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.AdjustBalanceRequest} returns this\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.setEntityType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional uint32 entity_id = 2;\n * @return {number}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.getEntityId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AdjustBalanceRequest} returns this\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.setEntityId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional int32 amount = 3;\n * @return {number}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.getAmount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AdjustBalanceRequest} returns this\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.setAmount = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional bool send_notify = 4;\n * @return {boolean}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.getSendNotify = function() {\n  return /** @type {boolean} */ (jspb.Message.getBooleanFieldWithDefault(this, 4, false));\n};\n\n\n/**\n * @param {boolean} value\n * @return {!proto.pb.cms.AdjustBalanceRequest} returns this\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.setSendNotify = function(value) {\n  return jspb.Message.setProto3BooleanField(this, 4, value);\n};\n\n\n/**\n * optional string desc = 5;\n * @return {string}\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.getDesc = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.AdjustBalanceRequest} returns this\n */\nproto.pb.cms.AdjustBalanceRequest.prototype.setDesc = function(value) {\n  return jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AdjustBalanceReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AdjustBalanceReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AdjustBalanceReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdjustBalanceReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    balance: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AdjustBalanceReply}\n */\nproto.pb.cms.AdjustBalanceReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AdjustBalanceReply;\n  return proto.pb.cms.AdjustBalanceReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AdjustBalanceReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AdjustBalanceReply}\n */\nproto.pb.cms.AdjustBalanceReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setBalance(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AdjustBalanceReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AdjustBalanceReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AdjustBalanceReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdjustBalanceReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getBalance();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 balance = 1;\n * @return {number}\n */\nproto.pb.cms.AdjustBalanceReply.prototype.getBalance = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AdjustBalanceReply} returns this\n */\nproto.pb.cms.AdjustBalanceReply.prototype.setBalance = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.BlockRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.BlockRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.BlockRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.BlockRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    entityType: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    entityId: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    blockStatus: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    duration: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    reason: jspb.Message.getFieldWithDefault(msg, 5, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.BlockRequest}\n */\nproto.pb.cms.BlockRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.BlockRequest;\n  return proto.pb.cms.BlockRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.BlockRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.BlockRequest}\n */\nproto.pb.cms.BlockRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setEntityType(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setEntityId(value);\n      break;\n    case 3:\n      var value = /** @type {!proto.pb.BlockStatus} */ (reader.readEnum());\n      msg.setBlockStatus(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setDuration(value);\n      break;\n    case 5:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setReason(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.BlockRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.BlockRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.BlockRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.BlockRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEntityType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getEntityId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getBlockStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      3,\n      f\n    );\n  }\n  f = message.getDuration();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getReason();\n  if (f.length > 0) {\n    writer.writeString(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional pb.EntityType entity_type = 1;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.BlockRequest.prototype.getEntityType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.BlockRequest} returns this\n */\nproto.pb.cms.BlockRequest.prototype.setEntityType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional uint32 entity_id = 2;\n * @return {number}\n */\nproto.pb.cms.BlockRequest.prototype.getEntityId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.BlockRequest} returns this\n */\nproto.pb.cms.BlockRequest.prototype.setEntityId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional pb.BlockStatus block_status = 3;\n * @return {!proto.pb.BlockStatus}\n */\nproto.pb.cms.BlockRequest.prototype.getBlockStatus = function() {\n  return /** @type {!proto.pb.BlockStatus} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {!proto.pb.BlockStatus} value\n * @return {!proto.pb.cms.BlockRequest} returns this\n */\nproto.pb.cms.BlockRequest.prototype.setBlockStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 3, value);\n};\n\n\n/**\n * optional uint32 duration = 4;\n * @return {number}\n */\nproto.pb.cms.BlockRequest.prototype.getDuration = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.BlockRequest} returns this\n */\nproto.pb.cms.BlockRequest.prototype.setDuration = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional string reason = 5;\n * @return {string}\n */\nproto.pb.cms.BlockRequest.prototype.getReason = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 5, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.BlockRequest} returns this\n */\nproto.pb.cms.BlockRequest.prototype.setReason = function(value) {\n  return jspb.Message.setProto3StringField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.UnblockRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.UnblockRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.UnblockRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.UnblockRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    entityType: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    entityId: jspb.Message.getFieldWithDefault(msg, 2, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.UnblockRequest}\n */\nproto.pb.cms.UnblockRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.UnblockRequest;\n  return proto.pb.cms.UnblockRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.UnblockRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.UnblockRequest}\n */\nproto.pb.cms.UnblockRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setEntityType(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setEntityId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.UnblockRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.UnblockRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.UnblockRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.UnblockRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEntityType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getEntityId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional pb.EntityType entity_type = 1;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.UnblockRequest.prototype.getEntityType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.UnblockRequest} returns this\n */\nproto.pb.cms.UnblockRequest.prototype.setEntityType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional uint32 entity_id = 2;\n * @return {number}\n */\nproto.pb.cms.UnblockRequest.prototype.getEntityId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.UnblockRequest} returns this\n */\nproto.pb.cms.UnblockRequest.prototype.setEntityId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.MigrateRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.MigrateRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.MigrateRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.MigrateRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    entityType: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    srcId: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    dstId: jspb.Message.getFieldWithDefault(msg, 3, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.MigrateRequest}\n */\nproto.pb.cms.MigrateRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.MigrateRequest;\n  return proto.pb.cms.MigrateRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.MigrateRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.MigrateRequest}\n */\nproto.pb.cms.MigrateRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setEntityType(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setSrcId(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setDstId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.MigrateRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.MigrateRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.MigrateRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.MigrateRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEntityType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getSrcId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getDstId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional pb.EntityType entity_type = 1;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.MigrateRequest.prototype.getEntityType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.MigrateRequest} returns this\n */\nproto.pb.cms.MigrateRequest.prototype.setEntityType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional uint32 src_id = 2;\n * @return {number}\n */\nproto.pb.cms.MigrateRequest.prototype.getSrcId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.MigrateRequest} returns this\n */\nproto.pb.cms.MigrateRequest.prototype.setSrcId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 dst_id = 3;\n * @return {number}\n */\nproto.pb.cms.MigrateRequest.prototype.getDstId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.MigrateRequest} returns this\n */\nproto.pb.cms.MigrateRequest.prototype.setDstId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AuthorizeAnchorRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AuthorizeAnchorRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AuthorizeAnchorRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    anchorId: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    guildId: jspb.Message.getFieldWithDefault(msg, 3, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AuthorizeAnchorRequest}\n */\nproto.pb.cms.AuthorizeAnchorRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AuthorizeAnchorRequest;\n  return proto.pb.cms.AuthorizeAnchorRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AuthorizeAnchorRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AuthorizeAnchorRequest}\n */\nproto.pb.cms.AuthorizeAnchorRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setGuildId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AuthorizeAnchorRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AuthorizeAnchorRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AuthorizeAnchorRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getGuildId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 anchor_id = 1;\n * @return {number}\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AuthorizeAnchorRequest} returns this\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 area_id = 2;\n * @return {number}\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AuthorizeAnchorRequest} returns this\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 guild_id = 3;\n * @return {number}\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.getGuildId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AuthorizeAnchorRequest} returns this\n */\nproto.pb.cms.AuthorizeAnchorRequest.prototype.setGuildId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AnchorFullRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AnchorFullRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AnchorFullRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorFullRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    anchorId: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AnchorFullRequest}\n */\nproto.pb.cms.AnchorFullRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AnchorFullRequest;\n  return proto.pb.cms.AnchorFullRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AnchorFullRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AnchorFullRequest}\n */\nproto.pb.cms.AnchorFullRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AnchorFullRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AnchorFullRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AnchorFullRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorFullRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 anchor_id = 1;\n * @return {number}\n */\nproto.pb.cms.AnchorFullRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AnchorFullRequest} returns this\n */\nproto.pb.cms.AnchorFullRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.AnchorFullReply.repeatedFields_ = [2];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AnchorFullReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AnchorFullReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AnchorFullReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorFullReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    basic: (f = msg.getBasic()) && anchortype_pb.AnchorBasic.toObject(includeInstance, f),\n    profilesList: jspb.Message.toObjectList(msg.getProfilesList(),\n    anchortype_pb.AnchorProfile.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AnchorFullReply}\n */\nproto.pb.cms.AnchorFullReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AnchorFullReply;\n  return proto.pb.cms.AnchorFullReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AnchorFullReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AnchorFullReply}\n */\nproto.pb.cms.AnchorFullReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new anchortype_pb.AnchorBasic;\n      reader.readMessage(value,anchortype_pb.AnchorBasic.deserializeBinaryFromReader);\n      msg.setBasic(value);\n      break;\n    case 2:\n      var value = new anchortype_pb.AnchorProfile;\n      reader.readMessage(value,anchortype_pb.AnchorProfile.deserializeBinaryFromReader);\n      msg.addProfiles(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AnchorFullReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AnchorFullReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AnchorFullReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AnchorFullReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getBasic();\n  if (f != null) {\n    writer.writeMessage(\n      1,\n      f,\n      anchortype_pb.AnchorBasic.serializeBinaryToWriter\n    );\n  }\n  f = message.getProfilesList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      2,\n      f,\n      anchortype_pb.AnchorProfile.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * optional pb.AnchorBasic basic = 1;\n * @return {?proto.pb.AnchorBasic}\n */\nproto.pb.cms.AnchorFullReply.prototype.getBasic = function() {\n  return /** @type{?proto.pb.AnchorBasic} */ (\n    jspb.Message.getWrapperField(this, anchortype_pb.AnchorBasic, 1));\n};\n\n\n/**\n * @param {?proto.pb.AnchorBasic|undefined} value\n * @return {!proto.pb.cms.AnchorFullReply} returns this\n*/\nproto.pb.cms.AnchorFullReply.prototype.setBasic = function(value) {\n  return jspb.Message.setWrapperField(this, 1, value);\n};\n\n\n/**\n * Clears the message field making it undefined.\n * @return {!proto.pb.cms.AnchorFullReply} returns this\n */\nproto.pb.cms.AnchorFullReply.prototype.clearBasic = function() {\n  return this.setBasic(undefined);\n};\n\n\n/**\n * Returns whether this field is set.\n * @return {boolean}\n */\nproto.pb.cms.AnchorFullReply.prototype.hasBasic = function() {\n  return jspb.Message.getField(this, 1) != null;\n};\n\n\n/**\n * repeated pb.AnchorProfile profiles = 2;\n * @return {!Array<!proto.pb.AnchorProfile>}\n */\nproto.pb.cms.AnchorFullReply.prototype.getProfilesList = function() {\n  return /** @type{!Array<!proto.pb.AnchorProfile>} */ (\n    jspb.Message.getRepeatedWrapperField(this, anchortype_pb.AnchorProfile, 2));\n};\n\n\n/**\n * @param {!Array<!proto.pb.AnchorProfile>} value\n * @return {!proto.pb.cms.AnchorFullReply} returns this\n*/\nproto.pb.cms.AnchorFullReply.prototype.setProfilesList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 2, value);\n};\n\n\n/**\n * @param {!proto.pb.AnchorProfile=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.AnchorProfile}\n */\nproto.pb.cms.AnchorFullReply.prototype.addProfiles = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 2, opt_value, proto.pb.AnchorProfile, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.AnchorFullReply} returns this\n */\nproto.pb.cms.AnchorFullReply.prototype.clearProfilesList = function() {\n  return this.setProfilesList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ProfileListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ProfileListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ProfileListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProfileListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    anchorId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    status: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ProfileListRequest}\n */\nproto.pb.cms.ProfileListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ProfileListRequest;\n  return proto.pb.cms.ProfileListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ProfileListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ProfileListRequest}\n */\nproto.pb.cms.ProfileListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 5:\n      var value = /** @type {!proto.pb.ReviewStatus} */ (reader.readEnum());\n      msg.setStatus(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ProfileListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ProfileListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ProfileListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProfileListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.ProfileListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListRequest} returns this\n */\nproto.pb.cms.ProfileListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.ProfileListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListRequest} returns this\n */\nproto.pb.cms.ProfileListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 anchor_id = 3;\n * @return {number}\n */\nproto.pb.cms.ProfileListRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListRequest} returns this\n */\nproto.pb.cms.ProfileListRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 area_id = 4;\n * @return {number}\n */\nproto.pb.cms.ProfileListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListRequest} returns this\n */\nproto.pb.cms.ProfileListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional pb.ReviewStatus status = 5;\n * @return {!proto.pb.ReviewStatus}\n */\nproto.pb.cms.ProfileListRequest.prototype.getStatus = function() {\n  return /** @type {!proto.pb.ReviewStatus} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {!proto.pb.ReviewStatus} value\n * @return {!proto.pb.cms.ProfileListRequest} returns this\n */\nproto.pb.cms.ProfileListRequest.prototype.setStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.ProfileListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ProfileListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ProfileListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ProfileListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProfileListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    profilesList: jspb.Message.toObjectList(msg.getProfilesList(),\n    anchortype_pb.AnchorProfile.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ProfileListReply}\n */\nproto.pb.cms.ProfileListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ProfileListReply;\n  return proto.pb.cms.ProfileListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ProfileListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ProfileListReply}\n */\nproto.pb.cms.ProfileListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new anchortype_pb.AnchorProfile;\n      reader.readMessage(value,anchortype_pb.AnchorProfile.deserializeBinaryFromReader);\n      msg.addProfiles(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ProfileListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ProfileListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ProfileListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProfileListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getProfilesList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      anchortype_pb.AnchorProfile.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.AnchorProfile profiles = 1;\n * @return {!Array<!proto.pb.AnchorProfile>}\n */\nproto.pb.cms.ProfileListReply.prototype.getProfilesList = function() {\n  return /** @type{!Array<!proto.pb.AnchorProfile>} */ (\n    jspb.Message.getRepeatedWrapperField(this, anchortype_pb.AnchorProfile, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.AnchorProfile>} value\n * @return {!proto.pb.cms.ProfileListReply} returns this\n*/\nproto.pb.cms.ProfileListReply.prototype.setProfilesList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.AnchorProfile=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.AnchorProfile}\n */\nproto.pb.cms.ProfileListReply.prototype.addProfiles = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.AnchorProfile, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.ProfileListReply} returns this\n */\nproto.pb.cms.ProfileListReply.prototype.clearProfilesList = function() {\n  return this.setProfilesList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.ProfileListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListReply} returns this\n */\nproto.pb.cms.ProfileListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.ProfileListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListReply} returns this\n */\nproto.pb.cms.ProfileListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.ProfileListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListReply} returns this\n */\nproto.pb.cms.ProfileListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.ProfileListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProfileListReply} returns this\n */\nproto.pb.cms.ProfileListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ProcessProfileRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ProcessProfileRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ProcessProfileRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProcessProfileRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    profileId: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    status: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    reason: jspb.Message.getFieldWithDefault(msg, 3, \"\")\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ProcessProfileRequest}\n */\nproto.pb.cms.ProcessProfileRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ProcessProfileRequest;\n  return proto.pb.cms.ProcessProfileRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ProcessProfileRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ProcessProfileRequest}\n */\nproto.pb.cms.ProcessProfileRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setProfileId(value);\n      break;\n    case 2:\n      var value = /** @type {!proto.pb.ReviewStatus} */ (reader.readEnum());\n      msg.setStatus(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setReason(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ProcessProfileRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ProcessProfileRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ProcessProfileRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProcessProfileRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getProfileId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      2,\n      f\n    );\n  }\n  f = message.getReason();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 profile_id = 1;\n * @return {number}\n */\nproto.pb.cms.ProcessProfileRequest.prototype.getProfileId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProcessProfileRequest} returns this\n */\nproto.pb.cms.ProcessProfileRequest.prototype.setProfileId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional pb.ReviewStatus status = 2;\n * @return {!proto.pb.ReviewStatus}\n */\nproto.pb.cms.ProcessProfileRequest.prototype.getStatus = function() {\n  return /** @type {!proto.pb.ReviewStatus} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {!proto.pb.ReviewStatus} value\n * @return {!proto.pb.cms.ProcessProfileRequest} returns this\n */\nproto.pb.cms.ProcessProfileRequest.prototype.setStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 2, value);\n};\n\n\n/**\n * optional string reason = 3;\n * @return {string}\n */\nproto.pb.cms.ProcessProfileRequest.prototype.getReason = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.ProcessProfileRequest} returns this\n */\nproto.pb.cms.ProcessProfileRequest.prototype.setReason = function(value) {\n  return jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.ViolationListRequest.repeatedFields_ = [4];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ViolationListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ViolationListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ViolationListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ViolationListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    dealStatusList: (f = jspb.Message.getRepeatedField(msg, 4)) == null ? undefined : f,\n    scene: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    reporterType: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    reporterId: jspb.Message.getFieldWithDefault(msg, 7, 0),\n    reportedType: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    reportedId: jspb.Message.getFieldWithDefault(msg, 9, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 10, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 11, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ViolationListRequest}\n */\nproto.pb.cms.ViolationListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ViolationListRequest;\n  return proto.pb.cms.ViolationListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ViolationListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ViolationListRequest}\n */\nproto.pb.cms.ViolationListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var values = /** @type {!Array<!proto.pb.BlockStatus>} */ (reader.isDelimited() ? reader.readPackedEnum() : [reader.readEnum()]);\n      for (var i = 0; i < values.length; i++) {\n        msg.addDealStatus(values[i]);\n      }\n      break;\n    case 5:\n      var value = /** @type {!proto.pb.ViolationScene} */ (reader.readEnum());\n      msg.setScene(value);\n      break;\n    case 6:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setReporterType(value);\n      break;\n    case 7:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setReporterId(value);\n      break;\n    case 8:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setReportedType(value);\n      break;\n    case 9:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setReportedId(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 11:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ViolationListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ViolationListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ViolationListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ViolationListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getDealStatusList();\n  if (f.length > 0) {\n    writer.writePackedEnum(\n      4,\n      f\n    );\n  }\n  f = message.getScene();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n  f = message.getReporterType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      6,\n      f\n    );\n  }\n  f = message.getReporterId();\n  if (f !== 0) {\n    writer.writeUint32(\n      7,\n      f\n    );\n  }\n  f = message.getReportedType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      8,\n      f\n    );\n  }\n  f = message.getReportedId();\n  if (f !== 0) {\n    writer.writeUint32(\n      9,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      10,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      11,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * repeated pb.BlockStatus deal_status = 4;\n * @return {!Array<!proto.pb.BlockStatus>}\n */\nproto.pb.cms.ViolationListRequest.prototype.getDealStatusList = function() {\n  return /** @type {!Array<!proto.pb.BlockStatus>} */ (jspb.Message.getRepeatedField(this, 4));\n};\n\n\n/**\n * @param {!Array<!proto.pb.BlockStatus>} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setDealStatusList = function(value) {\n  return jspb.Message.setField(this, 4, value || []);\n};\n\n\n/**\n * @param {!proto.pb.BlockStatus} value\n * @param {number=} opt_index\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.addDealStatus = function(value, opt_index) {\n  return jspb.Message.addToRepeatedField(this, 4, value, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.clearDealStatusList = function() {\n  return this.setDealStatusList([]);\n};\n\n\n/**\n * optional pb.ViolationScene Scene = 5;\n * @return {!proto.pb.ViolationScene}\n */\nproto.pb.cms.ViolationListRequest.prototype.getScene = function() {\n  return /** @type {!proto.pb.ViolationScene} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {!proto.pb.ViolationScene} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setScene = function(value) {\n  return jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n/**\n * optional pb.EntityType reporter_type = 6;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.ViolationListRequest.prototype.getReporterType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setReporterType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 6, value);\n};\n\n\n/**\n * optional uint32 reporter_id = 7;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getReporterId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setReporterId = function(value) {\n  return jspb.Message.setProto3IntField(this, 7, value);\n};\n\n\n/**\n * optional pb.EntityType reported_type = 8;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.ViolationListRequest.prototype.getReportedType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setReportedType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 8, value);\n};\n\n\n/**\n * optional uint32 reported_id = 9;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getReportedId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 9, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setReportedId = function(value) {\n  return jspb.Message.setProto3IntField(this, 9, value);\n};\n\n\n/**\n * optional uint32 created_start = 10;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n/**\n * optional uint32 created_end = 11;\n * @return {number}\n */\nproto.pb.cms.ViolationListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 11, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListRequest} returns this\n */\nproto.pb.cms.ViolationListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 11, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.ViolationListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ViolationListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ViolationListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ViolationListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ViolationListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    recordsList: jspb.Message.toObjectList(msg.getRecordsList(),\n    usertype_pb.ViolationRecord.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ViolationListReply}\n */\nproto.pb.cms.ViolationListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ViolationListReply;\n  return proto.pb.cms.ViolationListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ViolationListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ViolationListReply}\n */\nproto.pb.cms.ViolationListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.ViolationRecord;\n      reader.readMessage(value,usertype_pb.ViolationRecord.deserializeBinaryFromReader);\n      msg.addRecords(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ViolationListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ViolationListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ViolationListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ViolationListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getRecordsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.ViolationRecord.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.ViolationRecord records = 1;\n * @return {!Array<!proto.pb.ViolationRecord>}\n */\nproto.pb.cms.ViolationListReply.prototype.getRecordsList = function() {\n  return /** @type{!Array<!proto.pb.ViolationRecord>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.ViolationRecord, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.ViolationRecord>} value\n * @return {!proto.pb.cms.ViolationListReply} returns this\n*/\nproto.pb.cms.ViolationListReply.prototype.setRecordsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.ViolationRecord=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.ViolationRecord}\n */\nproto.pb.cms.ViolationListReply.prototype.addRecords = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.ViolationRecord, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.ViolationListReply} returns this\n */\nproto.pb.cms.ViolationListReply.prototype.clearRecordsList = function() {\n  return this.setRecordsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.ViolationListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListReply} returns this\n */\nproto.pb.cms.ViolationListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.ViolationListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListReply} returns this\n */\nproto.pb.cms.ViolationListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.ViolationListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListReply} returns this\n */\nproto.pb.cms.ViolationListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.ViolationListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ViolationListReply} returns this\n */\nproto.pb.cms.ViolationListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ProcessViolationRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ProcessViolationRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ProcessViolationRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProcessViolationRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    violationId: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    dealStatus: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    dealMessage: jspb.Message.getFieldWithDefault(msg, 3, \"\"),\n    blockDuration: jspb.Message.getFieldWithDefault(msg, 4, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ProcessViolationRequest}\n */\nproto.pb.cms.ProcessViolationRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ProcessViolationRequest;\n  return proto.pb.cms.ProcessViolationRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ProcessViolationRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ProcessViolationRequest}\n */\nproto.pb.cms.ProcessViolationRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint64());\n      msg.setViolationId(value);\n      break;\n    case 2:\n      var value = /** @type {!proto.pb.BlockStatus} */ (reader.readEnum());\n      msg.setDealStatus(value);\n      break;\n    case 3:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setDealMessage(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setBlockDuration(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ProcessViolationRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ProcessViolationRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ProcessViolationRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ProcessViolationRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getViolationId();\n  if (f !== 0) {\n    writer.writeUint64(\n      1,\n      f\n    );\n  }\n  f = message.getDealStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      2,\n      f\n    );\n  }\n  f = message.getDealMessage();\n  if (f.length > 0) {\n    writer.writeString(\n      3,\n      f\n    );\n  }\n  f = message.getBlockDuration();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint64 violation_id = 1;\n * @return {number}\n */\nproto.pb.cms.ProcessViolationRequest.prototype.getViolationId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProcessViolationRequest} returns this\n */\nproto.pb.cms.ProcessViolationRequest.prototype.setViolationId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional pb.BlockStatus deal_status = 2;\n * @return {!proto.pb.BlockStatus}\n */\nproto.pb.cms.ProcessViolationRequest.prototype.getDealStatus = function() {\n  return /** @type {!proto.pb.BlockStatus} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {!proto.pb.BlockStatus} value\n * @return {!proto.pb.cms.ProcessViolationRequest} returns this\n */\nproto.pb.cms.ProcessViolationRequest.prototype.setDealStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 2, value);\n};\n\n\n/**\n * optional string deal_message = 3;\n * @return {string}\n */\nproto.pb.cms.ProcessViolationRequest.prototype.getDealMessage = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 3, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.ProcessViolationRequest} returns this\n */\nproto.pb.cms.ProcessViolationRequest.prototype.setDealMessage = function(value) {\n  return jspb.Message.setProto3StringField(this, 3, value);\n};\n\n\n/**\n * optional uint32 block_duration = 4;\n * @return {number}\n */\nproto.pb.cms.ProcessViolationRequest.prototype.getBlockDuration = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ProcessViolationRequest} returns this\n */\nproto.pb.cms.ProcessViolationRequest.prototype.setBlockDuration = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.LiveListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.LiveListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.LiveListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.LiveListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    anchorId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    status: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 7, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.LiveListRequest}\n */\nproto.pb.cms.LiveListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.LiveListRequest;\n  return proto.pb.cms.LiveListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.LiveListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.LiveListRequest}\n */\nproto.pb.cms.LiveListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 5:\n      var value = /** @type {!proto.pb.ReviewStatus} */ (reader.readEnum());\n      msg.setStatus(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 7:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.LiveListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.LiveListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.LiveListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.LiveListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      6,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      7,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.LiveListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.LiveListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.LiveListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 anchor_id = 4;\n * @return {number}\n */\nproto.pb.cms.LiveListRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional pb.ReviewStatus status = 5;\n * @return {!proto.pb.ReviewStatus}\n */\nproto.pb.cms.LiveListRequest.prototype.getStatus = function() {\n  return /** @type {!proto.pb.ReviewStatus} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {!proto.pb.ReviewStatus} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n/**\n * optional uint32 created_start = 6;\n * @return {number}\n */\nproto.pb.cms.LiveListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * optional uint32 created_end = 7;\n * @return {number}\n */\nproto.pb.cms.LiveListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListRequest} returns this\n */\nproto.pb.cms.LiveListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 7, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.LiveListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.LiveListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.LiveListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.LiveListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.LiveListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    recordsList: jspb.Message.toObjectList(msg.getRecordsList(),\n    usertype_pb.FileRecord.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.LiveListReply}\n */\nproto.pb.cms.LiveListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.LiveListReply;\n  return proto.pb.cms.LiveListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.LiveListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.LiveListReply}\n */\nproto.pb.cms.LiveListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.FileRecord;\n      reader.readMessage(value,usertype_pb.FileRecord.deserializeBinaryFromReader);\n      msg.addRecords(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.LiveListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.LiveListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.LiveListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.LiveListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getRecordsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.FileRecord.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.FileRecord records = 1;\n * @return {!Array<!proto.pb.FileRecord>}\n */\nproto.pb.cms.LiveListReply.prototype.getRecordsList = function() {\n  return /** @type{!Array<!proto.pb.FileRecord>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.FileRecord, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.FileRecord>} value\n * @return {!proto.pb.cms.LiveListReply} returns this\n*/\nproto.pb.cms.LiveListReply.prototype.setRecordsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.FileRecord=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.FileRecord}\n */\nproto.pb.cms.LiveListReply.prototype.addRecords = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.FileRecord, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.LiveListReply} returns this\n */\nproto.pb.cms.LiveListReply.prototype.clearRecordsList = function() {\n  return this.setRecordsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.LiveListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListReply} returns this\n */\nproto.pb.cms.LiveListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.LiveListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListReply} returns this\n */\nproto.pb.cms.LiveListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.LiveListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListReply} returns this\n */\nproto.pb.cms.LiveListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.LiveListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.LiveListReply} returns this\n */\nproto.pb.cms.LiveListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.PayListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.PayListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.PayListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.PayListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    appId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    userId: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    recordId: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    status: jspb.Message.getFieldWithDefault(msg, 7, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 9, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.PayListRequest}\n */\nproto.pb.cms.PayListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.PayListRequest;\n  return proto.pb.cms.PayListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.PayListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.PayListRequest}\n */\nproto.pb.cms.PayListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAppId(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setUserId(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readUint64());\n      msg.setRecordId(value);\n      break;\n    case 7:\n      var value = /** @type {!proto.pb.PayStatus} */ (reader.readEnum());\n      msg.setStatus(value);\n      break;\n    case 8:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 9:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.PayListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.PayListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.PayListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.PayListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAppId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getUserId();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n  f = message.getRecordId();\n  if (f !== 0) {\n    writer.writeUint64(\n      6,\n      f\n    );\n  }\n  f = message.getStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      7,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      8,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      9,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 app_id = 4;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getAppId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setAppId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 user_id = 5;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getUserId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setUserId = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n/**\n * optional uint64 record_id = 6;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getRecordId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setRecordId = function(value) {\n  return jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * optional pb.PayStatus status = 7;\n * @return {!proto.pb.PayStatus}\n */\nproto.pb.cms.PayListRequest.prototype.getStatus = function() {\n  return /** @type {!proto.pb.PayStatus} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {!proto.pb.PayStatus} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 7, value);\n};\n\n\n/**\n * optional uint32 created_start = 8;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 8, value);\n};\n\n\n/**\n * optional uint32 created_end = 9;\n * @return {number}\n */\nproto.pb.cms.PayListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 9, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListRequest} returns this\n */\nproto.pb.cms.PayListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 9, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.PayListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.PayListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.PayListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.PayListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.PayListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    recordsList: jspb.Message.toObjectList(msg.getRecordsList(),\n    usertype_pb.PayRecord.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.PayListReply}\n */\nproto.pb.cms.PayListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.PayListReply;\n  return proto.pb.cms.PayListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.PayListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.PayListReply}\n */\nproto.pb.cms.PayListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.PayRecord;\n      reader.readMessage(value,usertype_pb.PayRecord.deserializeBinaryFromReader);\n      msg.addRecords(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.PayListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.PayListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.PayListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.PayListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getRecordsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.PayRecord.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.PayRecord records = 1;\n * @return {!Array<!proto.pb.PayRecord>}\n */\nproto.pb.cms.PayListReply.prototype.getRecordsList = function() {\n  return /** @type{!Array<!proto.pb.PayRecord>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.PayRecord, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.PayRecord>} value\n * @return {!proto.pb.cms.PayListReply} returns this\n*/\nproto.pb.cms.PayListReply.prototype.setRecordsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.PayRecord=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.PayRecord}\n */\nproto.pb.cms.PayListReply.prototype.addRecords = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.PayRecord, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.PayListReply} returns this\n */\nproto.pb.cms.PayListReply.prototype.clearRecordsList = function() {\n  return this.setRecordsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.PayListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListReply} returns this\n */\nproto.pb.cms.PayListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.PayListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListReply} returns this\n */\nproto.pb.cms.PayListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.PayListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListReply} returns this\n */\nproto.pb.cms.PayListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.PayListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.PayListReply} returns this\n */\nproto.pb.cms.PayListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.RobotListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.RobotListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.RobotListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    enable: jspb.Message.getBooleanFieldWithDefault(msg, 4, false),\n    robotId: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.RobotListRequest}\n */\nproto.pb.cms.RobotListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.RobotListRequest;\n  return proto.pb.cms.RobotListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.RobotListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.RobotListRequest}\n */\nproto.pb.cms.RobotListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setEnable(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setRobotId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.RobotListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.RobotListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.RobotListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getEnable();\n  if (f) {\n    writer.writeBool(\n      4,\n      f\n    );\n  }\n  f = message.getRobotId();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.RobotListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListRequest} returns this\n */\nproto.pb.cms.RobotListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.RobotListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListRequest} returns this\n */\nproto.pb.cms.RobotListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.RobotListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListRequest} returns this\n */\nproto.pb.cms.RobotListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional bool enable = 4;\n * @return {boolean}\n */\nproto.pb.cms.RobotListRequest.prototype.getEnable = function() {\n  return /** @type {boolean} */ (jspb.Message.getBooleanFieldWithDefault(this, 4, false));\n};\n\n\n/**\n * @param {boolean} value\n * @return {!proto.pb.cms.RobotListRequest} returns this\n */\nproto.pb.cms.RobotListRequest.prototype.setEnable = function(value) {\n  return jspb.Message.setProto3BooleanField(this, 4, value);\n};\n\n\n/**\n * optional uint32 robot_id = 5;\n * @return {number}\n */\nproto.pb.cms.RobotListRequest.prototype.getRobotId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListRequest} returns this\n */\nproto.pb.cms.RobotListRequest.prototype.setRobotId = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.RobotListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.RobotListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.RobotListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.RobotListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    robotsList: jspb.Message.toObjectList(msg.getRobotsList(),\n    anchortype_pb.AnchorProfile.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.RobotListReply}\n */\nproto.pb.cms.RobotListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.RobotListReply;\n  return proto.pb.cms.RobotListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.RobotListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.RobotListReply}\n */\nproto.pb.cms.RobotListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new anchortype_pb.AnchorProfile;\n      reader.readMessage(value,anchortype_pb.AnchorProfile.deserializeBinaryFromReader);\n      msg.addRobots(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.RobotListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.RobotListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.RobotListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getRobotsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      anchortype_pb.AnchorProfile.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.AnchorProfile robots = 1;\n * @return {!Array<!proto.pb.AnchorProfile>}\n */\nproto.pb.cms.RobotListReply.prototype.getRobotsList = function() {\n  return /** @type{!Array<!proto.pb.AnchorProfile>} */ (\n    jspb.Message.getRepeatedWrapperField(this, anchortype_pb.AnchorProfile, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.AnchorProfile>} value\n * @return {!proto.pb.cms.RobotListReply} returns this\n*/\nproto.pb.cms.RobotListReply.prototype.setRobotsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.AnchorProfile=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.AnchorProfile}\n */\nproto.pb.cms.RobotListReply.prototype.addRobots = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.AnchorProfile, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.RobotListReply} returns this\n */\nproto.pb.cms.RobotListReply.prototype.clearRobotsList = function() {\n  return this.setRobotsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.RobotListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListReply} returns this\n */\nproto.pb.cms.RobotListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.RobotListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListReply} returns this\n */\nproto.pb.cms.RobotListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.RobotListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListReply} returns this\n */\nproto.pb.cms.RobotListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.RobotListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotListReply} returns this\n */\nproto.pb.cms.RobotListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.RobotMessageListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.RobotMessageListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.RobotMessageListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotMessageListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    robotId: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.RobotMessageListRequest}\n */\nproto.pb.cms.RobotMessageListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.RobotMessageListRequest;\n  return proto.pb.cms.RobotMessageListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.RobotMessageListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.RobotMessageListRequest}\n */\nproto.pb.cms.RobotMessageListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setRobotId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.RobotMessageListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.RobotMessageListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.RobotMessageListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotMessageListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getRobotId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 robot_id = 1;\n * @return {number}\n */\nproto.pb.cms.RobotMessageListRequest.prototype.getRobotId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.RobotMessageListRequest} returns this\n */\nproto.pb.cms.RobotMessageListRequest.prototype.setRobotId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.RobotMessageListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.RobotMessageListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.RobotMessageListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.RobotMessageListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotMessageListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    messagesList: jspb.Message.toObjectList(msg.getMessagesList(),\n    cmstype_pb.RobotMessage.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.RobotMessageListReply}\n */\nproto.pb.cms.RobotMessageListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.RobotMessageListReply;\n  return proto.pb.cms.RobotMessageListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.RobotMessageListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.RobotMessageListReply}\n */\nproto.pb.cms.RobotMessageListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new cmstype_pb.RobotMessage;\n      reader.readMessage(value,cmstype_pb.RobotMessage.deserializeBinaryFromReader);\n      msg.addMessages(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.RobotMessageListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.RobotMessageListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.RobotMessageListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.RobotMessageListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getMessagesList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      cmstype_pb.RobotMessage.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.RobotMessage messages = 1;\n * @return {!Array<!proto.pb.RobotMessage>}\n */\nproto.pb.cms.RobotMessageListReply.prototype.getMessagesList = function() {\n  return /** @type{!Array<!proto.pb.RobotMessage>} */ (\n    jspb.Message.getRepeatedWrapperField(this, cmstype_pb.RobotMessage, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.RobotMessage>} value\n * @return {!proto.pb.cms.RobotMessageListReply} returns this\n*/\nproto.pb.cms.RobotMessageListReply.prototype.setMessagesList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.RobotMessage=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.RobotMessage}\n */\nproto.pb.cms.RobotMessageListReply.prototype.addMessages = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.RobotMessage, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.RobotMessageListReply} returns this\n */\nproto.pb.cms.RobotMessageListReply.prototype.clearMessagesList = function() {\n  return this.setMessagesList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.MomentListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.MomentListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.MomentListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.MomentListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    entityType: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    entityId: jspb.Message.getFieldWithDefault(msg, 2, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.MomentListRequest}\n */\nproto.pb.cms.MomentListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.MomentListRequest;\n  return proto.pb.cms.MomentListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.MomentListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.MomentListRequest}\n */\nproto.pb.cms.MomentListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setEntityType(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setEntityId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.MomentListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.MomentListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.MomentListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.MomentListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getEntityType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      1,\n      f\n    );\n  }\n  f = message.getEntityId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n};\n\n\n/**\n * optional pb.EntityType entity_type = 1;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.MomentListRequest.prototype.getEntityType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.MomentListRequest} returns this\n */\nproto.pb.cms.MomentListRequest.prototype.setEntityType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 1, value);\n};\n\n\n/**\n * optional uint32 entity_id = 2;\n * @return {number}\n */\nproto.pb.cms.MomentListRequest.prototype.getEntityId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.MomentListRequest} returns this\n */\nproto.pb.cms.MomentListRequest.prototype.setEntityId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.MomentListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.MomentListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.MomentListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.MomentListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.MomentListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    momentsList: jspb.Message.toObjectList(msg.getMomentsList(),\n    usertype_pb.Moment.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.MomentListReply}\n */\nproto.pb.cms.MomentListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.MomentListReply;\n  return proto.pb.cms.MomentListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.MomentListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.MomentListReply}\n */\nproto.pb.cms.MomentListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.Moment;\n      reader.readMessage(value,usertype_pb.Moment.deserializeBinaryFromReader);\n      msg.addMoments(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.MomentListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.MomentListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.MomentListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.MomentListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getMomentsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.Moment.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.Moment moments = 1;\n * @return {!Array<!proto.pb.Moment>}\n */\nproto.pb.cms.MomentListReply.prototype.getMomentsList = function() {\n  return /** @type{!Array<!proto.pb.Moment>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.Moment, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.Moment>} value\n * @return {!proto.pb.cms.MomentListReply} returns this\n*/\nproto.pb.cms.MomentListReply.prototype.setMomentsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.Moment=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.Moment}\n */\nproto.pb.cms.MomentListReply.prototype.addMoments = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.Moment, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.MomentListReply} returns this\n */\nproto.pb.cms.MomentListReply.prototype.clearMomentsList = function() {\n  return this.setMomentsList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AutoMessageListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AutoMessageListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AutoMessageListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    enable: jspb.Message.getBooleanFieldWithDefault(msg, 4, false),\n    action: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AutoMessageListRequest}\n */\nproto.pb.cms.AutoMessageListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AutoMessageListRequest;\n  return proto.pb.cms.AutoMessageListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AutoMessageListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AutoMessageListRequest}\n */\nproto.pb.cms.AutoMessageListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {boolean} */ (reader.readBool());\n      msg.setEnable(value);\n      break;\n    case 5:\n      var value = /** @type {!proto.pb.ActionType} */ (reader.readEnum());\n      msg.setAction(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AutoMessageListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AutoMessageListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AutoMessageListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getEnable();\n  if (f) {\n    writer.writeBool(\n      4,\n      f\n    );\n  }\n  f = message.getAction();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListRequest} returns this\n */\nproto.pb.cms.AutoMessageListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListRequest} returns this\n */\nproto.pb.cms.AutoMessageListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListRequest} returns this\n */\nproto.pb.cms.AutoMessageListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional bool enable = 4;\n * @return {boolean}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.getEnable = function() {\n  return /** @type {boolean} */ (jspb.Message.getBooleanFieldWithDefault(this, 4, false));\n};\n\n\n/**\n * @param {boolean} value\n * @return {!proto.pb.cms.AutoMessageListRequest} returns this\n */\nproto.pb.cms.AutoMessageListRequest.prototype.setEnable = function(value) {\n  return jspb.Message.setProto3BooleanField(this, 4, value);\n};\n\n\n/**\n * optional pb.ActionType action = 5;\n * @return {!proto.pb.ActionType}\n */\nproto.pb.cms.AutoMessageListRequest.prototype.getAction = function() {\n  return /** @type {!proto.pb.ActionType} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {!proto.pb.ActionType} value\n * @return {!proto.pb.cms.AutoMessageListRequest} returns this\n */\nproto.pb.cms.AutoMessageListRequest.prototype.setAction = function(value) {\n  return jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.AutoMessageListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AutoMessageListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AutoMessageListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AutoMessageListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AutoMessageListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    messagesList: jspb.Message.toObjectList(msg.getMessagesList(),\n    cmstype_pb.AutoMessage.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AutoMessageListReply}\n */\nproto.pb.cms.AutoMessageListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AutoMessageListReply;\n  return proto.pb.cms.AutoMessageListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AutoMessageListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AutoMessageListReply}\n */\nproto.pb.cms.AutoMessageListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new cmstype_pb.AutoMessage;\n      reader.readMessage(value,cmstype_pb.AutoMessage.deserializeBinaryFromReader);\n      msg.addMessages(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AutoMessageListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AutoMessageListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AutoMessageListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AutoMessageListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getMessagesList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      cmstype_pb.AutoMessage.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.AutoMessage messages = 1;\n * @return {!Array<!proto.pb.AutoMessage>}\n */\nproto.pb.cms.AutoMessageListReply.prototype.getMessagesList = function() {\n  return /** @type{!Array<!proto.pb.AutoMessage>} */ (\n    jspb.Message.getRepeatedWrapperField(this, cmstype_pb.AutoMessage, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.AutoMessage>} value\n * @return {!proto.pb.cms.AutoMessageListReply} returns this\n*/\nproto.pb.cms.AutoMessageListReply.prototype.setMessagesList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.AutoMessage=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.AutoMessage}\n */\nproto.pb.cms.AutoMessageListReply.prototype.addMessages = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.AutoMessage, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.AutoMessageListReply} returns this\n */\nproto.pb.cms.AutoMessageListReply.prototype.clearMessagesList = function() {\n  return this.setMessagesList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListReply} returns this\n */\nproto.pb.cms.AutoMessageListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListReply} returns this\n */\nproto.pb.cms.AutoMessageListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListReply} returns this\n */\nproto.pb.cms.AutoMessageListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.AutoMessageListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AutoMessageListReply} returns this\n */\nproto.pb.cms.AutoMessageListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ChatMessageListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ChatMessageListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ChatMessageListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    appId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    userId: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    anchorId: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    direction: jspb.Message.getFieldWithDefault(msg, 7, 0),\n    type: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    keyword: jspb.Message.getFieldWithDefault(msg, 9, \"\"),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 10, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 11, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ChatMessageListRequest}\n */\nproto.pb.cms.ChatMessageListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ChatMessageListRequest;\n  return proto.pb.cms.ChatMessageListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ChatMessageListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ChatMessageListRequest}\n */\nproto.pb.cms.ChatMessageListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAppId(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setUserId(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 7:\n      var value = /** @type {!proto.pb.MessageDirection} */ (reader.readEnum());\n      msg.setDirection(value);\n      break;\n    case 8:\n      var value = /** @type {!proto.pb.MessageType} */ (reader.readEnum());\n      msg.setType(value);\n      break;\n    case 9:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setKeyword(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 11:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ChatMessageListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ChatMessageListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ChatMessageListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAppId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getUserId();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      6,\n      f\n    );\n  }\n  f = message.getDirection();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      7,\n      f\n    );\n  }\n  f = message.getType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      8,\n      f\n    );\n  }\n  f = message.getKeyword();\n  if (f.length > 0) {\n    writer.writeString(\n      9,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      10,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      11,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 app_id = 4;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getAppId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setAppId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 user_id = 5;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getUserId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setUserId = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n/**\n * optional uint32 anchor_id = 6;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * optional pb.MessageDirection direction = 7;\n * @return {!proto.pb.MessageDirection}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getDirection = function() {\n  return /** @type {!proto.pb.MessageDirection} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {!proto.pb.MessageDirection} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setDirection = function(value) {\n  return jspb.Message.setProto3EnumField(this, 7, value);\n};\n\n\n/**\n * optional pb.MessageType type = 8;\n * @return {!proto.pb.MessageType}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getType = function() {\n  return /** @type {!proto.pb.MessageType} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {!proto.pb.MessageType} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 8, value);\n};\n\n\n/**\n * optional string keyword = 9;\n * @return {string}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getKeyword = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 9, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setKeyword = function(value) {\n  return jspb.Message.setProto3StringField(this, 9, value);\n};\n\n\n/**\n * optional uint32 created_start = 10;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n/**\n * optional uint32 created_end = 11;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 11, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListRequest} returns this\n */\nproto.pb.cms.ChatMessageListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 11, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.ChatMessageListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.ChatMessageListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.ChatMessageListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.ChatMessageListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ChatMessageListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    messagesList: jspb.Message.toObjectList(msg.getMessagesList(),\n    cmstype_pb.ChatMessage.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.ChatMessageListReply}\n */\nproto.pb.cms.ChatMessageListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.ChatMessageListReply;\n  return proto.pb.cms.ChatMessageListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.ChatMessageListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.ChatMessageListReply}\n */\nproto.pb.cms.ChatMessageListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new cmstype_pb.ChatMessage;\n      reader.readMessage(value,cmstype_pb.ChatMessage.deserializeBinaryFromReader);\n      msg.addMessages(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.ChatMessageListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.ChatMessageListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.ChatMessageListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.ChatMessageListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getMessagesList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      cmstype_pb.ChatMessage.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.ChatMessage messages = 1;\n * @return {!Array<!proto.pb.ChatMessage>}\n */\nproto.pb.cms.ChatMessageListReply.prototype.getMessagesList = function() {\n  return /** @type{!Array<!proto.pb.ChatMessage>} */ (\n    jspb.Message.getRepeatedWrapperField(this, cmstype_pb.ChatMessage, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.ChatMessage>} value\n * @return {!proto.pb.cms.ChatMessageListReply} returns this\n*/\nproto.pb.cms.ChatMessageListReply.prototype.setMessagesList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.ChatMessage=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.ChatMessage}\n */\nproto.pb.cms.ChatMessageListReply.prototype.addMessages = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.ChatMessage, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.ChatMessageListReply} returns this\n */\nproto.pb.cms.ChatMessageListReply.prototype.clearMessagesList = function() {\n  return this.setMessagesList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListReply} returns this\n */\nproto.pb.cms.ChatMessageListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListReply} returns this\n */\nproto.pb.cms.ChatMessageListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListReply} returns this\n */\nproto.pb.cms.ChatMessageListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.ChatMessageListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.ChatMessageListReply} returns this\n */\nproto.pb.cms.ChatMessageListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.CallListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.CallListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.CallListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.CallListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    appId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    userId: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    anchorId: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    callType: jspb.Message.getFieldWithDefault(msg, 7, 0),\n    hangType: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    status: jspb.Message.getFieldWithDefault(msg, 9, 0),\n    minDuration: jspb.Message.getFieldWithDefault(msg, 10, 0),\n    maxDuration: jspb.Message.getFieldWithDefault(msg, 11, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 12, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 13, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.CallListRequest}\n */\nproto.pb.cms.CallListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.CallListRequest;\n  return proto.pb.cms.CallListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.CallListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.CallListRequest}\n */\nproto.pb.cms.CallListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAppId(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setUserId(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 7:\n      var value = /** @type {!proto.pb.CallType} */ (reader.readEnum());\n      msg.setCallType(value);\n      break;\n    case 8:\n      var value = /** @type {!proto.pb.HangType} */ (reader.readEnum());\n      msg.setHangType(value);\n      break;\n    case 9:\n      var value = /** @type {!proto.pb.CallStatus} */ (reader.readEnum());\n      msg.setStatus(value);\n      break;\n    case 10:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setMinDuration(value);\n      break;\n    case 11:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setMaxDuration(value);\n      break;\n    case 12:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 13:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.CallListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.CallListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.CallListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.CallListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAppId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getUserId();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      6,\n      f\n    );\n  }\n  f = message.getCallType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      7,\n      f\n    );\n  }\n  f = message.getHangType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      8,\n      f\n    );\n  }\n  f = message.getStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      9,\n      f\n    );\n  }\n  f = message.getMinDuration();\n  if (f !== 0) {\n    writer.writeUint32(\n      10,\n      f\n    );\n  }\n  f = message.getMaxDuration();\n  if (f !== 0) {\n    writer.writeUint32(\n      11,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      12,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      13,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 app_id = 4;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getAppId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setAppId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 user_id = 5;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getUserId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setUserId = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n/**\n * optional uint32 anchor_id = 6;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * optional pb.CallType call_type = 7;\n * @return {!proto.pb.CallType}\n */\nproto.pb.cms.CallListRequest.prototype.getCallType = function() {\n  return /** @type {!proto.pb.CallType} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {!proto.pb.CallType} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setCallType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 7, value);\n};\n\n\n/**\n * optional pb.HangType hang_type = 8;\n * @return {!proto.pb.HangType}\n */\nproto.pb.cms.CallListRequest.prototype.getHangType = function() {\n  return /** @type {!proto.pb.HangType} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {!proto.pb.HangType} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setHangType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 8, value);\n};\n\n\n/**\n * optional pb.CallStatus status = 9;\n * @return {!proto.pb.CallStatus}\n */\nproto.pb.cms.CallListRequest.prototype.getStatus = function() {\n  return /** @type {!proto.pb.CallStatus} */ (jspb.Message.getFieldWithDefault(this, 9, 0));\n};\n\n\n/**\n * @param {!proto.pb.CallStatus} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 9, value);\n};\n\n\n/**\n * optional uint32 min_duration = 10;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getMinDuration = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 10, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setMinDuration = function(value) {\n  return jspb.Message.setProto3IntField(this, 10, value);\n};\n\n\n/**\n * optional uint32 max_duration = 11;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getMaxDuration = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 11, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setMaxDuration = function(value) {\n  return jspb.Message.setProto3IntField(this, 11, value);\n};\n\n\n/**\n * optional uint32 created_start = 12;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 12, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 12, value);\n};\n\n\n/**\n * optional uint32 created_end = 13;\n * @return {number}\n */\nproto.pb.cms.CallListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 13, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListRequest} returns this\n */\nproto.pb.cms.CallListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 13, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.CallListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.CallListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.CallListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.CallListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.CallListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    callsList: jspb.Message.toObjectList(msg.getCallsList(),\n    usertype_pb.CallRecord.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.CallListReply}\n */\nproto.pb.cms.CallListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.CallListReply;\n  return proto.pb.cms.CallListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.CallListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.CallListReply}\n */\nproto.pb.cms.CallListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.CallRecord;\n      reader.readMessage(value,usertype_pb.CallRecord.deserializeBinaryFromReader);\n      msg.addCalls(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.CallListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.CallListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.CallListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.CallListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getCallsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.CallRecord.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.CallRecord calls = 1;\n * @return {!Array<!proto.pb.CallRecord>}\n */\nproto.pb.cms.CallListReply.prototype.getCallsList = function() {\n  return /** @type{!Array<!proto.pb.CallRecord>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.CallRecord, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.CallRecord>} value\n * @return {!proto.pb.cms.CallListReply} returns this\n*/\nproto.pb.cms.CallListReply.prototype.setCallsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.CallRecord=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.CallRecord}\n */\nproto.pb.cms.CallListReply.prototype.addCalls = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.CallRecord, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.CallListReply} returns this\n */\nproto.pb.cms.CallListReply.prototype.clearCallsList = function() {\n  return this.setCallsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.CallListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListReply} returns this\n */\nproto.pb.cms.CallListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.CallListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListReply} returns this\n */\nproto.pb.cms.CallListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.CallListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListReply} returns this\n */\nproto.pb.cms.CallListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.CallListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CallListReply} returns this\n */\nproto.pb.cms.CallListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.TransactionListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.TransactionListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.TransactionListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.TransactionListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    pageNo: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    areaId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    appId: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    traderType: jspb.Message.getFieldWithDefault(msg, 5, 0),\n    traderId: jspb.Message.getFieldWithDefault(msg, 6, 0),\n    sourceType: jspb.Message.getFieldWithDefault(msg, 7, 0),\n    createdStart: jspb.Message.getFieldWithDefault(msg, 8, 0),\n    createdEnd: jspb.Message.getFieldWithDefault(msg, 9, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.TransactionListRequest}\n */\nproto.pb.cms.TransactionListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.TransactionListRequest;\n  return proto.pb.cms.TransactionListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.TransactionListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.TransactionListRequest}\n */\nproto.pb.cms.TransactionListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAppId(value);\n      break;\n    case 5:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setTraderType(value);\n      break;\n    case 6:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTraderId(value);\n      break;\n    case 7:\n      var value = /** @type {!proto.pb.EntityType} */ (reader.readEnum());\n      msg.setSourceType(value);\n      break;\n    case 8:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedStart(value);\n      break;\n    case 9:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setCreatedEnd(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.TransactionListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.TransactionListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.TransactionListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.TransactionListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getAppId();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTraderType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n  f = message.getTraderId();\n  if (f !== 0) {\n    writer.writeUint32(\n      6,\n      f\n    );\n  }\n  f = message.getSourceType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      7,\n      f\n    );\n  }\n  f = message.getCreatedStart();\n  if (f !== 0) {\n    writer.writeUint32(\n      8,\n      f\n    );\n  }\n  f = message.getCreatedEnd();\n  if (f !== 0) {\n    writer.writeUint32(\n      9,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 page_no = 1;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 page_size = 2;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 area_id = 3;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 app_id = 4;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getAppId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setAppId = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional pb.EntityType trader_type = 5;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.TransactionListRequest.prototype.getTraderType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setTraderType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n/**\n * optional uint32 trader_id = 6;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getTraderId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 6, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setTraderId = function(value) {\n  return jspb.Message.setProto3IntField(this, 6, value);\n};\n\n\n/**\n * optional pb.EntityType source_type = 7;\n * @return {!proto.pb.EntityType}\n */\nproto.pb.cms.TransactionListRequest.prototype.getSourceType = function() {\n  return /** @type {!proto.pb.EntityType} */ (jspb.Message.getFieldWithDefault(this, 7, 0));\n};\n\n\n/**\n * @param {!proto.pb.EntityType} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setSourceType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 7, value);\n};\n\n\n/**\n * optional uint32 created_start = 8;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getCreatedStart = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 8, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setCreatedStart = function(value) {\n  return jspb.Message.setProto3IntField(this, 8, value);\n};\n\n\n/**\n * optional uint32 created_end = 9;\n * @return {number}\n */\nproto.pb.cms.TransactionListRequest.prototype.getCreatedEnd = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 9, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListRequest} returns this\n */\nproto.pb.cms.TransactionListRequest.prototype.setCreatedEnd = function(value) {\n  return jspb.Message.setProto3IntField(this, 9, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.TransactionListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.TransactionListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.TransactionListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.TransactionListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.TransactionListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    transactionsList: jspb.Message.toObjectList(msg.getTransactionsList(),\n    usertype_pb.Transaction.toObject, includeInstance),\n    pageNo: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    pageSize: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    totalPage: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    totalCount: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.TransactionListReply}\n */\nproto.pb.cms.TransactionListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.TransactionListReply;\n  return proto.pb.cms.TransactionListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.TransactionListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.TransactionListReply}\n */\nproto.pb.cms.TransactionListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new usertype_pb.Transaction;\n      reader.readMessage(value,usertype_pb.Transaction.deserializeBinaryFromReader);\n      msg.addTransactions(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageNo(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setPageSize(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalPage(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setTotalCount(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.TransactionListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.TransactionListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.TransactionListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.TransactionListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getTransactionsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      usertype_pb.Transaction.serializeBinaryToWriter\n    );\n  }\n  f = message.getPageNo();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getPageSize();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getTotalPage();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getTotalCount();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * repeated pb.Transaction transactions = 1;\n * @return {!Array<!proto.pb.Transaction>}\n */\nproto.pb.cms.TransactionListReply.prototype.getTransactionsList = function() {\n  return /** @type{!Array<!proto.pb.Transaction>} */ (\n    jspb.Message.getRepeatedWrapperField(this, usertype_pb.Transaction, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.Transaction>} value\n * @return {!proto.pb.cms.TransactionListReply} returns this\n*/\nproto.pb.cms.TransactionListReply.prototype.setTransactionsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.Transaction=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.Transaction}\n */\nproto.pb.cms.TransactionListReply.prototype.addTransactions = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.Transaction, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.TransactionListReply} returns this\n */\nproto.pb.cms.TransactionListReply.prototype.clearTransactionsList = function() {\n  return this.setTransactionsList([]);\n};\n\n\n/**\n * optional uint32 page_no = 2;\n * @return {number}\n */\nproto.pb.cms.TransactionListReply.prototype.getPageNo = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListReply} returns this\n */\nproto.pb.cms.TransactionListReply.prototype.setPageNo = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 page_size = 3;\n * @return {number}\n */\nproto.pb.cms.TransactionListReply.prototype.getPageSize = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListReply} returns this\n */\nproto.pb.cms.TransactionListReply.prototype.setPageSize = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 total_page = 4;\n * @return {number}\n */\nproto.pb.cms.TransactionListReply.prototype.getTotalPage = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListReply} returns this\n */\nproto.pb.cms.TransactionListReply.prototype.setTotalPage = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional uint32 total_count = 5;\n * @return {number}\n */\nproto.pb.cms.TransactionListReply.prototype.getTotalCount = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.TransactionListReply} returns this\n */\nproto.pb.cms.TransactionListReply.prototype.setTotalCount = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.CreateSettleRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.CreateSettleRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.CreateSettleRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.CreateSettleRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    areaId: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    settleAt: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    minBalance: jspb.Message.getFieldWithDefault(msg, 3, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.CreateSettleRequest}\n */\nproto.pb.cms.CreateSettleRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.CreateSettleRequest;\n  return proto.pb.cms.CreateSettleRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.CreateSettleRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.CreateSettleRequest}\n */\nproto.pb.cms.CreateSettleRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setSettleAt(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setMinBalance(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.CreateSettleRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.CreateSettleRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.CreateSettleRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.CreateSettleRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getSettleAt();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getMinBalance();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 area_id = 1;\n * @return {number}\n */\nproto.pb.cms.CreateSettleRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CreateSettleRequest} returns this\n */\nproto.pb.cms.CreateSettleRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 settle_at = 2;\n * @return {number}\n */\nproto.pb.cms.CreateSettleRequest.prototype.getSettleAt = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CreateSettleRequest} returns this\n */\nproto.pb.cms.CreateSettleRequest.prototype.setSettleAt = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 min_balance = 3;\n * @return {number}\n */\nproto.pb.cms.CreateSettleRequest.prototype.getMinBalance = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.CreateSettleRequest} returns this\n */\nproto.pb.cms.CreateSettleRequest.prototype.setMinBalance = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.SubmitSettleRequest.repeatedFields_ = [2];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.SubmitSettleRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.SubmitSettleRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.SubmitSettleRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SubmitSettleRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    areaId: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    recordsList: jspb.Message.toObjectList(msg.getRecordsList(),\n    anchortype_pb.SettleRecord.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.SubmitSettleRequest}\n */\nproto.pb.cms.SubmitSettleRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.SubmitSettleRequest;\n  return proto.pb.cms.SubmitSettleRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.SubmitSettleRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.SubmitSettleRequest}\n */\nproto.pb.cms.SubmitSettleRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 2:\n      var value = new anchortype_pb.SettleRecord;\n      reader.readMessage(value,anchortype_pb.SettleRecord.deserializeBinaryFromReader);\n      msg.addRecords(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.SubmitSettleRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.SubmitSettleRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.SubmitSettleRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SubmitSettleRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getRecordsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      2,\n      f,\n      anchortype_pb.SettleRecord.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * optional uint32 area_id = 1;\n * @return {number}\n */\nproto.pb.cms.SubmitSettleRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SubmitSettleRequest} returns this\n */\nproto.pb.cms.SubmitSettleRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * repeated pb.SettleRecord records = 2;\n * @return {!Array<!proto.pb.SettleRecord>}\n */\nproto.pb.cms.SubmitSettleRequest.prototype.getRecordsList = function() {\n  return /** @type{!Array<!proto.pb.SettleRecord>} */ (\n    jspb.Message.getRepeatedWrapperField(this, anchortype_pb.SettleRecord, 2));\n};\n\n\n/**\n * @param {!Array<!proto.pb.SettleRecord>} value\n * @return {!proto.pb.cms.SubmitSettleRequest} returns this\n*/\nproto.pb.cms.SubmitSettleRequest.prototype.setRecordsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 2, value);\n};\n\n\n/**\n * @param {!proto.pb.SettleRecord=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.SettleRecord}\n */\nproto.pb.cms.SubmitSettleRequest.prototype.addRecords = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 2, opt_value, proto.pb.SettleRecord, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.SubmitSettleRequest} returns this\n */\nproto.pb.cms.SubmitSettleRequest.prototype.clearRecordsList = function() {\n  return this.setRecordsList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.SettleProgressRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.SettleProgressRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.SettleProgressRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleProgressRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    areaId: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.SettleProgressRequest}\n */\nproto.pb.cms.SettleProgressRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.SettleProgressRequest;\n  return proto.pb.cms.SettleProgressRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.SettleProgressRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.SettleProgressRequest}\n */\nproto.pb.cms.SettleProgressRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.SettleProgressRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.SettleProgressRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.SettleProgressRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleProgressRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 area_id = 1;\n * @return {number}\n */\nproto.pb.cms.SettleProgressRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SettleProgressRequest} returns this\n */\nproto.pb.cms.SettleProgressRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.SettleProgressReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.SettleProgressReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.SettleProgressReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleProgressReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    progress: jspb.Message.getFieldWithDefault(msg, 1, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.SettleProgressReply}\n */\nproto.pb.cms.SettleProgressReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.SettleProgressReply;\n  return proto.pb.cms.SettleProgressReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.SettleProgressReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.SettleProgressReply}\n */\nproto.pb.cms.SettleProgressReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setProgress(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.SettleProgressReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.SettleProgressReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.SettleProgressReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleProgressReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getProgress();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 progress = 1;\n * @return {number}\n */\nproto.pb.cms.SettleProgressReply.prototype.getProgress = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SettleProgressReply} returns this\n */\nproto.pb.cms.SettleProgressReply.prototype.setProgress = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.SettleListRequest.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.SettleListRequest.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.SettleListRequest} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleListRequest.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    areaId: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    guildId: jspb.Message.getFieldWithDefault(msg, 2, 0),\n    anchorId: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    settleAt: jspb.Message.getFieldWithDefault(msg, 4, 0),\n    status: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.SettleListRequest}\n */\nproto.pb.cms.SettleListRequest.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.SettleListRequest;\n  return proto.pb.cms.SettleListRequest.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.SettleListRequest} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.SettleListRequest}\n */\nproto.pb.cms.SettleListRequest.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    case 2:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setGuildId(value);\n      break;\n    case 3:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAnchorId(value);\n      break;\n    case 4:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setSettleAt(value);\n      break;\n    case 5:\n      var value = /** @type {!proto.pb.SettleStatus} */ (reader.readEnum());\n      msg.setStatus(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.SettleListRequest.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.SettleListRequest.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.SettleListRequest} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleListRequest.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getGuildId();\n  if (f !== 0) {\n    writer.writeUint32(\n      2,\n      f\n    );\n  }\n  f = message.getAnchorId();\n  if (f !== 0) {\n    writer.writeUint32(\n      3,\n      f\n    );\n  }\n  f = message.getSettleAt();\n  if (f !== 0) {\n    writer.writeUint32(\n      4,\n      f\n    );\n  }\n  f = message.getStatus();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 area_id = 1;\n * @return {number}\n */\nproto.pb.cms.SettleListRequest.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SettleListRequest} returns this\n */\nproto.pb.cms.SettleListRequest.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional uint32 guild_id = 2;\n * @return {number}\n */\nproto.pb.cms.SettleListRequest.prototype.getGuildId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 2, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SettleListRequest} returns this\n */\nproto.pb.cms.SettleListRequest.prototype.setGuildId = function(value) {\n  return jspb.Message.setProto3IntField(this, 2, value);\n};\n\n\n/**\n * optional uint32 anchor_id = 3;\n * @return {number}\n */\nproto.pb.cms.SettleListRequest.prototype.getAnchorId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SettleListRequest} returns this\n */\nproto.pb.cms.SettleListRequest.prototype.setAnchorId = function(value) {\n  return jspb.Message.setProto3IntField(this, 3, value);\n};\n\n\n/**\n * optional uint32 settle_at = 4;\n * @return {number}\n */\nproto.pb.cms.SettleListRequest.prototype.getSettleAt = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 4, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.SettleListRequest} returns this\n */\nproto.pb.cms.SettleListRequest.prototype.setSettleAt = function(value) {\n  return jspb.Message.setProto3IntField(this, 4, value);\n};\n\n\n/**\n * optional pb.SettleStatus status = 5;\n * @return {!proto.pb.SettleStatus}\n */\nproto.pb.cms.SettleListRequest.prototype.getStatus = function() {\n  return /** @type {!proto.pb.SettleStatus} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {!proto.pb.SettleStatus} value\n * @return {!proto.pb.cms.SettleListRequest} returns this\n */\nproto.pb.cms.SettleListRequest.prototype.setStatus = function(value) {\n  return jspb.Message.setProto3EnumField(this, 5, value);\n};\n\n\n\n/**\n * List of repeated fields within this message type.\n * @private {!Array<number>}\n * @const\n */\nproto.pb.cms.SettleListReply.repeatedFields_ = [1];\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.SettleListReply.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.SettleListReply.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.SettleListReply} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleListReply.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    recordsList: jspb.Message.toObjectList(msg.getRecordsList(),\n    anchortype_pb.SettleRecord.toObject, includeInstance)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.SettleListReply}\n */\nproto.pb.cms.SettleListReply.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.SettleListReply;\n  return proto.pb.cms.SettleListReply.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.SettleListReply} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.SettleListReply}\n */\nproto.pb.cms.SettleListReply.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = new anchortype_pb.SettleRecord;\n      reader.readMessage(value,anchortype_pb.SettleRecord.deserializeBinaryFromReader);\n      msg.addRecords(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.SettleListReply.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.SettleListReply.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.SettleListReply} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.SettleListReply.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getRecordsList();\n  if (f.length > 0) {\n    writer.writeRepeatedMessage(\n      1,\n      f,\n      anchortype_pb.SettleRecord.serializeBinaryToWriter\n    );\n  }\n};\n\n\n/**\n * repeated pb.SettleRecord records = 1;\n * @return {!Array<!proto.pb.SettleRecord>}\n */\nproto.pb.cms.SettleListReply.prototype.getRecordsList = function() {\n  return /** @type{!Array<!proto.pb.SettleRecord>} */ (\n    jspb.Message.getRepeatedWrapperField(this, anchortype_pb.SettleRecord, 1));\n};\n\n\n/**\n * @param {!Array<!proto.pb.SettleRecord>} value\n * @return {!proto.pb.cms.SettleListReply} returns this\n*/\nproto.pb.cms.SettleListReply.prototype.setRecordsList = function(value) {\n  return jspb.Message.setRepeatedWrapperField(this, 1, value);\n};\n\n\n/**\n * @param {!proto.pb.SettleRecord=} opt_value\n * @param {number=} opt_index\n * @return {!proto.pb.SettleRecord}\n */\nproto.pb.cms.SettleListReply.prototype.addRecords = function(opt_value, opt_index) {\n  return jspb.Message.addToRepeatedWrapperField(this, 1, opt_value, proto.pb.SettleRecord, opt_index);\n};\n\n\n/**\n * Clears the list making it empty but non-null.\n * @return {!proto.pb.cms.SettleListReply} returns this\n */\nproto.pb.cms.SettleListReply.prototype.clearRecordsList = function() {\n  return this.setRecordsList([]);\n};\n\n\n\n\n\nif (jspb.Message.GENERATE_TO_OBJECT) {\n/**\n * Creates an object representation of this proto.\n * Field names that are reserved in JavaScript and will be renamed to pb_name.\n * Optional fields that are not set will be set to undefined.\n * To access a reserved field use, foo.pb_<name>, eg, foo.pb_default.\n * For the list of reserved names please see:\n *     net/proto2/compiler/js/internal/generator.cc#kKeyword.\n * @param {boolean=} opt_includeInstance Deprecated. whether to include the\n *     JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @return {!Object}\n */\nproto.pb.cms.AdminFileChunk.prototype.toObject = function(opt_includeInstance) {\n  return proto.pb.cms.AdminFileChunk.toObject(opt_includeInstance, this);\n};\n\n\n/**\n * Static version of the {@see toObject} method.\n * @param {boolean|undefined} includeInstance Deprecated. Whether to include\n *     the JSPB instance for transitional soy proto support:\n *     http://goto/soy-param-migration\n * @param {!proto.pb.cms.AdminFileChunk} msg The msg instance to transform.\n * @return {!Object}\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdminFileChunk.toObject = function(includeInstance, msg) {\n  var f, obj = {\n    offset: jspb.Message.getFieldWithDefault(msg, 1, 0),\n    filename: jspb.Message.getFieldWithDefault(msg, 2, \"\"),\n    type: jspb.Message.getFieldWithDefault(msg, 3, 0),\n    content: msg.getContent_asB64(),\n    areaId: jspb.Message.getFieldWithDefault(msg, 5, 0)\n  };\n\n  if (includeInstance) {\n    obj.$jspbMessageInstance = msg;\n  }\n  return obj;\n};\n}\n\n\n/**\n * Deserializes binary data (in protobuf wire format).\n * @param {jspb.ByteSource} bytes The bytes to deserialize.\n * @return {!proto.pb.cms.AdminFileChunk}\n */\nproto.pb.cms.AdminFileChunk.deserializeBinary = function(bytes) {\n  var reader = new jspb.BinaryReader(bytes);\n  var msg = new proto.pb.cms.AdminFileChunk;\n  return proto.pb.cms.AdminFileChunk.deserializeBinaryFromReader(msg, reader);\n};\n\n\n/**\n * Deserializes binary data (in protobuf wire format) from the\n * given reader into the given message object.\n * @param {!proto.pb.cms.AdminFileChunk} msg The message object to deserialize into.\n * @param {!jspb.BinaryReader} reader The BinaryReader to use.\n * @return {!proto.pb.cms.AdminFileChunk}\n */\nproto.pb.cms.AdminFileChunk.deserializeBinaryFromReader = function(msg, reader) {\n  while (reader.nextField()) {\n    if (reader.isEndGroup()) {\n      break;\n    }\n    var field = reader.getFieldNumber();\n    switch (field) {\n    case 1:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setOffset(value);\n      break;\n    case 2:\n      var value = /** @type {string} */ (reader.readString());\n      msg.setFilename(value);\n      break;\n    case 3:\n      var value = /** @type {!proto.pb.FileType} */ (reader.readEnum());\n      msg.setType(value);\n      break;\n    case 4:\n      var value = /** @type {!Uint8Array} */ (reader.readBytes());\n      msg.setContent(value);\n      break;\n    case 5:\n      var value = /** @type {number} */ (reader.readUint32());\n      msg.setAreaId(value);\n      break;\n    default:\n      reader.skipField();\n      break;\n    }\n  }\n  return msg;\n};\n\n\n/**\n * Serializes the message to binary data (in protobuf wire format).\n * @return {!Uint8Array}\n */\nproto.pb.cms.AdminFileChunk.prototype.serializeBinary = function() {\n  var writer = new jspb.BinaryWriter();\n  proto.pb.cms.AdminFileChunk.serializeBinaryToWriter(this, writer);\n  return writer.getResultBuffer();\n};\n\n\n/**\n * Serializes the given message to binary data (in protobuf wire\n * format), writing to the given BinaryWriter.\n * @param {!proto.pb.cms.AdminFileChunk} message\n * @param {!jspb.BinaryWriter} writer\n * @suppress {unusedLocalVariables} f is only used for nested messages\n */\nproto.pb.cms.AdminFileChunk.serializeBinaryToWriter = function(message, writer) {\n  var f = undefined;\n  f = message.getOffset();\n  if (f !== 0) {\n    writer.writeUint32(\n      1,\n      f\n    );\n  }\n  f = message.getFilename();\n  if (f.length > 0) {\n    writer.writeString(\n      2,\n      f\n    );\n  }\n  f = message.getType();\n  if (f !== 0.0) {\n    writer.writeEnum(\n      3,\n      f\n    );\n  }\n  f = message.getContent_asU8();\n  if (f.length > 0) {\n    writer.writeBytes(\n      4,\n      f\n    );\n  }\n  f = message.getAreaId();\n  if (f !== 0) {\n    writer.writeUint32(\n      5,\n      f\n    );\n  }\n};\n\n\n/**\n * optional uint32 offset = 1;\n * @return {number}\n */\nproto.pb.cms.AdminFileChunk.prototype.getOffset = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 1, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AdminFileChunk} returns this\n */\nproto.pb.cms.AdminFileChunk.prototype.setOffset = function(value) {\n  return jspb.Message.setProto3IntField(this, 1, value);\n};\n\n\n/**\n * optional string filename = 2;\n * @return {string}\n */\nproto.pb.cms.AdminFileChunk.prototype.getFilename = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 2, \"\"));\n};\n\n\n/**\n * @param {string} value\n * @return {!proto.pb.cms.AdminFileChunk} returns this\n */\nproto.pb.cms.AdminFileChunk.prototype.setFilename = function(value) {\n  return jspb.Message.setProto3StringField(this, 2, value);\n};\n\n\n/**\n * optional pb.FileType type = 3;\n * @return {!proto.pb.FileType}\n */\nproto.pb.cms.AdminFileChunk.prototype.getType = function() {\n  return /** @type {!proto.pb.FileType} */ (jspb.Message.getFieldWithDefault(this, 3, 0));\n};\n\n\n/**\n * @param {!proto.pb.FileType} value\n * @return {!proto.pb.cms.AdminFileChunk} returns this\n */\nproto.pb.cms.AdminFileChunk.prototype.setType = function(value) {\n  return jspb.Message.setProto3EnumField(this, 3, value);\n};\n\n\n/**\n * optional bytes content = 4;\n * @return {string}\n */\nproto.pb.cms.AdminFileChunk.prototype.getContent = function() {\n  return /** @type {string} */ (jspb.Message.getFieldWithDefault(this, 4, \"\"));\n};\n\n\n/**\n * optional bytes content = 4;\n * This is a type-conversion wrapper around `getContent()`\n * @return {string}\n */\nproto.pb.cms.AdminFileChunk.prototype.getContent_asB64 = function() {\n  return /** @type {string} */ (jspb.Message.bytesAsB64(\n      this.getContent()));\n};\n\n\n/**\n * optional bytes content = 4;\n * Note that Uint8Array is not supported on all browsers.\n * @see http://caniuse.com/Uint8Array\n * This is a type-conversion wrapper around `getContent()`\n * @return {!Uint8Array}\n */\nproto.pb.cms.AdminFileChunk.prototype.getContent_asU8 = function() {\n  return /** @type {!Uint8Array} */ (jspb.Message.bytesAsU8(\n      this.getContent()));\n};\n\n\n/**\n * @param {!(string|Uint8Array)} value\n * @return {!proto.pb.cms.AdminFileChunk} returns this\n */\nproto.pb.cms.AdminFileChunk.prototype.setContent = function(value) {\n  return jspb.Message.setProto3BytesField(this, 4, value);\n};\n\n\n/**\n * optional uint32 area_id = 5;\n * @return {number}\n */\nproto.pb.cms.AdminFileChunk.prototype.getAreaId = function() {\n  return /** @type {number} */ (jspb.Message.getFieldWithDefault(this, 5, 0));\n};\n\n\n/**\n * @param {number} value\n * @return {!proto.pb.cms.AdminFileChunk} returns this\n */\nproto.pb.cms.AdminFileChunk.prototype.setAreaId = function(value) {\n  return jspb.Message.setProto3IntField(this, 5, value);\n};\n\n\ngoog.object.extend(exports, proto.pb.cms);\n"]}]}