{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/settle.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/settle.js","mtime":1631355979168},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgc2V0VG9rZW4sIGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9jb29raWUnOwppbXBvcnQgeyBlcnJvciB9IGZyb20gJ0AvdXRpbHMvZXJyb3InOwoKdmFyIF9kZWZhdWx0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBfZGVmYXVsdChkZXBzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2RlZmF1bHQpOwoKICAgIHRoaXMucHJvdG8gPSBkZXBzLnByb3RvOwogICAgdGhpcy5jbGllbnQgPSBuZXcgZGVwcy5wcm90by5DbXNDbGllbnQocHJvY2Vzcy5lbnYuVlVFX0FQUF9HUlBDX1BST1hZX1VSSSwgbnVsbCwgbnVsbCk7CiAgfSAvLyDnlJ/miJDpooTnu5PnrpforrDlvZUKCgogIF9jcmVhdGVDbGFzcyhfZGVmYXVsdCwgW3sKICAgIGtleTogImNyZWF0ZVNldHRsZVJlY29yZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2NyZWF0ZVNldHRsZVJlY29yZCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXEgPSBuZXcgdGhpcy5wcm90by5DcmVhdGVTZXR0bGVSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QXJlYUlkKHBhcmFtLmFyZWFJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0U2V0dGxlQXQocGFyYW0uc2V0dGxlQXQpOwogICAgICAgICAgICAgICAgcmVxLnNldE1pbkJhbGFuY2UocGFyYW0ubWluQmFsYW5jZSk7CiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmNyZWF0ZVNldHRsZVJlY29yZChyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gY3JlYXRlU2V0dGxlUmVjb3JkKF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2NyZWF0ZVNldHRsZVJlY29yZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gY3JlYXRlU2V0dGxlUmVjb3JkOwogICAgfSgpIC8vIOehruiupOe7k+eulwoKICB9LCB7CiAgICBrZXk6ICJzdWJtaXRTZXR0bGVSZWNvcmQiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9zdWJtaXRTZXR0bGVSZWNvcmQgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHBhcmFtLCBjYWxsYmFjaykgewogICAgICAgIHZhciByZXEsIG1ldGFkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXEgPSBuZXcgdGhpcy5wcm90by5TdWJtaXRTZXR0bGVSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QXJlYUlkKHBhcmFtLmFyZWFJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0UmVjb3Jkc0xpc3QocGFyYW0ucmVjb3Jkcyk7CiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnN1Ym1pdFNldHRsZVJlY29yZChyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBzdWJtaXRTZXR0bGVSZWNvcmQoX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX3N1Ym1pdFNldHRsZVJlY29yZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gc3VibWl0U2V0dGxlUmVjb3JkOwogICAgfSgpIC8vIOafpeivoue7k+eul+iusOW9leeUn+aIkOaIluaPkOS6pOi/m+W6pgoKICB9LCB7CiAgICBrZXk6ICJxdWVyeVNldHRsZVByb2dyZXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcXVlcnlTZXR0bGVQcm9ncmVzcyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHJlcSwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcSA9IG5ldyB0aGlzLnByb3RvLlNldHRsZVByb2dyZXNzUmVxdWVzdCgpOwogICAgICAgICAgICAgICAgcmVxLnNldEFyZWFJZChwYXJhbS5hcmVhSWQpOwogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICd0b2tlbic6IGdldFRva2VuKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5xdWVyeVNldHRsZVByb2dyZXNzKHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcihlcnIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gcXVlcnlTZXR0bGVQcm9ncmVzcyhfeDUsIF94NikgewogICAgICAgIHJldHVybiBfcXVlcnlTZXR0bGVQcm9ncmVzcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gcXVlcnlTZXR0bGVQcm9ncmVzczsKICAgIH0oKSAvLyDojrflj5bnu5PnrpforrDlvZUKCiAgfSwgewogICAga2V5OiAiZ2V0U2V0dGxlTGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldFNldHRsZUxpc3QgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KHBhcmFtLCBjYWxsYmFjaykgewogICAgICAgIHZhciByZXEsIG1ldGFkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXEgPSBuZXcgdGhpcy5wcm90by5TZXR0bGVMaXN0UmVxdWVzdCgpOwogICAgICAgICAgICAgICAgcmVxLnNldEFyZWFJZChwYXJhbS5hcmVhSWQpOwogICAgICAgICAgICAgICAgcmVxLnNldEd1aWxkSWQocGFyYW0uZ3VpbGRJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QW5jaG9ySWQocGFyYW0uYW5jaG9ySWQpOwogICAgICAgICAgICAgICAgcmVxLnNldFNldHRsZUF0KHBhcmFtLnNldHRsZUF0KTsKICAgICAgICAgICAgICAgIHJlcS5zZXRTdGF0dXMocGFyYW0uc3RhdHVzKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiBnZXRUb2tlbigpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuZ2V0U2V0dGxlTGlzdChyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldFNldHRsZUxpc3QoX3g3LCBfeDgpIHsKICAgICAgICByZXR1cm4gX2dldFNldHRsZUxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldFNldHRsZUxpc3Q7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBfZGVmYXVsdDsKfSgpOwoKZXhwb3J0IHsgX2RlZmF1bHQgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/settle.js"],"names":["setToken","getToken","error","deps","proto","client","CmsClient","process","env","VUE_APP_GRPC_PROXY_URI","param","callback","req","CreateSettleRequest","setAreaId","areaId","setSettleAt","settleAt","setMinBalance","minBalance","metadata","createSettleRecord","err","resp","SubmitSettleRequest","setRecordsList","records","submitSettleRecord","SettleProgressRequest","querySettleProgress","SettleListRequest","setGuildId","guildId","setAnchorId","anchorId","setStatus","status","getSettleList"],"mappings":"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","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport { error } from '@/utils/error'\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(process.env.VUE_APP_GRPC_PROXY_URI, null, null)\n    }\n\n    // 生成预结算记录\n    async createSettleRecord (param, callback) {\n        let req = new this.proto.CreateSettleRequest();\n        req.setAreaId(param.areaId)\n        req.setSettleAt(param.settleAt)\n        req.setMinBalance(param.minBalance)\n\n        const metadata = {'token': getToken()}\n        this.client.createSettleRecord(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(true)\n            } else {\n                error(err)\n                callback(false)\n            }\n        })\n    }\n\n\n    // 确认结算\n    async submitSettleRecord (param, callback) {\n        let req = new this.proto.SubmitSettleRequest();\n        req.setAreaId(param.areaId)\n        req.setRecordsList(param.records)\n\n        const metadata = {'token': getToken()}\n        this.client.submitSettleRecord(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(true)\n            } else {\n                error(err)\n                callback(false)\n            }\n        })\n    }\n\n\n    // 查询结算记录生成或提交进度\n    async querySettleProgress (param, callback) {\n        let req = new this.proto.SettleProgressRequest();\n        req.setAreaId(param.areaId)\n\n        const metadata = {'token': getToken()}\n        this.client.querySettleProgress(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n\n    // 获取结算记录\n    async getSettleList (param, callback) {\n        let req = new this.proto.SettleListRequest();\n        req.setAreaId(param.areaId)\n        req.setGuildId(param.guildId)\n        req.setAnchorId(param.anchorId)\n        req.setSettleAt(param.settleAt)\n        req.setStatus(param.status)\n\n        const metadata = {'token': getToken()}\n        this.client.getSettleList(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n}\n"]}]}