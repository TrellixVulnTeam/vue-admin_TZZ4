{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCompress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCompress.vue","mtime":1626074721105},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEhpbnRzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvSGludHMnOwppbXBvcnQgVXBsb2FkSW1hZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9VcGxvYWRJbWFnZSc7CmltcG9ydCB7IGJhc2U2NHRvQmxvYiwgY2FsY0ltYWdlU2l6ZSB9IGZyb20gJy4uLy4uL3V0aWxzJzsKdmFyIHF1YWxpdHlPcHRpb25zID0gW3sKICBsYWJlbDogMTAwLAogIHZhbHVlOiAxCn0sIHsKICBsYWJlbDogOTAsCiAgdmFsdWU6IDAuOQp9LCB7CiAgbGFiZWw6IDgwLAogIHZhbHVlOiAwLjgKfSwgewogIGxhYmVsOiA3MCwKICB2YWx1ZTogMC43Cn0sIHsKICBsYWJlbDogNjAsCiAgdmFsdWU6IDAuNgp9LCB7CiAgbGFiZWw6IDUwLAogIHZhbHVlOiAwLjUKfV07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW1hZ2VDb21wcmVzcycsCiAgY29tcG9uZW50czogewogICAgSGludHM6IEhpbnRzLAogICAgVXBsb2FkSW1hZ2U6IFVwbG9hZEltYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5Zu+54mH5a+56LGhCiAgICAgIGltYWdlOiB7CiAgICAgICAgd2lkdGg6IDE5MjAsCiAgICAgICAgaGVpZ2h0OiAxMDgwLAogICAgICAgIHNyYzogJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9iYWltaW5neHVhbi9tZWRpYS1zdG9yZS9pbWFnZXMvaW1nMDMuanBnJwogICAgICB9LAogICAgICAvLyDlm77niYfmmL7npLrlr7nosaEKICAgICAgaW1hZ2VTaG93OiB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIGltZ1NyYzogJycKICAgICAgfSwKICAgICAgLy8g5Zu+54mH5Y6L57yp55qE5YC85a+56LGhCiAgICAgIGltYWdlT2JqOiB7CiAgICAgICAgd2lkdGg6IDAsCiAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgIHJhdGlvOiAxMDAgKyAnJScsCiAgICAgICAgcXVhbGl0eTogMQogICAgICB9LAogICAgICBxdWFsaXR5T3B0aW9uczogcXVhbGl0eU9wdGlvbnMKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgLy8g5Zu+54mH5pi+56S65Yy65qC35byPCiAgICBpbWFnZVN0eWxlOiBmdW5jdGlvbiBpbWFnZVN0eWxlKCkgewogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB0aGlzLmltYWdlU2hvdy53aWR0aCArICdweCcsCiAgICAgICAgaGVpZ2h0OiB0aGlzLmltYWdlU2hvdy5oZWlnaHQgKyAncHgnLAogICAgICAgIGJhY2tncm91bmRJbWFnZTogJ3VybChcJycgKyB0aGlzLmltYWdlU2hvdy5pbWdTcmMgKyAnXCcpJwogICAgICB9OwogICAgfSwKICAgIC8vIOWbvueJh+WuvemrmOavlOeOhwogICAgaW1hZ2VSYXRpbzogZnVuY3Rpb24gaW1hZ2VSYXRpbygpIHsKICAgICAgcmV0dXJuIHRoaXMuaW1hZ2Uud2lkdGggLyB0aGlzLmltYWdlLmhlaWdodDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpbWFnZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMuZ2V0RHJhZ0NvbnRhaW5lclNpemUodmFsLndpZHRoLCB2YWwuaGVpZ2h0KTsKICAgICAgICB0aGlzLmltYWdlU2hvdy5pbWdTcmMgPSB2YWwuc3JjOwogICAgICAgIHRoaXMuaW1hZ2VPYmoud2lkdGggPSB2YWwud2lkdGg7CiAgICAgICAgdGhpcy5pbWFnZU9iai5oZWlnaHQgPSB2YWwuaGVpZ2h0OwogICAgICAgIHRoaXMuaW1hZ2VPYmoucmF0aW8gPSAxMDAgKyAnJSc7CiAgICAgICAgdGhpcy5pbWFnZU9iai5xdWFsaXR5ID0gMTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RHJhZ0NvbnRhaW5lclNpemUodGhpcy5pbWFnZS53aWR0aCwgdGhpcy5pbWFnZS5oZWlnaHQpOwogICAgdGhpcy5pbWFnZVNob3cuaW1nU3JjID0gdGhpcy5pbWFnZS5zcmM7CiAgICB0aGlzLmltYWdlT2JqLndpZHRoID0gdGhpcy5pbWFnZS53aWR0aDsKICAgIHRoaXMuaW1hZ2VPYmouaGVpZ2h0ID0gdGhpcy5pbWFnZS5oZWlnaHQ7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDovpPlhaXlrr3pq5jlhbPogZQKICAgIGJpbmRJbnB1dDogZnVuY3Rpb24gYmluZElucHV0KHR5cGUpIHsKICAgICAgaWYgKHR5cGUgPT09ICdoJykgewogICAgICAgIHRoaXMuaW1hZ2VPYmouaGVpZ2h0ID0gTWF0aC5yb3VuZCh0aGlzLmltYWdlT2JqLndpZHRoIC8gdGhpcy5pbWFnZVJhdGlvKS50b0ZpeGVkKDApOwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3JykgewogICAgICAgIHRoaXMuaW1hZ2VPYmoud2lkdGggPSBNYXRoLnJvdW5kKHRoaXMuaW1hZ2VPYmouaGVpZ2h0ICogdGhpcy5pbWFnZVJhdGlvKS50b0ZpeGVkKDApOwogICAgICB9CgogICAgICB0aGlzLmltYWdlT2JqLnJhdGlvID0gKHRoaXMuaW1hZ2VPYmoud2lkdGggLyB0aGlzLmltYWdlLndpZHRoICogMTAwKS50b0ZpeGVkKDIpICsgJyUnOwogICAgfSwKICAgIC8vIOiuoeeul+WbvueJh+aYvuekuuWuvemrmAogICAgZ2V0RHJhZ0NvbnRhaW5lclNpemU6IGZ1bmN0aW9uIGdldERyYWdDb250YWluZXJTaXplKGltYWdlVywgaW1hZ2VIKSB7CiAgICAgIHZhciBzaG93QXJlYVcgPSA4NTAsCiAgICAgICAgICBzaG93QXJlYUggPSA1NTA7CiAgICAgIHZhciBzaXplT2JqID0gY2FsY0ltYWdlU2l6ZShpbWFnZVcsIGltYWdlSCwgc2hvd0FyZWFXLCBzaG93QXJlYUgpOyAvLyDmm7TmlrDlm77niYflsZXnpLrljLrlrr3pq5gKCiAgICAgIHRoaXMuaW1hZ2VTaG93LndpZHRoID0gc2l6ZU9iai53aWR0aDsKICAgICAgdGhpcy5pbWFnZVNob3cuaGVpZ2h0ID0gc2l6ZU9iai5oZWlnaHQ7CiAgICB9LAogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhkYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmltYWdlLnNyYyA9IGRhdGE7CiAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpOwogICAgICBpbWFnZS5zcmMgPSBkYXRhOwoKICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmltYWdlLndpZHRoID0gaW1hZ2Uud2lkdGg7CiAgICAgICAgX3RoaXMuaW1hZ2UuaGVpZ2h0ID0gaW1hZ2UuaGVpZ2h0OwogICAgICB9OwogICAgfSwKICAgIC8vIOWbvueJh+WOi+e8qQogICAgY29tcHJlc3NJbWFnZTogZnVuY3Rpb24gY29tcHJlc3NJbWFnZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgd2lkdGggPSB0aGlzLmltYWdlT2JqLndpZHRoOwogICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5pbWFnZU9iai5oZWlnaHQ7CiAgICAgIHZhciBxdWFsaXR5ID0gdGhpcy5pbWFnZU9iai5xdWFsaXR5OwogICAgICB2YXIgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgIGltZy5zcmMgPSB0aGlzLmltYWdlLnNyYzsKCiAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8g5Yib5bu6Y2FudmFzCiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpOwogICAgICAgIHZhciBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTsgLy8g5Yib5bu65bGe5oCn6IqC54K5CgogICAgICAgIHZhciBhbncgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoJ3dpZHRoJyk7CiAgICAgICAgYW53Lm5vZGVWYWx1ZSA9IHdpZHRoOwogICAgICAgIHZhciBhbmggPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoJ2hlaWdodCcpOwogICAgICAgIGFuaC5ub2RlVmFsdWUgPSBoZWlnaHQ7CiAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW53KTsKICAgICAgICBjYW52YXMuc2V0QXR0cmlidXRlTm9kZShhbmgpOyAvLyDnu5jliLblm77niYcKCiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpOwogICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KTsgLy8g55Sf5oiQYmFzZTY05Zu+54mHCgogICAgICAgIHZhciBpbWFnZUJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycsIHF1YWxpdHkpOwoKICAgICAgICBfdGhpczIuZG93bmxvYWRJbWFnZShpbWFnZUJhc2U2NCk7CiAgICAgIH07CiAgICB9LAogICAgLy8g5LiL6L295Y6L57yp55qE5Zu+54mHCiAgICBkb3dubG9hZEltYWdlOiBmdW5jdGlvbiBkb3dubG9hZEltYWdlKGltYWdlQmFzZTY0KSB7CiAgICAgIHZhciBpbWFnZUJsb2IgPSBiYXNlNjR0b0Jsb2IoaW1hZ2VCYXNlNjQpOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsKICAgICAgdmFyIGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKTsgLy8gaW5pdEV2ZW50IOS4jeWKoOWQjuS4pOS4quWPguaVsOS8muWcqOeBq+eLkOS4i+aKpemUmSDkuovku7bnsbvlnovvvIzmmK/lkKblhpLms6HvvIzmmK/lkKbpmLvmraLmtY/op4jlmajnmoTpu5jorqTooYzkuLoKCiAgICAgIGV2ZW50LmluaXRFdmVudCgnY2xpY2snLCB0cnVlLCB0cnVlKTsKICAgICAgbGluay5kb3dubG9hZCA9ICdpbWFnZS5wbmcnOwogICAgICBsaW5rLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGltYWdlQmxvYik7IC8vIOWFvOWuueeBq+eLkAoKICAgICAgbGluay5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHsKICAgICAgICBidWJibGVzOiB0cnVlLAogICAgICAgIGNhbmNlbGFibGU6IHRydWUsCiAgICAgICAgdmlldzogd2luZG93CiAgICAgIH0pKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ImageCompress.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"image-compress\">\n        <Hints>\n            <template slot=\"hintName\">图片压缩</template>\n            <template slot=\"hintInfo\">\n                <p>纯JS实现对图片的等比压缩和放大的功能，并对图片进行下载</p>\n            </template>\n        </Hints>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"16\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">图片区域</div>\n                    <div class=\"box-wrapper\">\n                        <div class=\"image-container\" :style=\"imageStyle\"/>\n                    </div>\n                </el-card>\n            </el-col>\n            <el-col :span=\"8\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">设置区域</div>\n                    <div class=\"box-content\">\n                        <el-form label-width=\"82px\" label-position=\"left\">\n                            <el-form-item label=\"选择图片：\">\n                                <UploadImage class=\"select-image\" btn-name=\"选择图片\" @on-success=\"handleSuccess\"/>\n                            </el-form-item>\n                            <el-form-item label=\"图片尺寸：\">\n                                <div class=\"ratio-size\">\n                                    <el-input v-model.number=\"imageObj.width\" @keyup.native=\"bindInput('h')\"/>\n                                    <i class=\"vue-dsn-icon-edit-img-size-locking icon-link\"/>\n                                    <el-input v-model.number=\"imageObj.height\" @keyup.native=\"bindInput('w')\"/>\n                                    <ul class=\"ratio-type clearfix\">\n                                        <li>宽</li>\n                                        <li>高</li>\n                                    </ul>\n                                </div>\n                            </el-form-item>\n                            <el-form-item label=\"压缩比例：\" class=\"item-ratio\">\n                                <el-input v-model.number=\"imageObj.ratio\" disabled/>\n                            </el-form-item>\n                            <el-form-item label=\"图片质量：\">\n                                <el-select v-model=\"imageObj.quality\" placeholder=\"请选择\">\n                                    <el-option\n                                        v-for=\"item in qualityOptions\"\n                                        :key=\"item.value\"\n                                        :label=\"item.label\"\n                                        :value=\"item.value\"\n                                    />\n                                </el-select>\n                            </el-form-item>\n                            <div>\n                                <el-button class=\"btn-compress\" type=\"primary\" @click=\"compressImage\">压缩图片</el-button>\n                            </div>\n                        </el-form>\n                    </div>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport Hints from '../../components/Hints'\nimport UploadImage from '../../components/UploadImage'\nimport {base64toBlob, calcImageSize} from '../../utils'\n\nconst qualityOptions = [\n    {label: 100, value: 1},\n    {label: 90, value: 0.9},\n    {label: 80, value: 0.8},\n    {label: 70, value: 0.7},\n    {label: 60, value: 0.6},\n    {label: 50, value: 0.5}\n]\n\nexport default {\n    name: 'ImageCompress',\n    components: {Hints, UploadImage},\n    data() {\n        return {\n            // 图片对象\n            image: {\n                width: 1920,\n                height: 1080,\n                src: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img03.jpg'\n            },\n            // 图片显示对象\n            imageShow: {\n                width: 0,\n                height: 0,\n                imgSrc: ''\n            },\n            // 图片压缩的值对象\n            imageObj: {\n                width: 0,\n                height: 0,\n                ratio: 100 + '%',\n                quality: 1\n            },\n            qualityOptions\n        }\n    },\n    computed: {\n        // 图片显示区样式\n        imageStyle() {\n            return {\n                width: this.imageShow.width + 'px',\n                height: this.imageShow.height + 'px',\n                backgroundImage: 'url(\\'' + this.imageShow.imgSrc + '\\')'\n            }\n        },\n        // 图片宽高比率\n        imageRatio() {\n            return this.image.width / this.image.height\n        }\n    },\n    watch: {\n        image: {\n            handler(val) {\n                this.getDragContainerSize(val.width, val.height)\n                this.imageShow.imgSrc = val.src\n                this.imageObj.width = val.width\n                this.imageObj.height = val.height\n                this.imageObj.ratio = 100 + '%'\n                this.imageObj.quality = 1\n            },\n            deep: true\n        }\n    },\n    created() {\n        this.getDragContainerSize(this.image.width, this.image.height)\n        this.imageShow.imgSrc = this.image.src\n        this.imageObj.width = this.image.width\n        this.imageObj.height = this.image.height\n    },\n    methods: {\n        // 输入宽高关联\n        bindInput(type) {\n            if (type === 'h') {\n                this.imageObj.height = Math.round(this.imageObj.width / this.imageRatio).toFixed(0)\n            } else if (type === 'w') {\n                this.imageObj.width = Math.round(this.imageObj.height * this.imageRatio).toFixed(0)\n            }\n            this.imageObj.ratio = (this.imageObj.width / this.image.width * 100).toFixed(2) + '%'\n        },\n        // 计算图片显示宽高\n        getDragContainerSize(imageW, imageH) {\n            const [showAreaW, showAreaH] = [850, 550]\n            const sizeObj = calcImageSize(imageW, imageH, showAreaW, showAreaH)\n            // 更新图片展示区宽高\n            this.imageShow.width = sizeObj.width\n            this.imageShow.height = sizeObj.height\n        },\n        handleSuccess(data) {\n            this.image.src = data\n            const image = new Image()\n            image.src = data\n            image.onload = () => {\n                this.image.width = image.width\n                this.image.height = image.height\n            }\n        },\n        // 图片压缩\n        compressImage() {\n            const width = this.imageObj.width\n            const height = this.imageObj.height\n            const quality = this.imageObj.quality\n            const img = new Image()\n            img.src = this.image.src\n            img.onload = () => {\n                // 创建canvas\n                const canvas = document.createElement('canvas')\n                const ctx = canvas.getContext('2d')\n                // 创建属性节点\n                const anw = document.createAttribute('width')\n                anw.nodeValue = width\n                const anh = document.createAttribute('height')\n                anh.nodeValue = height\n                canvas.setAttributeNode(anw)\n                canvas.setAttributeNode(anh)\n                // 绘制图片\n                ctx.fillRect(0, 0, width, height)\n                ctx.drawImage(img, 0, 0, width, height)\n                // 生成base64图片\n                const imageBase64 = canvas.toDataURL('image/png', quality)\n                this.downloadImage(imageBase64)\n            }\n        },\n        // 下载压缩的图片\n        downloadImage(imageBase64) {\n            const imageBlob = base64toBlob(imageBase64)\n            const link = document.createElement('a')\n            const event = document.createEvent('HTMLEvents')\n            // initEvent 不加后两个参数会在火狐下报错 事件类型，是否冒泡，是否阻止浏览器的默认行为\n            event.initEvent('click', true, true)\n            link.download = 'image.png'\n            link.href = URL.createObjectURL(imageBlob)\n            // 兼容火狐\n            link.dispatchEvent(new MouseEvent('click', {bubbles: true, cancelable: true, view: window}))\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/less/image-compress\";\n</style>\n"],"sourceRoot":"src/views/image"}]}