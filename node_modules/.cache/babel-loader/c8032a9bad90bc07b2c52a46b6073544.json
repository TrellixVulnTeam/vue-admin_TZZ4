{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/admin.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/admin.js","mtime":1630312196841},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKcmVxdWlyZSgicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIik7Cgp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IiKSk7Cgp2YXIgX2NsYXNzQ2FsbENoZWNrMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiL2hvbWUvbWVuZ3kvZGV2ZWxvcC9pd29yay9rYWZvL3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayIpKTsKCnZhciBfY3JlYXRlQ2xhc3MyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzIikpOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCJAL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9lcnJvciA9IHJlcXVpcmUoIkAvdXRpbHMvZXJyb3IiKTsKCnZhciBfZGVmYXVsdCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gX2RlZmF1bHQoZGVwcykgewogICAgKDAsIF9jbGFzc0NhbGxDaGVjazIuZGVmYXVsdCkodGhpcywgX2RlZmF1bHQpOwogICAgdGhpcy5wcm90byA9IGRlcHMucHJvdG87CiAgICB0aGlzLmNsaWVudCA9IG5ldyBkZXBzLnByb3RvLkNtc0NsaWVudChwcm9jZXNzLmVudi5WVUVfQVBQX0dSUENfUFJPWFlfVVJJLCBudWxsLCBudWxsKTsKICB9CiAgLyoqCiAgICog5p+l6K+i5ZCO5Y+w566h55CG5biQ5Y+3CiAgICogQHBhcmFtIGNhbGxiYWNrCiAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59CiAgICovCgoKICAoMCwgX2NyZWF0ZUNsYXNzMi5kZWZhdWx0KShfZGVmYXVsdCwgW3sKICAgIGtleTogImdldEFkbWluTGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEFkbWluTGlzdCA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBhcmFtLCBjYWxsYmFjaykgewogICAgICAgIHZhciBlbXB0eVJlcSwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZW1wdHlSZXEgPSBuZXcgdGhpcy5wcm90by5FbXB0eSgpOwogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuZ2V0QWRtaW5MaXN0KGVtcHR5UmVxLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3ApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICgwLCBfZXJyb3IuZXJyb3IpKGVycik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0QWRtaW5MaXN0KF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2dldEFkbWluTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QWRtaW5MaXN0OwogICAgfSgpCiAgfSwgewogICAga2V5OiAic2F2ZUFkbWluIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfc2F2ZUFkbWluID0gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHBhcmFtLCBjYWxsYmFjaykgewogICAgICAgIHZhciBhZG1pbiwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGFkbWluID0gbmV3IHRoaXMucHJvdG8uQWRtaW4oKTsKICAgICAgICAgICAgICAgIGFkbWluLnNldEVuYWJsZSh0cnVlKTsKICAgICAgICAgICAgICAgIGFkbWluLnNldElkKHBhcmFtLmlkKTsKICAgICAgICAgICAgICAgIGFkbWluLnNldEVtYWlsKHBhcmFtLmVtYWlsKTsKICAgICAgICAgICAgICAgIGFkbWluLnNldFBhc3N3b3JkKHBhcmFtLnBhc3N3b3JkKTsKICAgICAgICAgICAgICAgIGFkbWluLnNldE5hbWUocGFyYW0ubmFtZSk7CiAgICAgICAgICAgICAgICBhZG1pbi5zZXRBcmVhSWRzTGlzdChwYXJhbS5hcmVhKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LnNhdmVBZG1pbihhZG1pbiwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgICAgICAgICAgICAgIWVyciA/IGNhbGxiYWNrKHRydWUpIDogY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmVBZG1pbihfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfc2F2ZUFkbWluLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzYXZlQWRtaW47CiAgICB9KCkKICB9XSk7CiAgcmV0dXJuIF9kZWZhdWx0Owp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/admin.js"],"names":["deps","proto","client","CmsClient","process","env","VUE_APP_GRPC_PROXY_URI","param","callback","emptyReq","Empty","metadata","getAdminList","err","resp","admin","Admin","setEnable","setId","id","setEmail","email","setPassword","password","setName","name","setAreaIdsList","area","saveAdmin"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;;AAGI,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyBC,OAAO,CAACC,GAAR,CAAYC,sBAArC,EAA6D,IAA7D,EAAmE,IAAnE,CAAd;AACH;AAGD;;;;;;;;;;iHAKoBC,K,EAAOC,Q;;;;;;AACjBC,gBAAAA,Q,GAAW,IAAI,KAAKR,KAAL,CAAWS,KAAf,E;AACXC,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKT,MAAL,CAAYU,YAAZ,CAAyBH,QAAzB,EAAmCE,QAAnC,EAA6C,UAACE,GAAD,EAAMC,IAAN,EAAe;AACxD,sBAAI,CAACD,GAAL,EAAU;AACNL,oBAAAA,QAAQ,CAACM,IAAD,CAAR;AACH,mBAFD,MAEO;AACH,sCAAMD,GAAN;AACH;AACJ,iBAND;;;;;;;;;;;;;;;;;;;+GASaN,K,EAAOC,Q;;;;;;AACdO,gBAAAA,K,GAAQ,IAAI,KAAKd,KAAL,CAAWe,KAAf,E;AACdD,gBAAAA,KAAK,CAACE,SAAN,CAAgB,IAAhB;AACAF,gBAAAA,KAAK,CAACG,KAAN,CAAYX,KAAK,CAACY,EAAlB;AACAJ,gBAAAA,KAAK,CAACK,QAAN,CAAeb,KAAK,CAACc,KAArB;AACAN,gBAAAA,KAAK,CAACO,WAAN,CAAkBf,KAAK,CAACgB,QAAxB;AACAR,gBAAAA,KAAK,CAACS,OAAN,CAAcjB,KAAK,CAACkB,IAApB;AACAV,gBAAAA,KAAK,CAACW,cAAN,CAAqBnB,KAAK,CAACoB,IAA3B;AAEMhB,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKT,MAAL,CAAY0B,SAAZ,CAAsBb,KAAtB,EAA6BJ,QAA7B,EAAuC,UAACE,GAAD,EAAMC,IAAN,EAAe;AAClD,mBAACD,GAAD,GAAOL,QAAQ,CAAC,IAAD,CAAf,GAAwBA,QAAQ,CAAC,KAAD,CAAhC;AACH,iBAFD","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport { error } from '@/utils/error'\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(process.env.VUE_APP_GRPC_PROXY_URI, null, null)\n    }\n\n\n    /**\n     * 查询后台管理帐号\n     * @param callback\n     * @returns {Promise<void>}\n     */\n    async getAdminList (param, callback) {\n        const emptyReq = new this.proto.Empty();\n        const metadata = {'token': getToken()};\n        this.client.getAdminList(emptyReq, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n    async saveAdmin (param, callback) {\n        const admin = new this.proto.Admin();\n        admin.setEnable(true)\n        admin.setId(param.id)\n        admin.setEmail(param.email)\n        admin.setPassword(param.password)\n        admin.setName(param.name)\n        admin.setAreaIdsList(param.area)\n\n        const metadata = {'token': getToken()};\n        this.client.saveAdmin(admin, metadata, (err, resp) => {\n            !err ? callback(true) : callback(false)\n        })\n    }\n\n\n}\n"]}]}