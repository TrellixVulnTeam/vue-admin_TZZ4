{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCropper.vue","mtime":1626074721762},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIudXJsLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgVnVlQ3JvcHBlciB9IGZyb20gJ3Z1ZS1jcm9wcGVyJzsKaW1wb3J0IEhpbnRzIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvSGludHMnOwppbXBvcnQgVXBsb2FkSW1hZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9VcGxvYWRJbWFnZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnSW1hZ2VDcm9wcGVyJywKICBjb21wb25lbnRzOiB7CiAgICBIaW50czogSGludHMsCiAgICBWdWVDcm9wcGVyOiBWdWVDcm9wcGVyLAogICAgVXBsb2FkSW1hZ2U6IFVwbG9hZEltYWdlCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29uZmlnT2JqOiB7CiAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2JhaW1pbmd4dWFuL21lZGlhLXN0b3JlL2ltYWdlcy9pbWcwMi5qcGcnLAogICAgICAgIGNhbk1vdmU6IGZhbHNlLAogICAgICAgIGF1dG9Dcm9wOiB0cnVlLAogICAgICAgIGNlbnRlckJveDogdHJ1ZSwKICAgICAgICBpbmZvVHJ1ZTogdHJ1ZSwKICAgICAgICBmdWxsOiB0cnVlLAogICAgICAgIGF1dG9Dcm9wV2lkdGg6IDMwMCwKICAgICAgICBhdXRvQ3JvcEhlaWdodDogMjAwLAogICAgICAgIG91dHB1dFR5cGU6ICdwbmcnCiAgICAgIH0sCiAgICAgIGRvd25JbWc6ICcjJywKICAgICAgcHJldmlld3M6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VjY2VzczogZnVuY3Rpb24gaGFuZGxlU3VjY2VzcyhkYXRhKSB7CiAgICAgIHRoaXMuY29uZmlnT2JqLmltZ1NyYyA9IGRhdGE7CiAgICB9LAogICAgcmVhbFRpbWU6IGZ1bmN0aW9uIHJlYWxUaW1lKGRhdGEpIHsKICAgICAgdGhpcy5wcmV2aWV3cyA9IGRhdGE7CiAgICB9LAogICAgZG93bmxvYWRJbWFnZTogZnVuY3Rpb24gZG93bmxvYWRJbWFnZSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5nZXRDcm9wQmxvYihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIF90aGlzLmRvd25JbWcgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhKTsKCiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0b3IubXNTYXZlQmxvYikgewogICAgICAgICAgdmFyIGJsb2JPYmplY3QgPSBuZXcgQmxvYihbZGF0YV0pOwogICAgICAgICAgd2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKGJsb2JPYmplY3QsICdkZW1vLnBuZycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpcy4kcmVmcy5kb3dubG9hZERvbS5jbGljaygpOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["ImageCropper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,SAAA,UAAA,QAAA,aAAA;AACA,OAAA,KAAA,MAAA,wBAAA;AACA,OAAA,WAAA,MAAA,8BAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,cADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,KAAA,EAAA,KAAA;AAAA,IAAA,UAAA,EAAA,UAAA;AAAA,IAAA,WAAA,EAAA;AAAA,GAFA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,MAAA,EAAA,sEADA;AAEA,QAAA,OAAA,EAAA,KAFA;AAGA,QAAA,QAAA,EAAA,IAHA;AAIA,QAAA,SAAA,EAAA,IAJA;AAKA,QAAA,QAAA,EAAA,IALA;AAMA,QAAA,IAAA,EAAA,IANA;AAOA,QAAA,aAAA,EAAA,GAPA;AAQA,QAAA,cAAA,EAAA,GARA;AASA,QAAA,UAAA,EAAA;AATA,OADA;AAYA,MAAA,OAAA,EAAA,GAZA;AAaA,MAAA,QAAA,EAAA;AAbA,KAAA;AAeA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,aADA,yBACA,IADA,EACA;AACA,WAAA,SAAA,CAAA,MAAA,GAAA,IAAA;AACA,KAHA;AAIA,IAAA,QAJA,oBAIA,IAJA,EAIA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,KANA;AAOA,IAAA,aAPA,2BAOA;AAAA;;AACA,WAAA,KAAA,CAAA,OAAA,CAAA,WAAA,CAAA,UAAA,IAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,IAAA,CAAA;;AACA,YAAA,MAAA,CAAA,SAAA,CAAA,UAAA,EAAA;AACA,cAAA,UAAA,GAAA,IAAA,IAAA,CAAA,CAAA,IAAA,CAAA,CAAA;AACA,UAAA,MAAA,CAAA,SAAA,CAAA,UAAA,CAAA,UAAA,EAAA,UAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,YAAA;AACA,YAAA,KAAA,CAAA,KAAA,CAAA,WAAA,CAAA,KAAA;AACA,WAFA;AAGA;AACA,OAVA;AAWA;AAnBA;AApBA,CAAA","sourcesContent":["<template>\n    <div class=\"image-cropper-wrapper\">\n        <Hints>\n            <template slot=\"hintName\">图片裁剪插件</template>\n            <template slot=\"hintInfo\">\n                <p>Vue-Cropper：一个优雅的图片裁剪插件，可实现图片裁剪、图片生成等功能，并支持生成png、jpeg、webp等图片格式</p>\n                <p>github地址：访问\n                    <el-link type=\"success\" href=\"https://github.com/xyxiao001/vue-cropper\" target=\"_blank\">\n                        Vue-Cropper\n                    </el-link>\n                </p>\n            </template>\n        </Hints>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"10\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">裁剪区域</div>\n                    <div class=\"content-box\" style=\" height: 400px;\">\n                        <VueCropper\n                            ref=\"cropper\"\n                            :img=\"configObj.imgSrc\"\n                            :can-move=\"configObj.canMove\"\n                            :auto-crop=\"configObj.autoCrop\"\n                            :center-box=\"configObj.centerBox\"\n                            :info-true=\"configObj.infoTrue\"\n                            :full=\"configObj.full\"\n                            :auto-crop-width=\"configObj.autoCropWidth\"\n                            :auto-crop-height=\"configObj.autoCropHeight\"\n                            :output-type=\"configObj.outputType\"\n                            @realTime=\"realTime\"\n                        />\n                    </div>\n                </el-card>\n            </el-col>\n            <el-col :span=\"4\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">设置区域</div>\n                    <div class=\"content-box\" style=\" height: 400px;\">\n                        <div style=\"height: 100px;\">\n                            <UploadImage @on-success=\"handleSuccess\"/>\n                            <el-button size=\"small\" type=\"primary\" style=\"margin-top: 20px\">\n                                <a @click=\"downloadImage\">生成图片</a>\n                            </el-button>\n                            <a ref=\"downloadDom\" :href=\"downImg\" download=\"demo.png\"/>\n                        </div>\n                    </div>\n                </el-card>\n            </el-col>\n            <el-col :span=\"10\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">预览区域</div>\n                    <div class=\"content-box\" style=\"height: 400px;\">\n                        <div class=\"show-preview\"\n                             :style=\"{'width': previews.w + 'px', 'height': previews.h + 'px', 'overflow': 'hidden', 'zoom': (400 / previews.h)}\">\n                            <div :style=\"previews.div\">\n                                <img :src=\"previews.url\" :style=\"previews.img\" alt=\"预览\">\n                            </div>\n                        </div>\n                    </div>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport {VueCropper} from 'vue-cropper'\nimport Hints from '../../components/Hints'\nimport UploadImage from '../../components/UploadImage'\n\nexport default {\n    name: 'ImageCropper',\n    components: {Hints, VueCropper, UploadImage},\n    data() {\n        return {\n            configObj: {\n                imgSrc: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img02.jpg',\n                canMove: false,\n                autoCrop: true,\n                centerBox: true,\n                infoTrue: true,\n                full: true,\n                autoCropWidth: 300,\n                autoCropHeight: 200,\n                outputType: 'png'\n            },\n            downImg: '#',\n            previews: {}\n        }\n    },\n    methods: {\n        handleSuccess(data) {\n            this.configObj.imgSrc = data\n        },\n        realTime(data) {\n            this.previews = data\n        },\n        downloadImage() {\n            this.$refs.cropper.getCropBlob(data => {\n                this.downImg = window.URL.createObjectURL(data)\n                if (window.navigator.msSaveBlob) {\n                    const blobObject = new Blob([data])\n                    window.navigator.msSaveBlob(blobObject, 'demo.png')\n                } else {\n                    this.$nextTick(() => {\n                        this.$refs.downloadDom.click()\n                    })\n                }\n            })\n        }\n    }\n}\n</script>\n"],"sourceRoot":"src/views/image"}]}