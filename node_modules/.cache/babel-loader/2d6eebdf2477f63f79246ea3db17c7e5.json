{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/util.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/util.js","mtime":1630312215604},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvbWVuZ3kvZGV2ZWxvcC9pd29yay9rYWZvL3Z1ZS1hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwppbXBvcnQgeyBzZXRUb2tlbiwgZ2V0VG9rZW4gfSBmcm9tICdAL3V0aWxzL2Nvb2tpZSc7CmltcG9ydCB7IGVycm9yIH0gZnJvbSAnQC91dGlscy9lcnJvcic7Cgp2YXIgX2RlZmF1bHQgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIF9kZWZhdWx0KGRlcHMpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBfZGVmYXVsdCk7CgogICAgdGhpcy5wcm90byA9IGRlcHMucHJvdG87CiAgICB0aGlzLmNsaWVudCA9IG5ldyBkZXBzLnByb3RvLkNtc0NsaWVudChwcm9jZXNzLmVudi5WVUVfQVBQX0dSUENfUFJPWFlfVVJJLCBudWxsLCBudWxsKTsKICB9CiAgLyoqCiAgICog6I635Y+W6L+Q6JCl5Yy65Z+f5YiX6KGo77yM5LiN5YiG6aG1CiAgICogQHJldHVybnMgeypbXX0KICAgKi8KCgogIF9jcmVhdGVDbGFzcyhfZGVmYXVsdCwgW3sKICAgIGtleTogImdldEFyZWFzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBcmVhcygpIHsKICAgICAgdmFyIGVtcHR5ID0gdGhpcy5wcm90by5FbXB0eSgpOwogICAgICB2YXIgbWV0YWRhdGEgPSB7CiAgICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgICB9OwogICAgICB2YXIgZGF0YSA9IFtdOwogICAgICB0aGlzLmNsaWVudC5nZXRBcmVhTGlzdChlbXB0eSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgdmFyIGxpc3QgPSByZXNwLmdldEFyZWFzTGlzdCgpOwogICAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgICB2YXIganNvbiA9IHsKICAgICAgICAgICAgICB2YWx1ZTogaXRlbS5nZXRJZCgpLAogICAgICAgICAgICAgIGxhYmVsOiBpdGVtLmdldFRpdGxlKCkKICAgICAgICAgICAgfTsKICAgICAgICAgICAgZGF0YS5wdXNoKGpzb24pOwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVycm9yKGVycik7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIGRhdGE7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gX2RlZmF1bHQ7Cn0oKTsKCmV4cG9ydCB7IF9kZWZhdWx0IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/util.js"],"names":["setToken","getToken","error","deps","proto","client","CmsClient","process","env","VUE_APP_GRPC_PROXY_URI","empty","Empty","metadata","data","getAreaList","err","resp","list","getAreasList","forEach","item","index","json","value","getId","label","getTitle","push"],"mappings":";;;;AAAA,SAAQA,QAAR,EAAkBC,QAAlB,QAAiC,gBAAjC;AACA,SAASC,KAAT,QAAsB,eAAtB;;;AAII,oBAAaC,IAAb,EAAmB;AAAA;;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyBC,OAAO,CAACC,GAAR,CAAYC,sBAArC,EAA6D,IAA7D,EAAmE,IAAnE,CAAd;AACH;AAGD;;;;;;;;+BAIY;AACR,UAAMC,KAAK,GAAG,KAAKN,KAAL,CAAWO,KAAX,EAAd;AACA,UAAMC,QAAQ,GAAG;AAAC,iBAASX,QAAQ;AAAlB,OAAjB;AACA,UAAMY,IAAI,GAAG,EAAb;AACA,WAAKR,MAAL,CAAYS,WAAZ,CAAwBJ,KAAxB,EAA+BE,QAA/B,EAAyC,UAACG,GAAD,EAAMC,IAAN,EAAe;AACpD,YAAI,CAACD,GAAL,EAAU;AACN,cAAME,IAAI,GAAGD,IAAI,CAACE,YAAL,EAAb;AACAD,UAAAA,IAAI,CAACE,OAAL,CAAa,UAACC,IAAD,EAAOC,KAAP,EAAe;AACxB,gBAAMC,IAAI,GAAG;AACTC,cAAAA,KAAK,EAAGH,IAAI,CAACI,KAAL,EADC;AAETC,cAAAA,KAAK,EAAGL,IAAI,CAACM,QAAL;AAFC,aAAb;AAIAb,YAAAA,IAAI,CAACc,IAAL,CAAUL,IAAV;AACH,WAND;AAOH,SATD,MASO;AACHpB,UAAAA,KAAK,CAACa,GAAD,CAAL;AACH;AACJ,OAbD;AAcA,aAAOF,IAAP;AACH","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport { error } from '@/utils/error'\n\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(process.env.VUE_APP_GRPC_PROXY_URI, null, null)\n    }\n\n\n    /**\n     * 获取运营区域列表，不分页\n     * @returns {*[]}\n     */\n    getAreas () {\n        const empty = this.proto.Empty();\n        const metadata = {'token': getToken()};\n        const data = []\n        this.client.getAreaList(empty, metadata, (err, resp) => {\n            if (!err) {\n                const list = resp.getAreasList()\n                list.forEach((item, index)=>{\n                    const json = {\n                        value : item.getId(),\n                        label : item.getTitle(),\n                    }\n                    data.push(json)\n                })\n            } else {\n                error(err)\n            }\n        })\n        return data\n    }\n\n}\n"]}]}