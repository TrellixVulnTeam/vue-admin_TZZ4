{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/thread-loader/dist/cjs.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/src/utils/dist.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/utils/dist.js","mtime":1635487901039},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZy5qcyI7CmltcG9ydCB7IEVtcHR5IH0gZnJvbSAiQC9wcm90by9qcy91c2VydHlwZV9wYiI7CmltcG9ydCB7IFBheUNoYW5uZWxMaXN0UmVxdWVzdCwgQ29tbW9kaXR5TGlzdFJlcXVlc3QsIEFwcExpc3RSZXF1ZXN0LCBJcExvY2F0aW9uUmVxdWVzdCB9IGZyb20gIkAvcHJvdG8vanMvY21zX3BiIjsKaW1wb3J0IHsgZ2V0VG9rZW4gfSBmcm9tICJAL3V0aWxzL2Nvb2tpZSI7CmltcG9ydCB7IGNtc1NlcnZpY2UgfSBmcm9tICJAL2dycGMvc2VydmVyIjsKaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gIkAvYXBpL2FwaSI7CmltcG9ydCB7IGxvZ2luT3V0IH0gZnJvbSAiQC91dGlscy9lcnJvciI7CmV4cG9ydCBmdW5jdGlvbiBpbml0RGF0YSgpIHsKICByZXR1cm4gX2luaXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0gLy8gZXhwb3J0IGZ1bmN0aW9uIGluaXRBc3luY0RhdGEoKXsKLy8gICAgIGdldEFwcHMoZnVuY3Rpb24gKGFycil7Ci8vICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXBwQXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSk7Ci8vICAgICB9KQovLyAgICAgZ2V0UGF5Q2hhbm5lbChmdW5jdGlvbihhcnIpewovLyAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInBheUNoYW5uZWxBcnIiLCBKU09OLnN0cmluZ2lmeShhcnIpKTsKLy8gICAgIH0pCi8vICAgICBnZXRDb21tb2RpdHkoZnVuY3Rpb24oYXJyKXsKLy8gICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY29tbW9kaXR5QXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSkKLy8gICAgIH0pCi8vCi8vIH0KCmZ1bmN0aW9uIF9pbml0RGF0YSgpIHsKICBfaW5pdERhdGEgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICB2YXIgYXJlYUFyciwgZ3VpbGRBcnIsIGN1cnJlbnRVc2VyLCBhcHBzLCBwYXlDaGFubmVsQXJyLCBjb21tb2RpdHlBcnI7CiAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgd2hpbGUgKDEpIHsKICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICByZXR1cm4gaW5pdEFyZWFzKCk7CgogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBhcmVhQXJyID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgIHJldHVybiBpbml0R3VpbGRzKCk7CgogICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBndWlsZEFyciA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA4OwogICAgICAgICAgICByZXR1cm4gaW5pdEN1cnJlbnRVc2VySW5mbygpOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY3VycmVudFVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgIHJldHVybiBpbml0QXBwcygpOwoKICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgIGFwcHMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTQ7CiAgICAgICAgICAgIHJldHVybiBpbml0UGF5Q2hhbm5lbCgpOwoKICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIHBheUNoYW5uZWxBcnIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgIHJldHVybiBpbml0Q29tbW9kaXR5KCk7CgogICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgY29tbW9kaXR5QXJyID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIF9jYWxsZWUpOwogIH0pKTsKICByZXR1cm4gX2luaXREYXRhLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7Cn0KCmV4cG9ydCB2YXIgaW5pdEN1cnJlbnRVc2VySW5mbyA9IGZ1bmN0aW9uIGluaXRDdXJyZW50VXNlckluZm8oKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciByZXEgPSBuZXcgRW1wdHkoKTsKICAgIHZhciBtZXRhZGF0YSA9IHsKICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgfTsKICAgIGNtc1NlcnZpY2UuZ2V0QWRtaW5JbmZvKHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgaWYgKCFlcnIpIHsKICAgICAgICB2YXIganNvbiA9IHsKICAgICAgICAgIG5hbWU6IHJlc3AuZ2V0TmFtZSgpLAogICAgICAgICAgZW1haWw6IHJlc3AuZ2V0RW1haWwoKSwKICAgICAgICAgIGFyZWFJZDogcmVzcC5nZXRBcmVhSWQoKSwKICAgICAgICAgIGFwcElkczogcmVzcC5nZXRBcHBJZHNMaXN0KCksCiAgICAgICAgICBtb2R1bGVzOiByZXNwLmdldE1vZHVsZXMoKQogICAgICAgIH07CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY3VycmVudFVzZXIiLCBKU09OLnN0cmluZ2lmeShqc29uKSk7CiAgICAgICAgcmVzb2x2ZShqc29uKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiaW5pdEN1cnJlbnRVc2VySW5mbyA6IiArIGVycik7CiAgICAgIH0KICAgIH0pOwogIH0pOwp9OwpleHBvcnQgZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXJBcmVhSWQoKSB7CiAgdHJ5IHsKICAgIHZhciBqc29uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiY3VycmVudFVzZXIiKTsKCiAgICBpZiAoaXNFbXB0eShqc29uKSkgewogICAgICBsb2dpbk91dCgpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbikuYXJlYUlkOwogICAgfQogIH0gY2F0Y2ggKGVycikgewogICAgY29uc29sZS5sb2coZXJyKTsKICB9CgogIHJldHVybiB1bmRlZmluZWQ7Cn0KZXhwb3J0IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyTW9kdWxlcygpIHsKICB0cnkgewogICAgdmFyIGpzb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJjdXJyZW50VXNlciIpOwogICAgcmV0dXJuIEpTT04ucGFyc2UoanNvbikubW9kdWxlczsKICB9IGNhdGNoIChlcnIpIHsKICAgIGNvbnNvbGUubG9nKGVycik7CiAgfQoKICByZXR1cm4gdW5kZWZpbmVkOwp9CmV4cG9ydCB2YXIgaW5pdEFyZWFzID0gZnVuY3Rpb24gaW5pdEFyZWFzKCkgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgZW1wdHkgPSBuZXcgRW1wdHkoKTsKICAgIHZhciBtZXRhZGF0YSA9IHsKICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgfTsKICAgIGNtc1NlcnZpY2UuZ2V0QXJlYUxpc3QoZW1wdHksIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgIGlmICghZXJyKSB7CiAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgIHZhciBsaXN0ID0gcmVzcC5nZXRBcmVhc0xpc3QoKTsKICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICB2YXIganNvbiA9IHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgICAgbGFiZWw6IGl0ZW0uZ2V0VGl0bGUoKQogICAgICAgICAgfTsKICAgICAgICAgIGFyci5wdXNoKGpzb24pOwogICAgICAgIH0pOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImFyZWFBcnIiLCBKU09OLnN0cmluZ2lmeShhcnIpKTsKICAgICAgICByZXNvbHZlKGFycik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coImluaXRBcmVhczoiICsgZXJyKTsKICAgICAgfQogICAgfSk7CiAgfSk7Cn07CmV4cG9ydCBmdW5jdGlvbiBnZXRBcmVhTGlzdChpc1Nob3dBbGwpIHsKICB2YXIganNvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFyZWFBcnIiKTsKCiAgaWYgKGlzRW1wdHkoanNvbikpIHsKICAgIGluaXRBcmVhcygpLnRoZW4oKTsKICB9IGVsc2UgewogICAgdmFyIGFyciA9IEpTT04ucGFyc2UoanNvbik7CiAgICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBhcnIpOwogIH0KfSAvLyDlt6XkvJrliJfooagKCmV4cG9ydCB2YXIgaW5pdEd1aWxkcyA9IGZ1bmN0aW9uIGluaXRHdWlsZHMoKSB7CiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgIHZhciByZXEgPSBuZXcgRW1wdHkoKTsKICAgIHZhciBtZXRhZGF0YSA9IHsKICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgfTsKICAgIGNtc1NlcnZpY2UuZ2V0R3VpbGRMaXN0KHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgaWYgKCFlcnIpIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgdmFyIGxpc3QgPSByZXNwLmdldEd1aWxkc0xpc3QoKTsKICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgICB2YXIganNvbiA9IHsKICAgICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgICAgbGFiZWw6IGl0ZW0uZ2V0TmFtZSgpLAogICAgICAgICAgICBhcmVhSWQ6IGl0ZW0uZ2V0QXJlYUlkKCkKICAgICAgICAgIH07CiAgICAgICAgICBhcnIucHVzaChqc29uKTsKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygi5Yid5aeL5YyW5bel5LyaOiIgKyBKU09OLnN0cmluZ2lmeShhcnIpKTsKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJndWlsZEFyciIsIEpTT04uc3RyaW5naWZ5KGFycikpOwogICAgICAgIHJlc29sdmUoYXJyKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zb2xlLmxvZygiaW5pdEd1aWxkczoiICsgZXJyKTsKICAgICAgfQogICAgfSk7CiAgfSk7Cn07CmV4cG9ydCBmdW5jdGlvbiBnZXRHdWlsZExpc3QoaXNTaG93QWxsKSB7CiAgdmFyIGpzb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJndWlsZEFyciIpOwoKICBpZiAoaXNFbXB0eShqc29uKSkgewogICAgaW5pdEd1aWxkcygpLnRoZW4oKTsKICB9IGVsc2UgewogICAgdmFyIGFyciA9IEpTT04ucGFyc2UoanNvbik7CiAgICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBhcnIpOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gZ2V0R3VpbGRMaXN0QnlBcmVhSWQodmFsLCBpc1Nob3dBbGwpIHsKICB2YXIgZ3VpbGRMaXN0ID0gZ2V0R3VpbGRMaXN0KGZhbHNlKTsKICB2YXIgbmV3TGlzdCA9IFtdOwoKICBpZiAodmFsID09PSAwKSB7CiAgICBuZXdMaXN0ID0gZ3VpbGRMaXN0OwogIH0gZWxzZSB7CiAgICBndWlsZExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoaXRlbS5hcmVhSWQgPT09IHZhbCkgewogICAgICAgIG5ld0xpc3QucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CiAgfQoKICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBuZXdMaXN0KTsKfSAvLyDlupTnlKjliJfooagKCmV4cG9ydCB2YXIgaW5pdEFwcHMgPSBmdW5jdGlvbiBpbml0QXBwcygpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHJlcSA9IG5ldyBBcHBMaXN0UmVxdWVzdCgpOwogICAgdmFyIG1ldGFkYXRhID0gewogICAgICAndG9rZW4nOiBnZXRUb2tlbigpCiAgICB9OwogICAgY21zU2VydmljZS5nZXRBcHBMaXN0KHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgaWYgKCFlcnIpIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgdmFyIGxpc3QgPSByZXNwLmdldEFwcHNMaXN0KCk7CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgdmFyIGpzb24gPSB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmdldElkKCksCiAgICAgICAgICAgIGxhYmVsOiBpdGVtLmdldFRpdGxlKCksCiAgICAgICAgICAgIG9zOiBpdGVtLmdldE9zVHlwZSgpLAogICAgICAgICAgICBpc0FuY2hvcjogaXRlbS5nZXRJc0FuY2hvcigpLAogICAgICAgICAgICBhcmVhSWRzOiBpdGVtLmdldEFyZWFJZHNMaXN0KCkKICAgICAgICAgIH07CiAgICAgICAgICBhcnIucHVzaChqc29uKTsKICAgICAgICB9KTsKICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhcHBBcnIiLCBKU09OLnN0cmluZ2lmeShhcnIpKTsKICAgICAgICByZXNvbHZlKGFycik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coImluaXRBcHBzOiIgKyBlcnIpOwogICAgICB9CiAgICB9KTsKICB9KTsKfTsKZXhwb3J0IGZ1bmN0aW9uIGdldEFwcExpc3QoaXNOb0FuY2hvciwgaXNTaG93QWxsKSB7CiAgdmFyIGpzb24gPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhcHBBcnIiKTsKICB2YXIgYXJyID0gW107CgogIGlmIChpc0VtcHR5KGpzb24pKSB7CiAgICBpbml0QXBwcygpLnRoZW4oKTsKICB9IGVsc2UgewogICAgYXJyID0gSlNPTi5wYXJzZShqc29uKTsKICB9CgogIGlmIChpc05vQW5jaG9yKSB7CiAgICB2YXIgcmVzdWx0ID0gW107CiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoIWl0ZW0uaXNBbmNob3IpIHsKICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCByZXN1bHQpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBhcnIpOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gZ2V0QXBwTGlzdEJ5QXJlYUlkKHZhbCwgaXNGaWx0ZXIsIGlzU2hvd0FsbCkgewogIHZhciBhcHBzID0gZ2V0QXBwTGlzdChpc0ZpbHRlciwgZmFsc2UpOwogIHZhciBuZXdBcHBzID0gW107CgogIGlmICh2YWwgPT09IDApIHsKICAgIG5ld0FwcHMgPSBhcHBzOwogIH0gZWxzZSB7CiAgICBhcHBzLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uYXJlYUlkcy5pbmRleE9mKHZhbCkgPj0gMCkgewogICAgICAgIG5ld0FwcHMucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CiAgfQoKICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBuZXdBcHBzKTsKfSAvLyDmlK/ku5jmuKDpgZMKCmV4cG9ydCB2YXIgaW5pdFBheUNoYW5uZWwgPSBmdW5jdGlvbiBpbml0UGF5Q2hhbm5lbCgpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHJlcSA9IG5ldyBQYXlDaGFubmVsTGlzdFJlcXVlc3QoKTsKICAgIHZhciBtZXRhZGF0YSA9IHsKICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgfTsKICAgIGNtc1NlcnZpY2UuZ2V0UGF5Q2hhbm5lbExpc3QocmVxLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICBpZiAoIWVycikgewogICAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgICB2YXIgbGlzdCA9IHJlc3AuZ2V0Q2hhbm5lbHNMaXN0KCk7CiAgICAgICAgY29uc29sZS5sb2coImdldFBheUNoYW5uZWwgbGlzdDoiICsgbGlzdCk7CiAgICAgICAgbGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgdmFyIGpzb24gPSB7CiAgICAgICAgICAgIHZhbHVlOiBpdGVtLmdldElkKCksCiAgICAgICAgICAgIGxhYmVsOiBpdGVtLmdldE5hbWUoKSwKICAgICAgICAgICAgaWNvbjogaXRlbS5nZXRJY29uKCksCiAgICAgICAgICAgIGFyZWFJZDogaXRlbS5nZXRBcmVhSWQoKQogICAgICAgICAgfTsKICAgICAgICAgIGFyci5wdXNoKGpzb24pOwogICAgICAgIH0pOwogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInBheUNoYW5uZWxBcnIiLCBKU09OLnN0cmluZ2lmeShhcnIpKTsKICAgICAgICByZXNvbHZlKGFycik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY29uc29sZS5sb2coImluaXRQYXlDaGFubmVsOiIgKyBlcnIpOwogICAgICB9CiAgICB9KTsKICB9KTsKfTsKZXhwb3J0IGZ1bmN0aW9uIGdldFBheUNoYW5uZWxMaXN0KGFyZWFJZCkgewogIHZhciBzdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJwYXlDaGFubmVsQXJyIik7CgogIGlmIChpc0VtcHR5KHN0cikpIHsKICAgIGluaXRQYXlDaGFubmVsKCkudGhlbigpOwogIH0gZWxzZSB7CiAgICB2YXIgYXJyID0gSlNPTi5wYXJzZShzdHIpOwogICAgdmFyIHJlc3VsdCA9IFtdOwogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGl0ZW0uYXJlYUlkID09PSBhcmVhSWQpIHsKICAgICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gc2V0T2soZmFsc2UsIHJlc3VsdCk7CiAgfQp9IC8vIOWVhuWTgeWIl+ihqAoKZXhwb3J0IHZhciBpbml0Q29tbW9kaXR5ID0gZnVuY3Rpb24gaW5pdENvbW1vZGl0eSgpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIHJlcSA9IG5ldyBDb21tb2RpdHlMaXN0UmVxdWVzdCgpOwogICAgdmFyIG1ldGFkYXRhID0gewogICAgICAndG9rZW4nOiBnZXRUb2tlbigpCiAgICB9OwogICAgY21zU2VydmljZS5nZXRDb21tb2RpdHlMaXN0KHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgaWYgKCFlcnIpIHsKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgdmFyIGxpc3QgPSByZXNwLmdldENvbW1vZGl0aWVzTGlzdCgpOwogICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAgIHZhciBqc29uID0gewogICAgICAgICAgICB2YWx1ZTogaXRlbS5nZXRJZCgpLAogICAgICAgICAgICBsYWJlbDogaXRlbS5nZXRUaXRsZSgpLAogICAgICAgICAgICBuYW1lOiBpdGVtLmdldE5hbWUoKSwKICAgICAgICAgICAgYXJlYUlkOiBpdGVtLmdldEFyZWFJZCgpLAogICAgICAgICAgICBhcHBJZDogaXRlbS5nZXRBcHBJZCgpCiAgICAgICAgICB9OwogICAgICAgICAgYXJyLnB1c2goanNvbik7CiAgICAgICAgfSk7CiAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY29tbW9kaXR5QXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSk7CiAgICAgICAgcmVzb2x2ZShhcnIpOwogICAgICB9IGVsc2UgewogICAgICAgIGNvbnNvbGUubG9nKCJpbml0Q29tbW9kaXR5OiIgKyBlcnIpOwogICAgICB9CiAgICB9KTsKICB9KTsKfTsKZXhwb3J0IGZ1bmN0aW9uIGdldENvbW1vZGl0eUxpc3QoKSB7CiAgdmFyIHN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImNvbW1vZGl0eUFyciIpOwoKICBpZiAoaXNFbXB0eShzdHIpKSB7CiAgICBpbml0Q29tbW9kaXR5KCkudGhlbigpOwogIH0gZWxzZSB7CiAgICB2YXIgYXJyID0gSlNPTi5wYXJzZShzdHIpOwogICAgcmV0dXJuIHNldE9rKGZhbHNlLCBhcnIpOwogIH0KfSAvLyDmn6Xor6JpcOeahOWcsOWdgAoKZXhwb3J0IGZ1bmN0aW9uIGlwVG9BZGRyZXNzKGlwLCBjYWxsYmFjaykgewogIHZhciByZXEgPSBuZXcgSXBMb2NhdGlvblJlcXVlc3QoKTsKICByZXEuc2V0SXAoaXApOwogIHZhciBtZXRhZGF0YSA9IHsKICAgICd0b2tlbic6IGdldFRva2VuKCkKICB9OwogIGNtc1NlcnZpY2UuZ2V0SXBMb2NhdGlvbihyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICBpZiAoIWVycikgewogICAgICBjYWxsYmFjayhyZXNwKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKCJpcFRvQWRkcmVzczoiICsgZXJyKTsKICAgIH0KICB9KTsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0QXJyTmFtZShhcnIsIGlkKSB7CiAgdmFyIGxhYmVsID0gIiI7CgogIGlmIChpc0VtcHR5KGlkKSB8fCBpZCA9PT0gMCkgewogICAgcmV0dXJuIGxhYmVsOwogIH0KCiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICh0eXBlb2YgaXRlbS52YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgaWYgKGlkLnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfQogIH0pOwogIHJldHVybiBsYWJlbDsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0QXBwTmFtZShhcnIsIGlkKSB7CiAgdmFyIGxhYmVsID0gIiI7CiAgdmFyIG9zID0gMDsKICB2YXIgaXNBbmNob3IgPSBmYWxzZTsKCiAgaWYgKGlzRW1wdHkoaWQpIHx8IGlkID09PSAwKSB7CiAgICByZXR1cm4gewogICAgICBsYWJlbDogbGFiZWwsCiAgICAgIG9zOiBvcywKICAgICAgaXNBbmNob3I6IGlzQW5jaG9yCiAgICB9OwogIH0KCiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgIGlmICh0eXBlb2YgaXRlbS52YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgaWYgKGlkLnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgICBvcyA9IGl0ZW0ub3M7CiAgICAgICAgaXNBbmNob3IgPSBpdGVtLmlzQW5jaG9yOwogICAgICB9CiAgICB9CiAgfSk7CiAgcmV0dXJuIHsKICAgIGxhYmVsOiBsYWJlbCwKICAgIG9zOiBvcywKICAgIGlzQW5jaG9yOiBpc0FuY2hvcgogIH07Cn0KZXhwb3J0IGZ1bmN0aW9uIHNldE9rKGlzU2hvd0FsbCwgYXJyKSB7CiAgaWYgKGlzU2hvd0FsbCkgewogICAgYXJyLnVuc2hpZnQoewogICAgICBsYWJlbDogIuWFqOmDqCIsCiAgICAgIHZhbHVlOiAwCiAgICB9KTsKICB9CgogIHJldHVybiBhcnI7Cn0gLy8g5piv5ZCmCgpleHBvcnQgZnVuY3Rpb24gZ2V0Qm9vbCgpIHsKICByZXR1cm4gW3sKICAgIHZhbHVlOiB0cnVlLAogICAgbGFiZWw6ICfmmK8nCiAgfSwgewogICAgdmFsdWU6IGZhbHNlLAogICAgbGFiZWw6ICflkKYnCiAgfV07Cn0gLy8g5Li75pKt562J57qnCgpleHBvcnQgZnVuY3Rpb24gZ2V0QW5jaG9yTGV2ZWwoa2V5KSB7CiAgdmFyIGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICflt67lirInCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+S4reetiScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn6Imv5aW9JwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICfkvJjnp4AnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOWuoeaguOeKtuaAgQoKZXhwb3J0IGZ1bmN0aW9uIGdldFJldmlld1N0YXR1cyhrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+acquWuoeaguCcKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5bey5o+Q5Lqk5a6h5qC4JwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICflrqHmoLjkuK0nCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+S4jemAmui/hycKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn5a6h5qC46YCa6L+HJwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICflgZznlKgnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vCgpleHBvcnQgZnVuY3Rpb24gZ2V0UmVwb3J0ZWRUeXBlcygpIHsKICByZXR1cm4gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+eUqOaItycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Li75pKtJwogIH1dOwp9CmV4cG9ydCBmdW5jdGlvbiBnZXRSZXBvcnRlZFRpbWUoKSB7CiAgcmV0dXJuIFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfku4rlpKknCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+acgOi/kTPlpKknCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+acgOi/kTflpKknCiAgfV07Cn0gLy8g5Zyo57q/54q25oCBCgpleHBvcnQgZnVuY3Rpb24gZ2V0T25saW5lU3RhdHVzKGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn56a757q/JwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICflnKjnur8nCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+W/mee6vycKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5Yu/5omwJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgdmFyIGxhYmVsID0gIiI7CgogICAgaWYgKGtleSA9PT0gMCkgewogICAgICByZXR1cm4gbGFiZWw7CiAgICB9CgogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDov53op4TlnLrmma8KCmV4cG9ydCBmdW5jdGlvbiBnZXRWaW9sYXRpb25TY2VuZShpc1Nob3dBbGwsIGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+inhumikemAmuivnScKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn6IGK5aSpJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfkuLvmkq3otYTmlpknCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIGlmIChpc1Nob3dBbGwpIHsKICAgICAgYXJyLnVuc2hpZnQoewogICAgICAgIHZhbHVlOiAwLAogICAgICAgIGxhYmVsOiAn5YWo6YOoJwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDlsIHnpoHnsbvlnosKCmV4cG9ydCBmdW5jdGlvbiBnZXRCbG9ja1N0YXR1cyhpc1Nob3dBbGwsIGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+S4jeWwgeemgScKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Y+R6YCB6K2m5ZGKJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICflsIHnpoHotKblj7cnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WwgeemgeaJgOaciScKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICBpZiAoaXNTaG93QWxsKSB7CiAgICAgIGFyci51bnNoaWZ0KHsKICAgICAgICB2YWx1ZTogMCwKICAgICAgICBsYWJlbDogJ+WFqOmDqCcKICAgICAgfSk7CiAgICB9CgogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5bCB56aB5pe25bi4CgpleHBvcnQgZnVuY3Rpb24gZ2V0QmxvY2tUaW1lKGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDUgKiA2MCwKICAgIGxhYmVsOiAnNeWIhumSnycKICB9LCB7CiAgICB2YWx1ZTogMzAgKiA2MCwKICAgIGxhYmVsOiAnMzDliIbpkp8nCiAgfSwgewogICAgdmFsdWU6IDYwICogNjAsCiAgICBsYWJlbDogJzHlsI/ml7YnCiAgfSwgewogICAgdmFsdWU6IDMgKiA2MCAqIDYwLAogICAgbGFiZWw6ICcz5bCP5pe2JwogIH0sIHsKICAgIHZhbHVlOiAyNCAqIDYwICogNjAsCiAgICBsYWJlbDogJzHlpKknCiAgfSwgewogICAgdmFsdWU6IDcgKiAyNCAqIDYwICogNjAsCiAgICBsYWJlbDogJzflpKknCiAgfSwgewogICAgdmFsdWU6IDMwICogMjQgKiA2MCAqIDYwLAogICAgbGFiZWw6ICcx5pyIJwogIH0sIHsKICAgIHZhbHVlOiAzNjUgKiAyNCAqIDYwICogNjAsCiAgICBsYWJlbDogJzHlubQnCiAgfSwgewogICAgdmFsdWU6IDEwICogMzY1ICogMjQgKiA2MCAqIDYwLAogICAgbGFiZWw6ICfmsLjkuYXlsIHnpoEnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5pSv5LuY54q25oCBCgpleHBvcnQgZnVuY3Rpb24gZ2V0UGF5U3RhdHVzKGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn5b6F5pSv5LuYJwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICflt7LmlK/ku5gnCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+W3suWPlua2iCcKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5bey6YCA5qy+JwogIH0sIHsKICAgIHZhbHVlOiA1LAogICAgbGFiZWw6ICflt7LotoXml7YnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g6IGM5Lia57G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0T2NjdXBhdGlvblR5cGUoa2V5KSB7CiAgdmFyIGFyciA9IFt7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAnSVQv5LqS6IGU572RL+mAmuS/oScKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5a2m55SfJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfmlofljJYv6Im65pyvJwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICflvbHop4Yv5aix5LmQJwogIH0sIHsKICAgIHZhbHVlOiA1LAogICAgbGFiZWw6ICfph5Hono0nCiAgfSwgewogICAgdmFsdWU6IDYsCiAgICBsYWJlbDogJ+WMu+iNry/lgaXlurcnCiAgfSwgewogICAgdmFsdWU6IDcsCiAgICBsYWJlbDogJ+W3peS4mi/liLbpgKDkuJonCiAgfSwgewogICAgdmFsdWU6IDgsCiAgICBsYWJlbDogJ+WqkuS9ky/lhazlhbMnCiAgfSwgewogICAgdmFsdWU6IDksCiAgICBsYWJlbDogJ+mbtuWUricKICB9LCB7CiAgICB2YWx1ZTogMTAsCiAgICBsYWJlbDogJ+aVmeiCsi/np5HnoJQnCiAgfSwgewogICAgdmFsdWU6IDExLAogICAgbGFiZWw6ICflhbbku5YnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOa2iOaBr+exu+WeiwoKZXhwb3J0IGZ1bmN0aW9uIGdldE1lc3NhZ2VUeXBlKGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+aWh+acrCcKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn56S854mpJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICflhYXlgLwnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WbvueJhycKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn6KeG6aKRJwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICfor63pn7MnCiAgfSwgewogICAgdmFsdWU6IDcsCiAgICBsYWJlbDogJ+S9jee9ricKICB9LCB7CiAgICB2YWx1ZTogOCwKICAgIGxhYmVsOiAn6Jma5ouf6KeG6aKRJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgdmFyIGxhYmVsID0gIiI7CiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBnZXRNZXNzYWdlVHlwZVJlamVjdChrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfmlofmnKwnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WbvueJhycKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn6KeG6aKRJwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICfor63pn7MnCiAgfSwgewogICAgdmFsdWU6IDgsCiAgICBsYWJlbDogJ+iZmuaLn+inhumikScKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDliqjkvZznsbvlnosKCmV4cG9ydCBmdW5jdGlvbiBnZXRBY3Rpb25UeXBlKGlzU2hvd0FsbCwga2V5KSB7CiAgdmFyIGFyciA9IFt7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn5ouS57ud5o6l5ZCsJwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICfmnKrmjqXlkKwnCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+mAmuivnee7k+adnycKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5YWz5rOoJwogIH0sIHsKICAgIHZhbHVlOiA1LAogICAgbGFiZWw6ICflhYXlgLwnCiAgfSwgewogICAgdmFsdWU6IDYsCiAgICBsYWJlbDogJ+WPkemAgeekvOeJqScKICB9LCB7CiAgICB2YWx1ZTogNywKICAgIGxhYmVsOiAn5Li75pKt5omT5oub5ZG8JwogIH0sIHsKICAgIHZhbHVlOiA4LAogICAgbGFiZWw6ICflvJXlr7zlhYXlgLwnCiAgfSwgewogICAgdmFsdWU6IDksCiAgICBsYWJlbDogJ+W8leWvvOmAgeekvCcKICB9LCB7CiAgICB2YWx1ZTogMTAsCiAgICBsYWJlbDogJ+W8leWvvOmAmuivnScKICB9LCB7CiAgICB2YWx1ZTogMTEsCiAgICBsYWJlbDogJ+S4u+aSreaLkue7neaOpeWQrOitpuWRiicKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwoKICAgIGlmIChrZXkgPT09IDApIHsKICAgICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgaWYgKGlzU2hvd0FsbCkgewogICAgICBhcnIudW5zaGlmdCh7CiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbGFiZWw6ICflhajpg6gnCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOi/neinhOexu+WeiwoKZXhwb3J0IGZ1bmN0aW9uIGdldFZpb2xhdGlvblR5cGUoaXNTaG93QWxsLCBrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfor4jpqpcnCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+iJsuaDhScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5Y+N5YqoJwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICflhbbku5YnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIGlmIChpc1Nob3dBbGwpIHsKICAgICAgYXJyLnVuc2hpZnQoewogICAgICAgIHZhbHVlOiAwLAogICAgICAgIGxhYmVsOiAn5YWo6YOoJwogICAgICB9KTsKICAgIH0KCiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDpgJror53lj5HotbfnsbvlnosKCmV4cG9ydCBmdW5jdGlvbiBnZXRDYWxsVHlwZShrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+eUqOaIt+WRvOWPqycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Li75pKt5ZG85Y+rJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfnlKjmiLdBaeWRvOWPqycKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5Li75pKtQWnlkbzlj6snCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g57uT5p2f57G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0SGFuZ1R5cGUoa2V5KSB7CiAgdmFyIGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfnlKjmiLfmjILmlq0nCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+S4u+aSreaMguaWrScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5peg5Lq65o6l5ZCsJwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICflrqLmiLfnq6/nvZHnu5zkuI3lpb0nCiAgfSwgewogICAgdmFsdWU6IDUsCiAgICBsYWJlbDogJ+S9memineS4jei2sycKICB9LCB7CiAgICB2YWx1ZTogNiwKICAgIGxhYmVsOiAn57O757uf6ZSZ6K+vJwogIH0sIHsKICAgIHZhbHVlOiA3LAogICAgbGFiZWw6ICflo7DnvZHotoXml7YnCiAgfSwgewogICAgdmFsdWU6IDgsCiAgICBsYWJlbDogJ+WjsOe9kemUmeivrycKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwoKICAgIGlmIChrZXkgPT09IDApIHsKICAgICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g57uT5p2f57G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0Q2FsbFN0YXR1cyhrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+etieW+heaOpemAmicKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn6YCa6K+d5LitJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfpgJror53nu5PmnZ8nCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5a6e5L2T57G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0RW50aXR5VHlwZShrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+aZrumAmueUqOaItycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Li75pKtJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfnrqHnkIblkZgnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WFrOS8micKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn6K6i6ZiF6K6i5Y2VJwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICflhYXlgLzorqLljZUnCiAgfSwgewogICAgdmFsdWU6IDcsCiAgICBsYWJlbDogJ+ekvOeJqeiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogOCwKICAgIGxhYmVsOiAnVklQ6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiA5LAogICAgbGFiZWw6ICfpgJror53orrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDEwLAogICAgbGFiZWw6ICfnrb7liLDorrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDExLAogICAgbGFiZWw6ICfkuL7miqXorrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDEyLAogICAgbGFiZWw6ICflnKjnur/orrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDEzLAogICAgbGFiZWw6ICfnu5PnrpforrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDE0LAogICAgbGFiZWw6ICflpZbmg6norrDlvZUnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g55So5oi357G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0VHJhZGVyVHlwZShrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+eUqOaItycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Li75pKtJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfnrqHnkIblkZgnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5a6e5L2T57G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0U291cmNlVHlwZShrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDUsCiAgICBsYWJlbDogJ+iuoumYheiuouWNlScKICB9LCB7CiAgICB2YWx1ZTogNiwKICAgIGxhYmVsOiAn5YWF5YC86K6i5Y2VJwogIH0sIHsKICAgIHZhbHVlOiA3LAogICAgbGFiZWw6ICfnpLznianorrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDgsCiAgICBsYWJlbDogJ1ZJUOiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogOSwKICAgIGxhYmVsOiAn6YCa6K+d6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiAxMCwKICAgIGxhYmVsOiAn562+5Yiw6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiAxMSwKICAgIGxhYmVsOiAn5Li+5oql6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiAxMiwKICAgIGxhYmVsOiAn5Zyo57q/6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiAxMywKICAgIGxhYmVsOiAn57uT566X6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiAxNCwKICAgIGxhYmVsOiAn5aWW5oOp6K6w5b2VJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgdmFyIGxhYmVsID0gIiI7CiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOe7k+eul+eKtuaAgQoKZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRsZVN0YXR1cyhrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+mihOe7k+eulycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5bey5YmU6ZmkJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfnu5PnrpflrozmiJAnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+aSpOmUgOe7k+eulycKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDmlK/ku5jmlrnlvI8KCmV4cG9ydCBmdW5jdGlvbiBnZXRQYXlUeXBlKGlzU2hvd0FsbCwga2V5KSB7CiAgdmFyIGFyciA9IFt7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAnR29vZ2xlJwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICdBcHBsZScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAnWGVuZGl0JwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICdQYXllck1heCcKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwoKICAgIGlmIChrZXkgPT09IDApIHsKICAgICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgaWYgKGlzU2hvd0FsbCkgewogICAgICBhcnIudW5zaGlmdCh7CiAgICAgICAgdmFsdWU6IDAsCiAgICAgICAgbGFiZWw6ICflhajpg6gnCiAgICAgIH0pOwogICAgfQoKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOezu+e7n+exu+WeiwoKZXhwb3J0IGZ1bmN0aW9uIGdldE9zVHlwZShrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ0FuZHJvaWQnCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ0lvcycKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIHZhciBsYWJlbCA9ICIiOwoKICAgIGlmIChrZXkgPT09IDApIHsKICAgICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5paH5Lu257G75Z6LCgpleHBvcnQgZnVuY3Rpb24gZ2V0RmlsZVR5cGUoa2V5KSB7CiAgdmFyIGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICflm77niYcnCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+inhumikScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn6Z+z6aKRJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgdmFyIGxhYmVsID0gIiI7CgogICAgaWYgKGtleSA9PT0gMCkgewogICAgICByZXR1cm4gbGFiZWw7CiAgICB9CgogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDmgKfliKvnsbvlnosKCmV4cG9ydCBmdW5jdGlvbiBnZXRHZW5kZXJUeXBlKGtleSkgewogIHZhciBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn55S3JwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICflpbMnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICB2YXIgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwIHx8IGtleSA9PT0gJzAnKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOaXtumXtOmXtOmalAoKZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRJbnRlcnZhbChrZXkpIHsKICB2YXIgYXJyID0gW3sKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICcx5bCP5pe2JwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICcx5aSpJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgdmFyIGxhYmVsID0gIiI7CgogICAgaWYgKGtleSA9PT0gMCkgewogICAgICByZXR1cm4gbGFiZWw7CiAgICB9CgogICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfQ=="},null]}