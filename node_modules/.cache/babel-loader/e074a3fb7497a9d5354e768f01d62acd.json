{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin-design/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/src/views/Login.vue","mtime":1624592419635},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluLWRlc2lnbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQiKTsKCk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwoKdmFyIF9sb2dpbiA9IHJlcXVpcmUoIi4uL2FwaS9sb2dpbiIpOwoKdmFyIF9jb29raWUgPSByZXF1aXJlKCIuLi91dGlscy9jb29raWUiKTsKCnZhciBfbG9naW5CYWNrZ3JvdW5kID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuLi9hc3NldHMvaW1nL2xvZ2luLWJhY2tncm91bmQuanBnIikpOwoKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIEJhY2tncm91bmQ6IF9sb2dpbkJhY2tncm91bmQuZGVmYXVsdCwKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICdhZG1pbicsCiAgICAgICAgcGFzc3dvcmQ6ICdhZG1pbjEyMycsCiAgICAgICAgcmVtZW1iZXJNZTogdHJ1ZQogICAgICB9LAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIG1lc3NhZ2U6ICfnlKjmiLflkI3kuI3og73kuLrnqbonCiAgICAgICAgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJywKICAgICAgICAgIG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbonCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHJlZGlyZWN0OiB1bmRlZmluZWQKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIocm91dGUpIHsKICAgICAgICB0aGlzLnJlZGlyZWN0ID0gcm91dGUucXVlcnkgJiYgcm91dGUucXVlcnkucmVkaXJlY3Q7CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlTG9naW46IGZ1bmN0aW9uIGhhbmRsZUxvZ2luKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy4kcmVmcy5sb2dpbkZvcm0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICB1c2VybmFtZTogX3RoaXMubG9naW5Gb3JtLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IF90aGlzLmxvZ2luRm9ybS5wYXNzd29yZAogICAgICAgIH07CgogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgYWxlcnQodmFsaWQpOwogICAgICAgICAgYWxlcnQoX3RoaXMucmVkaXJlY3QpOwogICAgICAgICAgKDAsIF9jb29raWUuc2V0VG9rZW4pKCIxMTExMTExMTExMSIpOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgIHBhdGg6IF90aGlzLnJlZGlyZWN0IHx8ICcvJwogICAgICAgICAgfSk7IC8vIGxvZ2luKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIC8vICAgc2V0VG9rZW4ocmVzLnRva2VuKQogICAgICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRoaXMucmVkaXJlY3QgfHwgJy8nIH0pCiAgICAgICAgICAvLyB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAvLyAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAvLyB9KQoKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;AA6BA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,wBADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,OADA;AAEA,QAAA,QAAA,EAAA,UAFA;AAGA,QAAA,UAAA,EAAA;AAHA,OAFA;AAOA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAFA,OAPA;AAWA,MAAA,OAAA,EAAA,KAXA;AAYA,MAAA,QAAA,EAAA;AAZA,KAAA;AAcA,GAjBA;AAkBA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,KAAA,EAAA;AACA,aAAA,QAAA,GAAA,KAAA,CAAA,KAAA,IAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAHA;AAIA,MAAA,SAAA,EAAA;AAJA;AADA,GAlBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CAAA;AAFA,SAAA;;AAIA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA,gCAAA,aAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA,KAAA,CAAA,QAAA,IAAA;AAAA,WAAA,EAJA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,OAlBA;AAmBA;AArBA;AA1BA,C","sourcesContent":["<template>\n  <div class=\"login-wrapper\" :style=\"'background-image:url('+ Background +')'\">\n    <div class=\"form-box\">\n      <div class=\"form-title\">\n        <img src=\"../assets/img/logo2.png\" alt=\"icon\">\n        <p>账 号 登 录</p>\n      </div>\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-width=\"0px\" class=\"login-form\">\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"loginForm.username\" type=\"text\" auto-complete=\"off\" placeholder=\"请输入账号\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" @keyup.enter.native=\"handleLogin\" />\n        </el-form-item>\n        <el-form-item>\n          <el-checkbox v-model=\"loginForm.rememberMe\">记住我</el-checkbox>\n        </el-form-item>\n        <el-form-item>\n          <el-button :loading=\"loading\" size=\"small\" type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\">\n            <span v-if=\"!loading\">登 录</span>\n            <span v-else>登 录 中...</span>\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login } from '../api/login'\nimport { setToken } from '../utils/cookie'\nimport Background from '../assets/img/login-background.jpg'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      Background,\n      loginForm: {\n        username: 'admin',\n        password: 'admin123',\n        rememberMe: true\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', message: '用户名不能为空' }],\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }]\n      },\n      loading: false,\n      redirect: undefined\n    }\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        const data = {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        }\n        if (valid) {\n          alert(valid)\n          alert(this.redirect)\n          setToken(\"11111111111\")\n          this.$router.push({ path: this.redirect || '/' })\n          // login(data).then(res => {\n          //   this.loading = false\n          //   setToken(res.token)\n          //   this.$router.push({ path: this.redirect || '/' })\n          // }).catch(() => {\n          //   this.loading = false\n          // })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.login-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  background-size: cover;\n  .form-box {\n    width: 320px;\n    padding: 15px 30px 20px;\n    background: #fff;\n    border-radius: 4px;\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 1, .1);\n    .form-title {\n      margin: 0 auto 35px;\n      text-align: center;\n      color: #707070;\n      font-size: 18px;\n      letter-spacing: 2px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}