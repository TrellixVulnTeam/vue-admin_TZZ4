{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/anchor.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/anchor.js","mtime":1630137847973},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CgpyZXF1aXJlKCJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiKTsKCnZhciBfYXN5bmNUb0dlbmVyYXRvcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvYXN5bmNUb0dlbmVyYXRvciIpKTsKCnZhciBfY2xhc3NDYWxsQ2hlY2syID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrIikpOwoKdmFyIF9jcmVhdGVDbGFzczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MiKSk7Cgp2YXIgX2Nvb2tpZSA9IHJlcXVpcmUoIkAvdXRpbHMvY29va2llIik7Cgp2YXIgX3VzZXJ0eXBlX3BiID0gcmVxdWlyZSgiQC9wcm90by9qcy91c2VydHlwZV9wYiIpOwoKdmFyIF9kZWZhdWx0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBfZGVmYXVsdChkZXBzKSB7CiAgICAoMCwgX2NsYXNzQ2FsbENoZWNrMi5kZWZhdWx0KSh0aGlzLCBfZGVmYXVsdCk7CiAgICB0aGlzLnByb3RvID0gZGVwcy5wcm90bzsKICAgIHRoaXMuY2xpZW50ID0gbmV3IGRlcHMucHJvdG8uQ21zQ2xpZW50KCJodHRwOi8vbG9jYWxob3N0OjgwODAiLCBudWxsLCBudWxsKTsKICB9CiAgLyoqCiAgICog5p+l6K+i5Li75pKt5YiX6KGoCiAgICogQHBhcmFtIHBhZ2UKICAgKiBAcGFyYW0gcGFyYW0KICAgKiBAcGFyYW0gY2FsbGJhY2sKICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0KICAgKi8KCgogICgwLCBfY3JlYXRlQ2xhc3MyLmRlZmF1bHQpKF9kZWZhdWx0LCBbewogICAga2V5OiAiZ2V0QW5jaG9yTGlzdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2dldEFuY2hvckxpc3QgPSAoMCwgX2FzeW5jVG9HZW5lcmF0b3IyLmRlZmF1bHQpKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByZXEgPSBuZXcgdGhpcy5wcm90by5BbmNob3JMaXN0UmVxdWVzdCgpOwogICAgICAgICAgICAgICAgcmVxLnNldFBhZ2VObyhwYXJhbS5wYWdlLmN1cnJlbnRQYWdlKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRQYWdlU2l6ZShwYXJhbS5wYWdlLnBhZ2VTaXplKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRBbmNob3JJZChwYXJhbS5hbmNob3JJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QXJlYUlkKHBhcmFtLmFyZWFJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0R3VpbGRJZChwYXJhbS5ndWlsZElkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRCbG9ja1N0YXR1cyhwYXJhbS5ibG9ja1N0YXR1cyk7CiAgICAgICAgICAgICAgICByZXEuc2V0T25saW5lU3RhdHVzKHBhcmFtLm9ubGluZVN0YXR1cyk7CiAgICAgICAgICAgICAgICByZXEuc2V0Q3JlYXRlZFN0YXJ0KHBhcmFtLmNyZWF0ZWRTdGFydCk7CiAgICAgICAgICAgICAgICByZXEuc2V0Q3JlYXRlZEVuZChwYXJhbS5jcmVhdGVkRW5kKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmdldEFuY2hvckxpc3QocmVxLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3ApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGdldEFuY2hvckxpc3QoX3gsIF94MikgewogICAgICAgIHJldHVybiBfZ2V0QW5jaG9yTGlzdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QW5jaG9yTGlzdDsKICAgIH0oKQogICAgLyoqCiAgICAgKiDlhYXlgLwKICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJhZGp1c3RCYWxhbmNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYWRqdXN0QmFsYW5jZSA9ICgwLCBfYXN5bmNUb0dlbmVyYXRvcjIuZGVmYXVsdCkoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMihwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxID0gbmV3IHRoaXMucHJvdG8uQWRqdXN0QmFsYW5jZVJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRFbnRpdHlUeXBlKHRoaXMucHJvdG8uRW50aXR5VHlwZS5FTlRJVFlVU0VSKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRFbnRpdHlJZChwYXJhbS5pZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QW1vdW50KHBhcmFtLmFtb3VudCk7CiAgICAgICAgICAgICAgICByZXEuc2V0U2VuZE5vdGlmeShwYXJhbS5zZW5kTm90aWZ5KTsKICAgICAgICAgICAgICAgIHJlcS5zZXREZXNjKHBhcmFtLmRlc2MpOwogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuYWRqdXN0QmFsYW5jZShyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcCk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIGFkanVzdEJhbGFuY2UoX3gzLCBfeDQpIHsKICAgICAgICByZXR1cm4gX2FkanVzdEJhbGFuY2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGFkanVzdEJhbGFuY2U7CiAgICB9KCkKICB9XSk7CiAgcmV0dXJuIF9kZWZhdWx0Owp9KCk7CgpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/anchor.js"],"names":["deps","proto","client","CmsClient","param","callback","req","AnchorListRequest","setPageNo","page","currentPage","setPageSize","pageSize","setAnchorId","anchorId","setAreaId","areaId","setGuildId","guildId","setBlockStatus","blockStatus","setOnlineStatus","onlineStatus","setCreatedStart","createdStart","setCreatedEnd","createdEnd","metadata","getAnchorList","err","resp","console","log","AdjustBalanceRequest","setEntityType","EntityType","ENTITYUSER","setEntityId","id","setAmount","amount","setSendNotify","sendNotify","setDesc","desc","adjustBalance"],"mappings":";;;;;;;;;;;;;;;;;AAAA;;AACA;;;AAGI,oBAAaA,IAAb,EAAmB;AAAA;AACf,SAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;AACA,SAAKC,MAAL,GAAc,IAAIF,IAAI,CAACC,KAAL,CAAWE,SAAf,CAAyB,uBAAzB,EAAkD,IAAlD,EAAwD,IAAxD,CAAd;AACH;AAGD;;;;;;;;;;;;kHAOsBC,K,EAAOC,Q;;;;;;AACnBC,gBAAAA,G,GAAM,IAAI,KAAKL,KAAL,CAAWM,iBAAf,E;AACZD,gBAAAA,GAAG,CAACE,SAAJ,CAAcJ,KAAK,CAACK,IAAN,CAAWC,WAAzB;AACAJ,gBAAAA,GAAG,CAACK,WAAJ,CAAgBP,KAAK,CAACK,IAAN,CAAWG,QAA3B;AACAN,gBAAAA,GAAG,CAACO,WAAJ,CAAgBT,KAAK,CAACU,QAAtB;AACAR,gBAAAA,GAAG,CAACS,SAAJ,CAAcX,KAAK,CAACY,MAApB;AACAV,gBAAAA,GAAG,CAACW,UAAJ,CAAeb,KAAK,CAACc,OAArB;AACAZ,gBAAAA,GAAG,CAACa,cAAJ,CAAmBf,KAAK,CAACgB,WAAzB;AACAd,gBAAAA,GAAG,CAACe,eAAJ,CAAoBjB,KAAK,CAACkB,YAA1B;AACAhB,gBAAAA,GAAG,CAACiB,eAAJ,CAAoBnB,KAAK,CAACoB,YAA1B;AACAlB,gBAAAA,GAAG,CAACmB,aAAJ,CAAkBrB,KAAK,CAACsB,UAAxB;AAEMC,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKzB,MAAL,CAAY0B,aAAZ,CAA0BtB,GAA1B,EAA+BqB,QAA/B,EAAyC,UAACE,GAAD,EAAMC,IAAN,EAAe;AACpD,sBAAI,CAACD,GAAL,EAAU;AACNxB,oBAAAA,QAAQ,CAACyB,IAAD,CAAR;AACH,mBAFD,MAEO;AACHC,oBAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;AACJ,iBAND;;;;;;;;;;;;;;;;AAWJ;;;;;;;mHAGsBzB,K,EAAOC,Q;;;;;;AACnBC,gBAAAA,G,GAAM,IAAI,KAAKL,KAAL,CAAWgC,oBAAf,E;AACZ3B,gBAAAA,GAAG,CAAC4B,aAAJ,CAAkB,KAAKjC,KAAL,CAAWkC,UAAX,CAAsBC,UAAxC;AACA9B,gBAAAA,GAAG,CAAC+B,WAAJ,CAAgBjC,KAAK,CAACkC,EAAtB;AACAhC,gBAAAA,GAAG,CAACiC,SAAJ,CAAcnC,KAAK,CAACoC,MAApB;AACAlC,gBAAAA,GAAG,CAACmC,aAAJ,CAAkBrC,KAAK,CAACsC,UAAxB;AACApC,gBAAAA,GAAG,CAACqC,OAAJ,CAAYvC,KAAK,CAACwC,IAAlB;AAEMjB,gBAAAA,Q,GAAW;AAAC,2BAAS;AAAV,iB;AACjB,qBAAKzB,MAAL,CAAY2C,aAAZ,CAA0BvC,GAA1B,EAA+BqB,QAA/B,EAAyC,UAACE,GAAD,EAAMC,IAAN,EAAe;AACpD,sBAAI,CAACD,GAAL,EAAU;AACNxB,oBAAAA,QAAQ,CAACyB,IAAD,CAAR;AACH,mBAFD,MAEO;AACHC,oBAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACH;AACJ,iBAND","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport {EntityType} from \"@/proto/js/usertype_pb\";\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(\"http://localhost:8080\", null, null)\n    }\n\n\n    /**\n     * 查询主播列表\n     * @param page\n     * @param param\n     * @param callback\n     * @returns {Promise<void>}\n     */\n    async getAnchorList ( param, callback) {\n        const req = new this.proto.AnchorListRequest()\n        req.setPageNo(param.page.currentPage)\n        req.setPageSize(param.page.pageSize)\n        req.setAnchorId(param.anchorId)\n        req.setAreaId(param.areaId)\n        req.setGuildId(param.guildId)\n        req.setBlockStatus(param.blockStatus)\n        req.setOnlineStatus(param.onlineStatus)\n        req.setCreatedStart(param.createdStart)\n        req.setCreatedEnd(param.createdEnd)\n\n        const metadata = {'token': getToken()};\n        this.client.getAnchorList(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                console.log(err)\n            }\n        })\n    }\n\n\n\n    /**\n     * 充值\n     */\n    async adjustBalance ( param, callback) {\n        const req = new this.proto.AdjustBalanceRequest()\n        req.setEntityType(this.proto.EntityType.ENTITYUSER)\n        req.setEntityId(param.id)\n        req.setAmount(param.amount)\n        req.setSendNotify(param.sendNotify)\n        req.setDesc(param.desc)\n\n        const metadata = {'token': getToken()};\n        this.client.adjustBalance(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                console.log(err)\n            }\n        })\n    }\n\n}\n"]}]}