{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js??ref--13-0!/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/anchor.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/anchor.js","mtime":1635305858998},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL21lbmd5L2RldmVsb3AvaXdvcmsva2Fmby92dWUtYWRtaW4vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICIvaG9tZS9tZW5neS9kZXZlbG9wL2l3b3JrL2thZm8vdnVlLWFkbWluL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0IHsgc2V0VG9rZW4sIGdldFRva2VuIH0gZnJvbSAnQC91dGlscy9jb29raWUnOwppbXBvcnQgeyBlcnJvciB9IGZyb20gJ0AvdXRpbHMvZXJyb3InOwoKdmFyIF9kZWZhdWx0ID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICBmdW5jdGlvbiBfZGVmYXVsdChkZXBzKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgX2RlZmF1bHQpOwoKICAgIHRoaXMucHJvdG8gPSBkZXBzLnByb3RvOwogICAgdGhpcy5jbGllbnQgPSBuZXcgZGVwcy5wcm90by5DbXNDbGllbnQocHJvY2Vzcy5lbnYuVlVFX0FQUF9HUlBDX1BST1hZX1VSSSwgbnVsbCwgbnVsbCk7CiAgfSAvLyDmn6Xor6LkuLvmkq3liJfooagKCgogIF9jcmVhdGVDbGFzcyhfZGVmYXVsdCwgW3sKICAgIGtleTogImdldEFuY2hvckxpc3QiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9nZXRBbmNob3JMaXN0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHBhcmFtLCBjYWxsYmFjaykgewogICAgICAgIHZhciByZXEsIG1ldGFkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcSA9IG5ldyB0aGlzLnByb3RvLkFuY2hvckxpc3RSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICByZXEuc2V0UGFnZU5vKHBhcmFtLnBhZ2UuY3VycmVudFBhZ2UpOwogICAgICAgICAgICAgICAgcmVxLnNldFBhZ2VTaXplKHBhcmFtLnBhZ2UucGFnZVNpemUpOwogICAgICAgICAgICAgICAgcmVxLnNldEFuY2hvcklkKHBhcmFtLmFuY2hvcklkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRBcmVhSWQocGFyYW0uYXJlYUlkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRBcHBJZChwYXJhbS5hcHBJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0R3VpbGRJZChwYXJhbS5ndWlsZElkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRCbG9ja1N0YXR1cyhwYXJhbS5ibG9ja1N0YXR1cyk7CiAgICAgICAgICAgICAgICByZXEuc2V0T25saW5lU3RhdHVzKHBhcmFtLm9ubGluZVN0YXR1cyk7CiAgICAgICAgICAgICAgICByZXEuc2V0UmV2aWV3U3RhdHVzKHBhcmFtLnJldmlld1N0YXR1cyk7CiAgICAgICAgICAgICAgICByZXEuc2V0Q3JlYXRlZFN0YXJ0KHBhcmFtLmNyZWF0ZWRTdGFydFVpbnQpOwogICAgICAgICAgICAgICAgcmVxLnNldENyZWF0ZWRFbmQocGFyYW0uY3JlYXRlZEVuZFVpbnQpOwogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICd0b2tlbic6IGdldFRva2VuKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5nZXRBbmNob3JMaXN0KHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcihlcnIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBnZXRBbmNob3JMaXN0KF94LCBfeDIpIHsKICAgICAgICByZXR1cm4gX2dldEFuY2hvckxpc3QuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGdldEFuY2hvckxpc3Q7CiAgICB9KCkKICB9LCB7CiAgICBrZXk6ICJnZXRBbmNob3JGdWxsIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfZ2V0QW5jaG9yRnVsbCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHJlcSwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcSA9IG5ldyB0aGlzLnByb3RvLkFuY2hvckZ1bGxSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QW5jaG9ySWQocGFyYW0uaWQpOwogICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB7CiAgICAgICAgICAgICAgICAgICd0b2tlbic6IGdldFRva2VuKCkKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB0aGlzLmNsaWVudC5nZXRBbmNob3JGdWxsKHJlcSwgbWV0YWRhdGEsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHsKICAgICAgICAgICAgICAgICAgaWYgKCFlcnIpIHsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwKTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBlcnJvcihlcnIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gZ2V0QW5jaG9yRnVsbChfeDMsIF94NCkgewogICAgICAgIHJldHVybiBfZ2V0QW5jaG9yRnVsbC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gZ2V0QW5jaG9yRnVsbDsKICAgIH0oKSAvLyDmm7TmlrDkuLvmkq3ln7rnoYDkv6Hmga8KCiAgfSwgewogICAga2V5OiAidXBkYXRlQW5jaG9yQmFzaWMiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91cGRhdGVBbmNob3JCYXNpYyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMocGFyYW0sIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHJlcSwgbWV0YWRhdGE7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJlcSA9IHBhcmFtLnN0cnVjdDsKICAgICAgICAgICAgICAgIHJlcS5zZXRJZChwYXJhbS5pZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0R3VpbGRJZChwYXJhbS5ndWlsZElkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRBcmVhSWQocGFyYW0uYXJlYUlkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRMZXZlbChwYXJhbS5sZXZlbCk7CiAgICAgICAgICAgICAgICByZXEuc2V0Tm90ZShwYXJhbS5ub3RlKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRSZXZpZXdTdGF0dXMocGFyYW0ucmV2aWV3U3RhdHVzKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRCYW5rTmFtZShwYXJhbS5iYW5rTmFtZSk7CiAgICAgICAgICAgICAgICByZXEuc2V0QWNjb3VudE5hbWUocGFyYW0uYWNjb3VudE5hbWUpOwogICAgICAgICAgICAgICAgcmVxLnNldEJhbmtBY2NvdW50KHBhcmFtLmJhbmtBY2NvdW50KTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiBnZXRUb2tlbigpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQudXBkYXRlQW5jaG9yQmFzaWMocmVxLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3ApOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9yKGVycik7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gdXBkYXRlQW5jaG9yQmFzaWMoX3g1LCBfeDYpIHsKICAgICAgICByZXR1cm4gX3VwZGF0ZUFuY2hvckJhc2ljLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiB1cGRhdGVBbmNob3JCYXNpYzsKICAgIH0oKSAvLyDorqTor4HkuLvmkq0KCiAgfSwgewogICAga2V5OiAiYXV0aG9yaXplQW5jaG9yIiwKICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfYXV0aG9yaXplQW5jaG9yID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxID0gcGFyYW0uc3RydWN0OwoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVxID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgICAgICAgIHJlcSA9IG5ldyB0aGlzLnByb3RvLkF1dGhvcml6ZUFuY2hvclJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXEuc2V0QW5jaG9ySWQocGFyYW0uYW5jaG9ySWQpOwogICAgICAgICAgICAgICAgcmVxLnNldEFyZWFJZChwYXJhbS5hcmVhSWQpOwogICAgICAgICAgICAgICAgcmVxLnNldEd1aWxkSWQocGFyYW0uZ3VpbGRJZCk7CiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50LmF1dGhvcml6ZUFuY2hvcihyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBhdXRob3JpemVBbmNob3IoX3g3LCBfeDgpIHsKICAgICAgICByZXR1cm4gX2F1dGhvcml6ZUFuY2hvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYXV0aG9yaXplQW5jaG9yOwogICAgfSgpIC8vIOWwgeemgQoKICB9LCB7CiAgICBrZXk6ICJibG9jayIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2Jsb2NrID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNShwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxID0gbmV3IHRoaXMucHJvdG8uQmxvY2tSZXF1ZXN0KCk7CiAgICAgICAgICAgICAgICByZXEuc2V0RW50aXR5VHlwZShwYXJhbS5lbnRpdHlUeXBlKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRFbnRpdHlJZChwYXJhbS5lbnRpdHlJZCk7CiAgICAgICAgICAgICAgICByZXEuc2V0QmxvY2tTdGF0dXMocGFyYW0uYmxvY2tTdGF0dXMpOwogICAgICAgICAgICAgICAgcmVxLnNldER1cmF0aW9uKHBhcmFtLmR1cmF0aW9uKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRSZWFzb24ocGFyYW0ucmVhc29uKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiBnZXRUb2tlbigpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQuYmxvY2socmVxLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9yKGVycik7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gYmxvY2soX3g5LCBfeDEwKSB7CiAgICAgICAgcmV0dXJuIF9ibG9jay5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9CgogICAgICByZXR1cm4gYmxvY2s7CiAgICB9KCkgLy8g6Kej5bCBCgogIH0sIHsKICAgIGtleTogInVuYmxvY2siLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF91bmJsb2NrID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxID0gbmV3IHRoaXMucHJvdG8uVW5ibG9ja1JlcXVlc3QoKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRFbnRpdHlUeXBlKHBhcmFtLmVudGl0eVR5cGUpOwogICAgICAgICAgICAgICAgcmVxLnNldEVudGl0eUlkKHBhcmFtLmVudGl0eUlkKTsKICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gewogICAgICAgICAgICAgICAgICAndG9rZW4nOiBnZXRUb2tlbigpCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgdGhpcy5jbGllbnQudW5ibG9jayhyZXEsIG1ldGFkYXRhLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7CiAgICAgICAgICAgICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sodHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXJyb3IoZXJyKTsKICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmYWxzZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiB1bmJsb2NrKF94MTEsIF94MTIpIHsKICAgICAgICByZXR1cm4gX3VuYmxvY2suYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIHVuYmxvY2s7CiAgICB9KCkgLy8g6LSm5oi36L+B56e7CgogIH0sIHsKICAgIGtleTogIm1pZ3JhdGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9taWdyYXRlID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhwYXJhbSwgY2FsbGJhY2spIHsKICAgICAgICB2YXIgcmVxLCBtZXRhZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcmVxID0gbmV3IHRoaXMucHJvdG8uTWlncmF0ZVJlcXVlc3QoKTsKICAgICAgICAgICAgICAgIHJlcS5zZXRFbnRpdHlUeXBlKHBhcmFtLmVudGl0eVR5cGUpOwogICAgICAgICAgICAgICAgcmVxLnNldFNyY0lkKHBhcmFtLnNyY0lkKTsKICAgICAgICAgICAgICAgIHJlcS5zZXREc3RJZChwYXJhbS5kc3RJZCk7CiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgJ3Rva2VuJzogZ2V0VG9rZW4oKQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50Lm1pZ3JhdGUocmVxLCBtZXRhZGF0YSwgZnVuY3Rpb24gKGVyciwgcmVzcCkgewogICAgICAgICAgICAgICAgICBpZiAoIWVycikgewogICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRydWUpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVycm9yKGVycik7CiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZmFsc2UpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3LCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbWlncmF0ZShfeDEzLCBfeDE0KSB7CiAgICAgICAgcmV0dXJuIF9taWdyYXRlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBtaWdyYXRlOwogICAgfSgpCiAgfV0pOwoKICByZXR1cm4gX2RlZmF1bHQ7Cn0oKTsKCmV4cG9ydCB7IF9kZWZhdWx0IGFzIGRlZmF1bHQgfTs="},{"version":3,"sources":["/home/mengy/develop/iwork/kafo/vue-admin/src/api/services/anchor.js"],"names":["setToken","getToken","error","deps","proto","client","CmsClient","process","env","VUE_APP_GRPC_PROXY_URI","param","callback","req","AnchorListRequest","setPageNo","page","currentPage","setPageSize","pageSize","setAnchorId","anchorId","setAreaId","areaId","setAppId","appId","setGuildId","guildId","setBlockStatus","blockStatus","setOnlineStatus","onlineStatus","setReviewStatus","reviewStatus","setCreatedStart","createdStartUint","setCreatedEnd","createdEndUint","metadata","getAnchorList","err","resp","AnchorFullRequest","id","getAnchorFull","struct","setId","setLevel","level","setNote","note","setBankName","bankName","setAccountName","accountName","setBankAccount","bankAccount","updateAnchorBasic","AuthorizeAnchorRequest","authorizeAnchor","BlockRequest","setEntityType","entityType","setEntityId","entityId","setDuration","duration","setReason","reason","block","UnblockRequest","unblock","MigrateRequest","setSrcId","srcId","setDstId","dstId","migrate"],"mappings":"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","sourcesContent":["import {setToken, getToken} from '@/utils/cookie'\nimport { error } from '@/utils/error'\n\nexport default class {\n    constructor (deps) {\n        this.proto = deps.proto\n        this.client = new deps.proto.CmsClient(process.env.VUE_APP_GRPC_PROXY_URI, null, null)\n    }\n\n\n    // 查询主播列表\n    async getAnchorList (param, callback) {\n        const req = new this.proto.AnchorListRequest()\n        req.setPageNo(param.page.currentPage)\n        req.setPageSize(param.page.pageSize)\n        req.setAnchorId(param.anchorId)\n        req.setAreaId(param.areaId)\n        req.setAppId(param.appId)\n        req.setGuildId(param.guildId)\n        req.setBlockStatus(param.blockStatus)\n        req.setOnlineStatus(param.onlineStatus)\n        req.setReviewStatus(param.reviewStatus)\n        req.setCreatedStart(param.createdStartUint)\n        req.setCreatedEnd(param.createdEndUint)\n\n        const metadata = {'token': getToken()};\n        this.client.getAnchorList(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n\n    async getAnchorFull ( param, callback) {\n        const req = new this.proto.AnchorFullRequest()\n        req.setAnchorId(param.id)\n\n        const metadata = {'token': getToken()};\n        this.client.getAnchorFull(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n\n    // 更新主播基础信息\n    async updateAnchorBasic (param, callback) {\n        const req = param.struct\n        req.setId(param.id)\n        req.setGuildId(param.guildId)\n        req.setAreaId(param.areaId)\n        req.setLevel(param.level)\n        req.setNote(param.note)\n        req.setReviewStatus(param.reviewStatus)\n        req.setBankName(param.bankName)\n        req.setAccountName(param.accountName)\n        req.setBankAccount(param.bankAccount)\n\n        const metadata = {'token': getToken()};\n        this.client.updateAnchorBasic(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(resp)\n            } else {\n                error(err)\n            }\n        })\n    }\n\n\n    // 认证主播\n    async authorizeAnchor (param, callback) {\n        let req = param.struct\n        if(typeof(req) == \"undefined\"){\n            req = new this.proto.AuthorizeAnchorRequest()\n        }\n        req.setAnchorId(param.anchorId)\n        req.setAreaId(param.areaId)\n        req.setGuildId(param.guildId)\n\n        const metadata = {'token': getToken()};\n        this.client.authorizeAnchor(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(true)\n            } else {\n                error(err)\n                callback(false)\n            }\n        })\n    }\n\n\n    // 封禁\n    async block (param, callback) {\n        let req = new this.proto.BlockRequest()\n        req.setEntityType(param.entityType)\n        req.setEntityId(param.entityId)\n        req.setBlockStatus(param.blockStatus)\n        req.setDuration(param.duration)\n        req.setReason(param.reason)\n\n        const metadata = {'token': getToken()};\n        this.client.block(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(true)\n            } else {\n                error(err)\n                callback(false)\n            }\n        })\n    }\n\n\n    // 解封\n    async unblock (param, callback) {\n        let req = new this.proto.UnblockRequest()\n        req.setEntityType(param.entityType)\n        req.setEntityId(param.entityId)\n\n        const metadata = {'token': getToken()};\n        this.client.unblock(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(true)\n            } else {\n                error(err)\n                callback(false)\n            }\n        })\n    }\n\n\n    // 账户迁移\n    async migrate (param, callback) {\n        let req = new this.proto.MigrateRequest()\n        req.setEntityType(param.entityType)\n        req.setSrcId(param.srcId)\n        req.setDstId(param.dstId)\n\n        const metadata = {'token': getToken()};\n        this.client.migrate(req, metadata, (err, resp) => {\n            if (!err) {\n                callback(true)\n            } else {\n                error(err)\n                callback(false)\n            }\n        })\n    }\n\n\n}\n"]}]}