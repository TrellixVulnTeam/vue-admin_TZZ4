{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js!/home/mengy/develop/iwork/kafo/vue-admin/src/utils/dist.js","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/utils/dist.js","mtime":1634124646365},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1634111096329},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":1634111095606}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmluaXREYXRhID0gaW5pdERhdGE7CmV4cG9ydHMuZ2V0Q3VycmVudFVzZXJBcmVhSWQgPSBnZXRDdXJyZW50VXNlckFyZWFJZDsKZXhwb3J0cy5nZXRDdXJyZW50VXNlck1vZHVsZXMgPSBnZXRDdXJyZW50VXNlck1vZHVsZXM7CmV4cG9ydHMuaW5pdEFyZWFzID0gaW5pdEFyZWFzOwpleHBvcnRzLmdldEFyZWFMaXN0ID0gZ2V0QXJlYUxpc3Q7CmV4cG9ydHMuZ2V0QXBwTGlzdEJ5QXJlYUlkID0gZ2V0QXBwTGlzdEJ5QXJlYUlkOwpleHBvcnRzLmluaXRHdWlsZHMgPSBpbml0R3VpbGRzOwpleHBvcnRzLmdldEd1aWxkTGlzdCA9IGdldEd1aWxkTGlzdDsKZXhwb3J0cy5nZXRHdWlsZExpc3RCeUFyZWFJZCA9IGdldEd1aWxkTGlzdEJ5QXJlYUlkOwpleHBvcnRzLmluaXRBcHBzID0gaW5pdEFwcHM7CmV4cG9ydHMuZ2V0QXBwTGlzdCA9IGdldEFwcExpc3Q7CmV4cG9ydHMuZ2V0UGF5Q2hhbm5lbExpc3QgPSBnZXRQYXlDaGFubmVsTGlzdDsKZXhwb3J0cy5nZXRDb21tb2RpdHlMaXN0ID0gZ2V0Q29tbW9kaXR5TGlzdDsKZXhwb3J0cy5nZXRBcnJOYW1lID0gZ2V0QXJyTmFtZTsKZXhwb3J0cy5nZXRBcHBOYW1lID0gZ2V0QXBwTmFtZTsKZXhwb3J0cy5zZXRPayA9IHNldE9rOwpleHBvcnRzLmdldEJvb2wgPSBnZXRCb29sOwpleHBvcnRzLmdldEFuY2hvckxldmVsID0gZ2V0QW5jaG9yTGV2ZWw7CmV4cG9ydHMuZ2V0UmV2aWV3U3RhdHVzID0gZ2V0UmV2aWV3U3RhdHVzOwpleHBvcnRzLmdldFJlcG9ydGVkVHlwZXMgPSBnZXRSZXBvcnRlZFR5cGVzOwpleHBvcnRzLmdldFJlcG9ydGVkVGltZSA9IGdldFJlcG9ydGVkVGltZTsKZXhwb3J0cy5nZXRPbmxpbmVTdGF0dXMgPSBnZXRPbmxpbmVTdGF0dXM7CmV4cG9ydHMuZ2V0VmlvbGF0aW9uU2NlbmUgPSBnZXRWaW9sYXRpb25TY2VuZTsKZXhwb3J0cy5nZXRCbG9ja1N0YXR1cyA9IGdldEJsb2NrU3RhdHVzOwpleHBvcnRzLmdldEJsb2NrVGltZSA9IGdldEJsb2NrVGltZTsKZXhwb3J0cy5nZXRQYXlTdGF0dXMgPSBnZXRQYXlTdGF0dXM7CmV4cG9ydHMuZ2V0T2NjdXBhdGlvblR5cGUgPSBnZXRPY2N1cGF0aW9uVHlwZTsKZXhwb3J0cy5nZXRNZXNzYWdlVHlwZSA9IGdldE1lc3NhZ2VUeXBlOwpleHBvcnRzLmdldEFjdGlvblR5cGUgPSBnZXRBY3Rpb25UeXBlOwpleHBvcnRzLmdldENhbGxUeXBlID0gZ2V0Q2FsbFR5cGU7CmV4cG9ydHMuZ2V0SGFuZ1R5cGUgPSBnZXRIYW5nVHlwZTsKZXhwb3J0cy5nZXRDYWxsU3RhdHVzID0gZ2V0Q2FsbFN0YXR1czsKZXhwb3J0cy5nZXRFbnRpdHlUeXBlID0gZ2V0RW50aXR5VHlwZTsKZXhwb3J0cy5nZXRUcmFkZXJUeXBlID0gZ2V0VHJhZGVyVHlwZTsKZXhwb3J0cy5nZXRTb3VyY2VUeXBlID0gZ2V0U291cmNlVHlwZTsKZXhwb3J0cy5nZXRTZXR0bGVTdGF0dXMgPSBnZXRTZXR0bGVTdGF0dXM7CmV4cG9ydHMuZ2V0UGF5VHlwZSA9IGdldFBheVR5cGU7CmV4cG9ydHMuZ2V0T3NUeXBlID0gZ2V0T3NUeXBlOwpleHBvcnRzLmdldEZpbGVUeXBlID0gZ2V0RmlsZVR5cGU7CmV4cG9ydHMuZ2V0R2VuZGVyVHlwZSA9IGdldEdlbmRlclR5cGU7CmV4cG9ydHMuZ2V0Q29tbW9kaXR5ID0gZXhwb3J0cy5nZXRQYXlDaGFubmVsID0gZXhwb3J0cy5pbml0Q3VycmVudFVzZXJJbmZvID0gdm9pZCAwOwoKdmFyIF91c2VydHlwZV9wYiA9IHJlcXVpcmUoIkAvcHJvdG8vanMvdXNlcnR5cGVfcGIiKTsKCnZhciBfY21zX3BiID0gcmVxdWlyZSgiQC9wcm90by9qcy9jbXNfcGIiKTsKCnZhciBfY29va2llID0gcmVxdWlyZSgiQC91dGlscy9jb29raWUiKTsKCnZhciBfc2VydmVyID0gcmVxdWlyZSgiQC9ncnBjL3NlcnZlciIpOwoKdmFyIF9hcGkgPSByZXF1aXJlKCJAL2FwaS9hcGkiKTsKCmFzeW5jIGZ1bmN0aW9uIGluaXREYXRhKCkgewogIC8vIGxldCBhcmVhQXJyID0gYXdhaXQgZ2V0QXJlYXMoKQogIC8vIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImFyZWFBcnIiLCBKU09OLnN0cmluZ2lmeShhcmVhQXJyKSk7CiAgZ2V0QXJlYUxpc3QoKTsKICBnZXRHdWlsZExpc3QoKTsKICBnZXRBcHBMaXN0KCk7IC8vIGxldCBndWlsZEFyciA9IGF3YWl0IGdldEd1aWxkcygpCiAgLy8gc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiZ3VpbGRBcnIiLCBKU09OLnN0cmluZ2lmeShndWlsZEFycikpOwoKICBsZXQgY3VycmVudFVzZXIgPSBhd2FpdCBpbml0Q3VycmVudFVzZXJJbmZvKCk7CiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY3VycmVudFVzZXIiLCBKU09OLnN0cmluZ2lmeShjdXJyZW50VXNlcikpOyAvLyBsZXQgYXBwcyA9IGF3YWl0IGdldEFwcHMoKQogIC8vIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImFwcEFyciIsIEpTT04uc3RyaW5naWZ5KGFwcHMpKTsKCiAgbGV0IHBheUNoYW5uZWxBcnIgPSBhd2FpdCBnZXRQYXlDaGFubmVsKCk7CiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgicGF5Q2hhbm5lbEFyciIsIEpTT04uc3RyaW5naWZ5KHBheUNoYW5uZWxBcnIpKTsKICBsZXQgY29tbW9kaXR5QXJyID0gYXdhaXQgZ2V0Q29tbW9kaXR5KCk7CiAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY29tbW9kaXR5QXJyIiwgSlNPTi5zdHJpbmdpZnkoY29tbW9kaXR5QXJyKSk7Cn0gLy8gZXhwb3J0IGZ1bmN0aW9uIGluaXRBc3luY0RhdGEoKXsKLy8gICAgIGdldEFwcHMoZnVuY3Rpb24gKGFycil7Ci8vICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXBwQXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSk7Ci8vICAgICB9KQovLyAgICAgZ2V0UGF5Q2hhbm5lbChmdW5jdGlvbihhcnIpewovLyAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oInBheUNoYW5uZWxBcnIiLCBKU09OLnN0cmluZ2lmeShhcnIpKTsKLy8gICAgIH0pCi8vICAgICBnZXRDb21tb2RpdHkoZnVuY3Rpb24oYXJyKXsKLy8gICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiY29tbW9kaXR5QXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSkKLy8gICAgIH0pCi8vCi8vIH0KCgpjb25zdCBpbml0Q3VycmVudFVzZXJJbmZvID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewogIGNvbnN0IHJlcSA9IG5ldyBfdXNlcnR5cGVfcGIuRW1wdHkoKTsKICBjb25zdCBtZXRhZGF0YSA9IHsKICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgfTsKCiAgX3NlcnZlci5jbXNTZXJ2aWNlLmdldEFkbWluSW5mbyhyZXEsIG1ldGFkYXRhLCAoZXJyLCByZXNwKSA9PiB7CiAgICBpZiAoIWVycikgewogICAgICBjb25zdCBqc29uID0gewogICAgICAgIG5hbWU6IHJlc3AuZ2V0TmFtZSgpLAogICAgICAgIGVtYWlsOiByZXNwLmdldEVtYWlsKCksCiAgICAgICAgYXJlYUlkOiByZXNwLmdldEFyZWFJZCgpLAogICAgICAgIGFwcElkczogcmVzcC5nZXRBcHBJZHNMaXN0KCksCiAgICAgICAgbW9kdWxlczogcmVzcC5nZXRNb2R1bGVzKCkKICAgICAgfTsKICAgICAgcmVzb2x2ZShqc29uKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9CiAgfSk7Cn0pOwoKZXhwb3J0cy5pbml0Q3VycmVudFVzZXJJbmZvID0gaW5pdEN1cnJlbnRVc2VySW5mbzsKCmZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyQXJlYUlkKCkgewogIHRyeSB7CiAgICBsZXQganNvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKS5hcmVhSWQ7CiAgfSBjYXRjaCAoZXJyKSB7CiAgICBjb25zb2xlLmxvZyhlcnIpOwogIH0KCiAgcmV0dXJuIHVuZGVmaW5lZDsKfQoKZnVuY3Rpb24gZ2V0Q3VycmVudFVzZXJNb2R1bGVzKCkgewogIHRyeSB7CiAgICBsZXQganNvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImN1cnJlbnRVc2VyIik7CiAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKS5tb2R1bGVzOwogIH0gY2F0Y2ggKGVycikgewogICAgY29uc29sZS5sb2coZXJyKTsKICB9CgogIHJldHVybiB1bmRlZmluZWQ7Cn0gLy8gZXhwb3J0IGNvbnN0IGdldEFyZWFzID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewovLyAgICAgY29uc3QgZW1wdHkgPSBuZXcgRW1wdHkoKTsKLy8gICAgIGNvbnN0IG1ldGFkYXRhID0geyd0b2tlbic6IGdldFRva2VuKCl9OwovLyAgICAgY21zU2VydmljZS5nZXRBcmVhTGlzdChlbXB0eSwgbWV0YWRhdGEsIChlcnIsIHJlc3ApID0+IHsKLy8gICAgICAgICBpZiAoIWVycikgewovLyAgICAgICAgICAgICBjb25zdCBhcnIgPSBbXQovLyAgICAgICAgICAgICBjb25zdCBsaXN0ID0gcmVzcC5nZXRBcmVhc0xpc3QoKQovLyAgICAgICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KT0+ewovLyAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IHsKLy8gICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6IGl0ZW0uZ2V0SWQoKSwKLy8gICAgICAgICAgICAgICAgICAgICBsYWJlbCA6IGl0ZW0uZ2V0VGl0bGUoKSwKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGFyci5wdXNoKGpzb24pCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIHJlc29sdmUoYXJyKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKLy8gICAgICAgICB9Ci8vICAgICB9KQovLyB9KQoKCmZ1bmN0aW9uIGluaXRBcmVhcyhjYWxsYmFjaykgewogIGNvbnN0IGVtcHR5ID0gbmV3IF91c2VydHlwZV9wYi5FbXB0eSgpOwogIGNvbnN0IG1ldGFkYXRhID0gewogICAgJ3Rva2VuJzogKDAsIF9jb29raWUuZ2V0VG9rZW4pKCkKICB9OwoKICBfc2VydmVyLmNtc1NlcnZpY2UuZ2V0QXJlYUxpc3QoZW1wdHksIG1ldGFkYXRhLCAoZXJyLCByZXNwKSA9PiB7CiAgICBpZiAoIWVycikgewogICAgICBjb25zdCBhcnIgPSBbXTsKICAgICAgY29uc3QgbGlzdCA9IHJlc3AuZ2V0QXJlYXNMaXN0KCk7CiAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCBqc29uID0gewogICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgIGxhYmVsOiBpdGVtLmdldFRpdGxlKCkKICAgICAgICB9OwogICAgICAgIGFyci5wdXNoKGpzb24pOwogICAgICB9KTsKICAgICAgY2FsbGJhY2soYXJyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldEFyZWFMaXN0KGlzU2hvd0FsbCkgewogIGxldCBqc29uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXJlYUFyciIpOwoKICBpZiAoKDAsIF9hcGkuaXNFbXB0eSkoanNvbikpIHsKICAgIGluaXRBcmVhcyhmdW5jdGlvbiAoYXJlYUFycikgewogICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCJhcmVhQXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJlYUFycikpOwogICAgICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBhcmVhQXJyKTsKICAgIH0pOwogIH0gZWxzZSB7CiAgICBsZXQgYXJyID0gSlNPTi5wYXJzZShqc29uKTsKICAgIHJldHVybiBzZXRPayhpc1Nob3dBbGwsIGFycik7CiAgfQp9CgpmdW5jdGlvbiBnZXRBcHBMaXN0QnlBcmVhSWQodmFsLCBpc0ZpbHRlcikgewogIGxldCBhcHBzID0gZ2V0QXBwTGlzdChpc0ZpbHRlcik7CiAgbGV0IG5ld0FwcHMgPSBbXTsKCiAgaWYgKHZhbCA9PT0gMCkgewogICAgbmV3QXBwcyA9IGFwcHM7CiAgfSBlbHNlIHsKICAgIGFwcHMuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGl0ZW0uYXJlYUlkcy5pbmRleE9mKHZhbCkgPj0gMCkgewogICAgICAgIG5ld0FwcHMucHVzaChpdGVtKTsKICAgICAgfQogICAgfSk7CiAgfQoKICBuZXdBcHBzLnVuc2hpZnQoewogICAgaXNBbmNob3I6IGZhbHNlLAogICAgbGFiZWw6ICLlhajpg6giLAogICAgb3M6IDAsCiAgICB2YWx1ZTogdW5kZWZpbmVkCiAgfSk7CiAgcmV0dXJuIG5ld0FwcHM7Cn0gLy8g5bel5Lya5YiX6KGoCgovKmV4cG9ydCBjb25zdCBnZXRHdWlsZHMgPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgICBjb25zdCByZXEgPSBuZXcgRW1wdHkoKTsKICAgIGNvbnN0IG1ldGFkYXRhID0geyd0b2tlbic6IGdldFRva2VuKCl9OwogICAgY21zU2VydmljZS5nZXRHdWlsZExpc3QocmVxLCBtZXRhZGF0YSwgKGVyciwgcmVzcCkgPT4gewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICAgIGNvbnN0IGFyciA9IFtdCiAgICAgICAgICAgIGNvbnN0IGxpc3QgPSByZXNwLmdldEd1aWxkc0xpc3QoKQogICAgICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KT0+ewogICAgICAgICAgICAgICAgY29uc3QganNvbiA9IHsKICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgICAgICAgICAgICBsYWJlbCA6IGl0ZW0uZ2V0TmFtZSgpLAogICAgICAgICAgICAgICAgICAgIGFyZWFJZCA6IGl0ZW0uZ2V0QXJlYUlkKCkKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGFyci5wdXNoKGpzb24pCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJlc29sdmUoYXJyKQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKICAgICAgICB9CiAgICB9KQp9KSovCgoKZnVuY3Rpb24gaW5pdEd1aWxkcyhjYWxsYmFjaykgewogIGNvbnN0IHJlcSA9IG5ldyBfdXNlcnR5cGVfcGIuRW1wdHkoKTsKICBjb25zdCBtZXRhZGF0YSA9IHsKICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgfTsKCiAgX3NlcnZlci5jbXNTZXJ2aWNlLmdldEd1aWxkTGlzdChyZXEsIG1ldGFkYXRhLCAoZXJyLCByZXNwKSA9PiB7CiAgICBpZiAoIWVycikgewogICAgICBjb25zdCBhcnIgPSBbXTsKICAgICAgY29uc3QgbGlzdCA9IHJlc3AuZ2V0R3VpbGRzTGlzdCgpOwogICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KSA9PiB7CiAgICAgICAgY29uc3QganNvbiA9IHsKICAgICAgICAgIHZhbHVlOiBpdGVtLmdldElkKCksCiAgICAgICAgICBsYWJlbDogaXRlbS5nZXROYW1lKCksCiAgICAgICAgICBhcmVhSWQ6IGl0ZW0uZ2V0QXJlYUlkKCkKICAgICAgICB9OwogICAgICAgIGFyci5wdXNoKGpzb24pOwogICAgICB9KTsKICAgICAgY2FsbGJhY2soYXJyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldEd1aWxkTGlzdChpc1Nob3dBbGwpIHsKICBsZXQganNvbiA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImd1aWxkQXJyIik7CgogIGlmICgoMCwgX2FwaS5pc0VtcHR5KShqc29uKSkgewogICAgaW5pdEd1aWxkcyhmdW5jdGlvbiAoYXJyKSB7CiAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oImd1aWxkQXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSk7CiAgICAgIHJldHVybiBzZXRPayhpc1Nob3dBbGwsIGFycik7CiAgICB9KTsKICB9IGVsc2UgewogICAgbGV0IGFyciA9IEpTT04ucGFyc2UoanNvbik7CiAgICByZXR1cm4gc2V0T2soaXNTaG93QWxsLCBhcnIpOwogIH0KfQoKZnVuY3Rpb24gZ2V0R3VpbGRMaXN0QnlBcmVhSWQodmFsLCBpc1Nob3dBbGwpIHsKICBsZXQgZ3VpbGRMaXN0ID0gZ2V0R3VpbGRMaXN0KGZhbHNlKTsKICBsZXQgbmV3TGlzdCA9IFtdOwoKICBpZiAodmFsID09PSAwKSB7CiAgICBuZXdMaXN0ID0gZ3VpbGRMaXN0OwogIH0gZWxzZSB7CiAgICBndWlsZExpc3QuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGl0ZW0uYXJlYUlkID09PSB2YWwpIHsKICAgICAgICBuZXdMaXN0LnB1c2goaXRlbSk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgcmV0dXJuIHNldE9rKGlzU2hvd0FsbCwgbmV3TGlzdCk7Cn0gLy8g5bqU55So5YiX6KGoCi8vIGV4cG9ydCBjb25zdCBnZXRBcHBzID0gKCkgPT4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gewovLyAgICAgY29uc3QgcmVxID0gbmV3IEFwcExpc3RSZXF1ZXN0KCk7Ci8vICAgICBjb25zdCBtZXRhZGF0YSA9IHsndG9rZW4nOiBnZXRUb2tlbigpfTsKLy8gICAgIGNtc1NlcnZpY2UuZ2V0QXBwTGlzdChyZXEsIG1ldGFkYXRhLCAoZXJyLCByZXNwKSA9PiB7Ci8vICAgICAgICAgaWYgKCFlcnIpIHsKLy8gICAgICAgICAgICAgY29uc3QgYXJyID0gW10KLy8gICAgICAgICAgICAgY29uc3QgbGlzdCA9IHJlc3AuZ2V0QXBwc0xpc3QoKQovLyAgICAgICAgICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGluZGV4KT0+ewovLyAgICAgICAgICAgICAgICAgY29uc3QganNvbiA9IHsKLy8gICAgICAgICAgICAgICAgICAgICB2YWx1ZSA6IGl0ZW0uZ2V0SWQoKSwKLy8gICAgICAgICAgICAgICAgICAgICBsYWJlbCA6IGl0ZW0uZ2V0VGl0bGUoKSwKLy8gICAgICAgICAgICAgICAgICAgICBvcyA6IGl0ZW0uZ2V0T3NUeXBlKCksCi8vICAgICAgICAgICAgICAgICAgICAgaXNBbmNob3I6IGl0ZW0uZ2V0SXNBbmNob3IoKSwKLy8gICAgICAgICAgICAgICAgICAgICBhcmVhSWRzOiBpdGVtLmdldEFyZWFJZHNMaXN0KCkKLy8gICAgICAgICAgICAgICAgIH0KLy8gICAgICAgICAgICAgICAgIGFyci5wdXNoKGpzb24pCi8vICAgICAgICAgICAgIH0pCi8vICAgICAgICAgICAgIHJlc29sdmUoYXJyKQovLyAgICAgICAgIH0gZWxzZSB7Ci8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycikKLy8gICAgICAgICB9Ci8vICAgICB9KQovLyB9KQoKCmZ1bmN0aW9uIGluaXRBcHBzKGNhbGxiYWNrKSB7CiAgY29uc3QgcmVxID0gbmV3IF9jbXNfcGIuQXBwTGlzdFJlcXVlc3QoKTsKICBjb25zdCBtZXRhZGF0YSA9IHsKICAgICd0b2tlbic6ICgwLCBfY29va2llLmdldFRva2VuKSgpCiAgfTsKCiAgX3NlcnZlci5jbXNTZXJ2aWNlLmdldEFwcExpc3QocmVxLCBtZXRhZGF0YSwgKGVyciwgcmVzcCkgPT4gewogICAgaWYgKCFlcnIpIHsKICAgICAgY29uc3QgYXJyID0gW107CiAgICAgIGNvbnN0IGxpc3QgPSByZXNwLmdldEFwcHNMaXN0KCk7CiAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCBqc29uID0gewogICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgIGxhYmVsOiBpdGVtLmdldFRpdGxlKCksCiAgICAgICAgICBvczogaXRlbS5nZXRPc1R5cGUoKSwKICAgICAgICAgIGlzQW5jaG9yOiBpdGVtLmdldElzQW5jaG9yKCksCiAgICAgICAgICBhcmVhSWRzOiBpdGVtLmdldEFyZWFJZHNMaXN0KCkKICAgICAgICB9OwogICAgICAgIGFyci5wdXNoKGpzb24pOwogICAgICB9KTsKICAgICAgY2FsbGJhY2soYXJyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9CiAgfSk7Cn0KCmZ1bmN0aW9uIGdldEFwcExpc3QoaXNOb0FuY2hvcikgewogIGxldCBqc29uID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYXBwQXJyIik7CiAgbGV0IGFyciA9IFtdOwoKICBpZiAoKDAsIF9hcGkuaXNFbXB0eSkoanNvbikpIHsKICAgIGluaXRBcHBzKGZ1bmN0aW9uIChhcnIpIHsKICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYXBwQXJyIiwgSlNPTi5zdHJpbmdpZnkoYXJyKSk7CiAgICB9KTsKICB9IGVsc2UgewogICAgYXJyID0gSlNPTi5wYXJzZShqc29uKTsKICB9CgogIGlmIChpc05vQW5jaG9yKSB7CiAgICBsZXQgcmVzdWx0ID0gW107CiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKCFpdGVtLmlzQW5jaG9yKSB7CiAgICAgICAgcmVzdWx0LnB1c2goaXRlbSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHNldE9rKGZhbHNlLCByZXN1bHQpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gc2V0T2soZmFsc2UsIGFycik7CiAgfQp9IC8vIOaUr+S7mOa4oOmBkwoKCmNvbnN0IGdldFBheUNoYW5uZWwgPSAoKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7CiAgY29uc3QgcmVxID0gbmV3IF9jbXNfcGIuUGF5Q2hhbm5lbExpc3RSZXF1ZXN0KCk7CiAgY29uc3QgbWV0YWRhdGEgPSB7CiAgICAndG9rZW4nOiAoMCwgX2Nvb2tpZS5nZXRUb2tlbikoKQogIH07CgogIF9zZXJ2ZXIuY21zU2VydmljZS5nZXRQYXlDaGFubmVsTGlzdChyZXEsIG1ldGFkYXRhLCAoZXJyLCByZXNwKSA9PiB7CiAgICBpZiAoIWVycikgewogICAgICBjb25zdCBhcnIgPSBbXTsKICAgICAgY29uc3QgbGlzdCA9IHJlc3AuZ2V0Q2hhbm5lbHNMaXN0KCk7CiAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCBqc29uID0gewogICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgIGxhYmVsOiBpdGVtLmdldE5hbWUoKSwKICAgICAgICAgIGljb246IGl0ZW0uZ2V0SWNvbigpLAogICAgICAgICAgYXJlYUlkOiBpdGVtLmdldEFyZWFJZCgpCiAgICAgICAgfTsKICAgICAgICBhcnIucHVzaChqc29uKTsKICAgICAgfSk7CiAgICAgIHJlc29sdmUoYXJyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICB9CiAgfSk7Cn0pOwoKZXhwb3J0cy5nZXRQYXlDaGFubmVsID0gZ2V0UGF5Q2hhbm5lbDsKCmZ1bmN0aW9uIGdldFBheUNoYW5uZWxMaXN0KGFyZWFJZCkgewogIGxldCBzdHIgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJwYXlDaGFubmVsQXJyIik7CiAgbGV0IGFyciA9IEpTT04ucGFyc2Uoc3RyKTsKICBsZXQgcmVzdWx0ID0gW107CiAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICBpZiAoaXRlbS5hcmVhSWQgPT09IGFyZWFJZCkgewogICAgICByZXN1bHQucHVzaChpdGVtKTsKICAgIH0KICB9KTsKICByZXR1cm4gcmVzdWx0Owp9IC8vIOWVhuWTgeWIl+ihqAoKCmNvbnN0IGdldENvbW1vZGl0eSA9ICgpID0+IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHsKICBjb25zdCByZXEgPSBuZXcgX2Ntc19wYi5Db21tb2RpdHlMaXN0UmVxdWVzdCgpOwogIGNvbnN0IG1ldGFkYXRhID0gewogICAgJ3Rva2VuJzogKDAsIF9jb29raWUuZ2V0VG9rZW4pKCkKICB9OwoKICBfc2VydmVyLmNtc1NlcnZpY2UuZ2V0Q29tbW9kaXR5TGlzdChyZXEsIG1ldGFkYXRhLCAoZXJyLCByZXNwKSA9PiB7CiAgICBpZiAoIWVycikgewogICAgICBjb25zdCBhcnIgPSBbXTsKICAgICAgY29uc3QgbGlzdCA9IHJlc3AuZ2V0Q29tbW9kaXRpZXNMaXN0KCk7CiAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICBjb25zdCBqc29uID0gewogICAgICAgICAgdmFsdWU6IGl0ZW0uZ2V0SWQoKSwKICAgICAgICAgIGxhYmVsOiBpdGVtLmdldFRpdGxlKCksCiAgICAgICAgICBuYW1lOiBpdGVtLmdldE5hbWUoKSwKICAgICAgICAgIGFyZWFJZDogaXRlbS5nZXRBcmVhSWQoKSwKICAgICAgICAgIGFwcElkOiBpdGVtLmdldEFwcElkKCkKICAgICAgICB9OwogICAgICAgIGFyci5wdXNoKGpzb24pOwogICAgICB9KTsKICAgICAgcmVzb2x2ZShhcnIpOwogICAgfSBlbHNlIHsKICAgICAgY29uc29sZS5sb2coZXJyKTsKICAgIH0KICB9KTsKfSk7CgpleHBvcnRzLmdldENvbW1vZGl0eSA9IGdldENvbW1vZGl0eTsKCmZ1bmN0aW9uIGdldENvbW1vZGl0eUxpc3QoKSB7CiAgbGV0IHN0ciA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImNvbW1vZGl0eUFyciIpOwogIGxldCBhcnIgPSBKU09OLnBhcnNlKHN0cik7IC8vIGxldCByZXN1bHQgPSBbXQogIC8vIGFwcEFyci5mb3JFYWNoKGl0ZW0gPT4gewogIC8vICAgICBpZihpdGVtLmFyZWFJZCA9PT0gYXJlYUlkICYmIGl0ZW0uYXBwSWQgPT09IGFwcElkKXsKICAvLyAgICAgICAgIHJlc3VsdC5wdXNoKGl0ZW0pCiAgLy8gICAgIH0KICAvLyB9KQoKICByZXR1cm4gYXJyOwp9CgpmdW5jdGlvbiBnZXRBcnJOYW1lKGFyciwgaWQpIHsKICBsZXQgbGFiZWwgPSAiIjsKICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgIGlmICh0eXBlb2YgaXRlbS52YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgaWYgKGlkLnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfQogIH0pOwogIHJldHVybiBsYWJlbDsKfQoKZnVuY3Rpb24gZ2V0QXBwTmFtZShhcnIsIGlkKSB7CiAgbGV0IGxhYmVsID0gIiI7CiAgbGV0IG9zID0gMDsKICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgIGlmICh0eXBlb2YgaXRlbS52YWx1ZSAhPT0gInVuZGVmaW5lZCIpIHsKICAgICAgaWYgKGlkLnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgICBvcyA9IGl0ZW0ub3M7CiAgICAgIH0KICAgIH0KICB9KTsKICByZXR1cm4gewogICAgbGFiZWw6IGxhYmVsLAogICAgb3M6IG9zCiAgfTsKfQoKZnVuY3Rpb24gc2V0T2soaXNTaG93QWxsLCBhcnIpIHsKICBpZiAoaXNTaG93QWxsKSB7CiAgICBhcnIudW5zaGlmdCh7CiAgICAgIGxhYmVsOiAi5YWo6YOoIiwKICAgICAgdmFsdWU6IDAKICAgIH0pOwogIH0KCiAgcmV0dXJuIGFycjsKfSAvLyDmmK/lkKYKCgpmdW5jdGlvbiBnZXRCb29sKCkgewogIHJldHVybiBbewogICAgdmFsdWU6IHRydWUsCiAgICBsYWJlbDogJ+aYrycKICB9LCB7CiAgICB2YWx1ZTogZmFsc2UsCiAgICBsYWJlbDogJ+WQpicKICB9XTsKfSAvLyDkuLvmkq3nrYnnuqcKCgpmdW5jdGlvbiBnZXRBbmNob3JMZXZlbChrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+W3ruWKsicKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Lit562JJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfoia/lpb0nCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+S8mOengCcKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwoKICAgIGlmIChrZXkgPT09IDApIHsKICAgICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOWuoeaguOeKtuaAgQoKCmZ1bmN0aW9uIGdldFJldmlld1N0YXR1cyhrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+acquWuoeaguCcKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5bey5o+Q5Lqk5a6h5qC4JwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICflrqHmoLjkuK0nCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+S4jemAmui/hycKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn5a6h5qC46YCa6L+HJwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICflgZznlKgnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vCgoKZnVuY3Rpb24gZ2V0UmVwb3J0ZWRUeXBlcygpIHsKICByZXR1cm4gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+eUqOaItycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Li75pKtJwogIH1dOwp9CgpmdW5jdGlvbiBnZXRSZXBvcnRlZFRpbWUoKSB7CiAgcmV0dXJuIFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfku4rlpKknCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+acgOi/kTPlpKknCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+acgOi/kTflpKknCiAgfV07Cn0gLy8g5Zyo57q/54q25oCBCgoKZnVuY3Rpb24gZ2V0T25saW5lU3RhdHVzKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn56a757q/JwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICflnKjnur8nCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+W/mee6vycKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5Yu/5omwJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgbGV0IGxhYmVsID0gIiI7CgogICAgaWYgKGtleSA9PT0gMCkgewogICAgICByZXR1cm4gbGFiZWw7CiAgICB9CgogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g6L+d6KeE5Zy65pmvCgoKZnVuY3Rpb24gZ2V0VmlvbGF0aW9uU2NlbmUoKSB7CiAgcmV0dXJuIFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfop4bpopHpgJror50nCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+iBiuWkqScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5Li75pKt6LWE5paZJwogIH1dOwp9IC8vIOWwgeemgeexu+WeiwoKCmZ1bmN0aW9uIGdldEJsb2NrU3RhdHVzKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+S4jeWwgeemgScKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Y+R6YCB6K2m5ZGKJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICflsIHnpoHotKblj7cnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WwgeemgeaJgOaciScKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5bCB56aB5pe25bi4CgoKZnVuY3Rpb24gZ2V0QmxvY2tUaW1lKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDUgKiA2MCwKICAgIGxhYmVsOiAnNeWIhumSnycKICB9LCB7CiAgICB2YWx1ZTogMzAgKiA2MCwKICAgIGxhYmVsOiAnMzDliIbpkp8nCiAgfSwgewogICAgdmFsdWU6IDYwICogNjAsCiAgICBsYWJlbDogJzHlsI/ml7YnCiAgfSwgewogICAgdmFsdWU6IDMgKiA2MCAqIDYwLAogICAgbGFiZWw6ICcz5bCP5pe2JwogIH0sIHsKICAgIHZhbHVlOiAyNCAqIDYwICogNjAsCiAgICBsYWJlbDogJzHlpKknCiAgfSwgewogICAgdmFsdWU6IDcgKiAyNCAqIDYwICogNjAsCiAgICBsYWJlbDogJzflpKknCiAgfSwgewogICAgdmFsdWU6IDMwICogMjQgKiA2MCAqIDYwLAogICAgbGFiZWw6ICcx5pyIJwogIH0sIHsKICAgIHZhbHVlOiAzNjUgKiAyNCAqIDYwICogNjAsCiAgICBsYWJlbDogJzHlubQnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOaUr+S7mOeKtuaAgQoKCmZ1bmN0aW9uIGdldFBheVN0YXR1cyhrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+W+heaUr+S7mCcKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5bey5pSv5LuYJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICflt7Llj5bmtognCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+W3sumAgOasvicKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5bey6LaF5pe2JwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgbGV0IGxhYmVsID0gIiI7CiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDogYzkuJrnsbvlnosKCgpmdW5jdGlvbiBnZXRPY2N1cGF0aW9uVHlwZShrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ0lUL+S6kuiBlOe9kS/pgJrkv6EnCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+WtpueUnycKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5paH5YyWL+iJuuacrycKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5b2x6KeGL+WoseS5kCcKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn6YeR6J6NJwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICfljLvoja8v5YGl5bq3JwogIH0sIHsKICAgIHZhbHVlOiA3LAogICAgbGFiZWw6ICflt6XkuJov5Yi26YCg5LiaJwogIH0sIHsKICAgIHZhbHVlOiA4LAogICAgbGFiZWw6ICflqpLkvZMv5YWs5YWzJwogIH0sIHsKICAgIHZhbHVlOiA5LAogICAgbGFiZWw6ICfpm7bllK4nCiAgfSwgewogICAgdmFsdWU6IDEwLAogICAgbGFiZWw6ICfmlZnogrIv56eR56CUJwogIH0sIHsKICAgIHZhbHVlOiAxMSwKICAgIGxhYmVsOiAn5YW25LuWJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgbGV0IGxhYmVsID0gIiI7CgogICAgaWYgKGtleSA9PT0gMCkgewogICAgICByZXR1cm4gbGFiZWw7CiAgICB9CgogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5raI5oGv57G75Z6LCgoKZnVuY3Rpb24gZ2V0TWVzc2FnZVR5cGUoa2V5KSB7CiAgbGV0IGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfmlofmnKwnCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+ekvOeJqScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5YWF5YC8JwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICflm77niYcnCiAgfSwgewogICAgdmFsdWU6IDUsCiAgICBsYWJlbDogJ+inhumikScKICB9LCB7CiAgICB2YWx1ZTogNiwKICAgIGxhYmVsOiAn6K+t6Z+zJwogIH0sIHsKICAgIHZhbHVlOiA3LAogICAgbGFiZWw6ICfkvY3nva4nCiAgfSwgewogICAgdmFsdWU6IDgsCiAgICBsYWJlbDogJ+iZmuaLn+inhumikScKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g5Yqo5L2c57G75Z6LCgoKZnVuY3Rpb24gZ2V0QWN0aW9uVHlwZShrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+aLkue7neaOpeWQrCcKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5pyq5o6l5ZCsJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfpgJror53nu5PmnZ8nCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WFs+azqCcKICB9LCB7CiAgICB2YWx1ZTogNSwKICAgIGxhYmVsOiAn5YWF5YC8JwogIH0sIHsKICAgIHZhbHVlOiA2LAogICAgbGFiZWw6ICflj5HpgIHnpLzniaknCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOmAmuivneWPkei1t+exu+WeiwoKCmZ1bmN0aW9uIGdldENhbGxUeXBlKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn55So5oi35ZG85Y+rJwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICfkuLvmkq3lkbzlj6snCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+eUqOaIt0Fp5ZG85Y+rJwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICfkuLvmkq1BaeWRvOWPqycKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g57uT5p2f57G75Z6LCgoKZnVuY3Rpb24gZ2V0SGFuZ1R5cGUoa2V5KSB7CiAgbGV0IGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfnlKjmiLfmjILmlq0nCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+S4u+aSreaMguaWrScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn5peg5Lq65o6l5ZCsJwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICflrqLmiLfnq6/nvZHnu5zkuI3lpb0nCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+S9memineS4jei2sycKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn57O757uf6ZSZ6K+vJwogIH0sIHsKICAgIHZhbHVlOiA0LAogICAgbGFiZWw6ICflo7DnvZHotoXml7YnCiAgfSwgewogICAgdmFsdWU6IDQsCiAgICBsYWJlbDogJ+WjsOe9kemUmeivrycKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwoKICAgIGlmIChrZXkgPT09IDApIHsKICAgICAgcmV0dXJuIGxhYmVsOwogICAgfQoKICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOe7k+adn+exu+WeiwoKCmZ1bmN0aW9uIGdldENhbGxTdGF0dXMoa2V5KSB7CiAgbGV0IGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICfnrYnlvoXmjqXpgJonCiAgfSwgewogICAgdmFsdWU6IDIsCiAgICBsYWJlbDogJ+mAmuivneS4rScKICB9LCB7CiAgICB2YWx1ZTogMywKICAgIGxhYmVsOiAn6YCa6K+d57uT5p2fJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgbGV0IGxhYmVsID0gIiI7CiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDlrp7kvZPnsbvlnosKCgpmdW5jdGlvbiBnZXRFbnRpdHlUeXBlKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn5pmu6YCa55So5oi3JwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICfkuLvmkq0nCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+euoeeQhuWRmCcKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5YWs5LyaJwogIH0sIHsKICAgIHZhbHVlOiA1LAogICAgbGFiZWw6ICforqLpmIXorqLljZUnCiAgfSwgewogICAgdmFsdWU6IDYsCiAgICBsYWJlbDogJ+WFheWAvOiuouWNlScKICB9LCB7CiAgICB2YWx1ZTogNywKICAgIGxhYmVsOiAn56S854mp6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiA4LAogICAgbGFiZWw6ICdWSVDorrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDksCiAgICBsYWJlbDogJ+mAmuivneiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTAsCiAgICBsYWJlbDogJ+etvuWIsOiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTEsCiAgICBsYWJlbDogJ+S4vuaKpeiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTIsCiAgICBsYWJlbDogJ+WcqOe6v+iusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTMsCiAgICBsYWJlbDogJ+e7k+eul+iusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTQsCiAgICBsYWJlbDogJ+WlluaDqeiusOW9lScKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g55So5oi357G75Z6LCgoKZnVuY3Rpb24gZ2V0VHJhZGVyVHlwZShrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+eUqOaItycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn5Li75pKtJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfnrqHnkIblkZgnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKICAgIGFyci5mb3JFYWNoKGl0ZW0gPT4gewogICAgICBpZiAoa2V5LnRvU3RyaW5nKCkgPT09IGl0ZW0udmFsdWUudG9TdHJpbmcoKSkgewogICAgICAgIGxhYmVsID0gaXRlbS5sYWJlbDsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gbGFiZWw7CiAgfSBlbHNlIHsKICAgIHJldHVybiBhcnI7CiAgfQp9IC8vIOWunuS9k+exu+WeiwoKCmZ1bmN0aW9uIGdldFNvdXJjZVR5cGUoa2V5KSB7CiAgbGV0IGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiA1LAogICAgbGFiZWw6ICforqLpmIXorqLljZUnCiAgfSwgewogICAgdmFsdWU6IDYsCiAgICBsYWJlbDogJ+WFheWAvOiuouWNlScKICB9LCB7CiAgICB2YWx1ZTogNywKICAgIGxhYmVsOiAn56S854mp6K6w5b2VJwogIH0sIHsKICAgIHZhbHVlOiA4LAogICAgbGFiZWw6ICdWSVDorrDlvZUnCiAgfSwgewogICAgdmFsdWU6IDksCiAgICBsYWJlbDogJ+mAmuivneiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTAsCiAgICBsYWJlbDogJ+etvuWIsOiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTEsCiAgICBsYWJlbDogJ+S4vuaKpeiusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTIsCiAgICBsYWJlbDogJ+WcqOe6v+iusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTMsCiAgICBsYWJlbDogJ+e7k+eul+iusOW9lScKICB9LCB7CiAgICB2YWx1ZTogMTQsCiAgICBsYWJlbDogJ+WlluaDqeiusOW9lScKICB9XTsKCiAgaWYgKHR5cGVvZiBrZXkgIT0gInVuZGVmaW5lZCIpIHsKICAgIGxldCBsYWJlbCA9ICIiOwogICAgYXJyLmZvckVhY2goaXRlbSA9PiB7CiAgICAgIGlmIChrZXkudG9TdHJpbmcoKSA9PT0gaXRlbS52YWx1ZS50b1N0cmluZygpKSB7CiAgICAgICAgbGFiZWwgPSBpdGVtLmxhYmVsOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBsYWJlbDsKICB9IGVsc2UgewogICAgcmV0dXJuIGFycjsKICB9Cn0gLy8g57uT566X54q25oCBCgoKZnVuY3Rpb24gZ2V0U2V0dGxlU3RhdHVzKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn6aKE57uT566XJwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICflt7LliZTpmaQnCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ+e7k+eul+WujOaIkCcKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAn5pKk6ZSA57uT566XJwogIH1dOwoKICBpZiAodHlwZW9mIGtleSAhPSAidW5kZWZpbmVkIikgewogICAgbGV0IGxhYmVsID0gIiI7CiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDmlK/ku5jmlrnlvI8KCgpmdW5jdGlvbiBnZXRQYXlUeXBlKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ0dvb2dsZScKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAnQXBwbGUnCiAgfSwgewogICAgdmFsdWU6IDMsCiAgICBsYWJlbDogJ1hlbmRpdCcKICB9LCB7CiAgICB2YWx1ZTogNCwKICAgIGxhYmVsOiAnUGF5ZXJNYXgnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDns7vnu5/nsbvlnosKCgpmdW5jdGlvbiBnZXRPc1R5cGUoa2V5KSB7CiAgbGV0IGFyciA9IFt7CiAgICB2YWx1ZTogMCwKICAgIGxhYmVsOiAn5YWo6YOoJwogIH0sIHsKICAgIHZhbHVlOiAxLAogICAgbGFiZWw6ICdBbmRyb2lkJwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICdJb3MnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDmlofku7bnsbvlnosKCgpmdW5jdGlvbiBnZXRGaWxlVHlwZShrZXkpIHsKICBsZXQgYXJyID0gW3sKICAgIHZhbHVlOiAwLAogICAgbGFiZWw6ICflhajpg6gnCiAgfSwgewogICAgdmFsdWU6IDEsCiAgICBsYWJlbDogJ+WbvueJhycKICB9LCB7CiAgICB2YWx1ZTogMiwKICAgIGxhYmVsOiAn6KeG6aKRJwogIH0sIHsKICAgIHZhbHVlOiAzLAogICAgbGFiZWw6ICfpn7PpopEnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfSAvLyDmgKfliKvnsbvlnosKCgpmdW5jdGlvbiBnZXRHZW5kZXJUeXBlKGtleSkgewogIGxldCBhcnIgPSBbewogICAgdmFsdWU6IDAsCiAgICBsYWJlbDogJ+WFqOmDqCcKICB9LCB7CiAgICB2YWx1ZTogMSwKICAgIGxhYmVsOiAn55S3JwogIH0sIHsKICAgIHZhbHVlOiAyLAogICAgbGFiZWw6ICflpbMnCiAgfV07CgogIGlmICh0eXBlb2Yga2V5ICE9ICJ1bmRlZmluZWQiKSB7CiAgICBsZXQgbGFiZWwgPSAiIjsKCiAgICBpZiAoa2V5ID09PSAwKSB7CiAgICAgIHJldHVybiBsYWJlbDsKICAgIH0KCiAgICBhcnIuZm9yRWFjaChpdGVtID0+IHsKICAgICAgaWYgKGtleS50b1N0cmluZygpID09PSBpdGVtLnZhbHVlLnRvU3RyaW5nKCkpIHsKICAgICAgICBsYWJlbCA9IGl0ZW0ubGFiZWw7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIGxhYmVsOwogIH0gZWxzZSB7CiAgICByZXR1cm4gYXJyOwogIH0KfQ=="},null]}