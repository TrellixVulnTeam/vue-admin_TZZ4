{"remainingRequest":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js!/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/Login.vue","mtime":1624592419635},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCIvaG9tZS9tZW5neS9Eb2N1bWVudHMvaXdvcmsva2Fmby92dWUtYWRtaW4tZGVzaWduL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdCIpOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Cgp2YXIgX2xvZ2luID0gcmVxdWlyZSgiLi4vYXBpL2xvZ2luIik7Cgp2YXIgX2Nvb2tpZSA9IHJlcXVpcmUoIi4uL3V0aWxzL2Nvb2tpZSIpOwoKdmFyIF9sb2dpbkJhY2tncm91bmQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWcvbG9naW4tYmFja2dyb3VuZC5qcGciKSk7CgovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgQmFja2dyb3VuZDogX2xvZ2luQmFja2dyb3VuZC5kZWZhdWx0LAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJ2FkbWluJywKICAgICAgICBwYXNzd29yZDogJ2FkbWluMTIzJywKICAgICAgICByZW1lbWJlck1lOiB0cnVlCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuicKICAgICAgICB9XSwKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInLAogICAgICAgICAgbWVzc2FnZTogJ+WvhueggeS4jeiDveS4uuepuicKICAgICAgICB9XQogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgcmVkaXJlY3Q6IHVuZGVmaW5lZAogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAkcm91dGU6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcihyb3V0ZSkgewogICAgICAgIHRoaXMucmVkaXJlY3QgPSByb3V0ZS5xdWVyeSAmJiByb3V0ZS5xdWVyeS5yZWRpcmVjdDsKICAgICAgfSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVMb2dpbjogZnVuY3Rpb24gaGFuZGxlTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHVzZXJuYW1lOiBfdGhpcy5sb2dpbkZvcm0udXNlcm5hbWUsCiAgICAgICAgICBwYXNzd29yZDogX3RoaXMubG9naW5Gb3JtLnBhc3N3b3JkCiAgICAgICAgfTsKCiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBhbGVydCh2YWxpZCk7CiAgICAgICAgICBhbGVydChfdGhpcy5yZWRpcmVjdCk7CiAgICAgICAgICAoMCwgX2Nvb2tpZS5zZXRUb2tlbikoIjExMTExMTExMTExIik7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgcGF0aDogX3RoaXMucmVkaXJlY3QgfHwgJy8nCiAgICAgICAgICB9KTsgLy8gbG9naW4oZGF0YSkudGhlbihyZXMgPT4gewogICAgICAgICAgLy8gICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgLy8gICBzZXRUb2tlbihyZXMudG9rZW4pCiAgICAgICAgICAvLyAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogdGhpcy5yZWRpcmVjdCB8fCAnLycgfSkKICAgICAgICAgIC8vIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICAgIC8vICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIC8vIH0pCgogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;AA6BA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,UAAA,EAAA,wBADA;AAEA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,OADA;AAEA,QAAA,QAAA,EAAA,UAFA;AAGA,QAAA,UAAA,EAAA;AAHA,OAFA;AAOA,MAAA,UAAA,EAAA;AACA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA,CADA;AAEA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,QAAA,EAAA,IAAA;AAAA,UAAA,OAAA,EAAA,MAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAFA,OAPA;AAWA,MAAA,OAAA,EAAA,KAXA;AAYA,MAAA,QAAA,EAAA;AAZA,KAAA;AAcA,GAjBA;AAkBA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA,iBAAA,KAAA,EAAA;AACA,aAAA,QAAA,GAAA,KAAA,CAAA,KAAA,IAAA,KAAA,CAAA,KAAA,CAAA,QAAA;AACA,OAHA;AAIA,MAAA,SAAA,EAAA;AAJA;AADA,GAlBA;AA0BA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,KAAA,CAAA,SAAA,CAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,IAAA,GAAA;AACA,UAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CAAA,QADA;AAEA,UAAA,QAAA,EAAA,KAAA,CAAA,SAAA,CAAA;AAFA,SAAA;;AAIA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,QAAA,CAAA;AACA,gCAAA,aAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA,KAAA,CAAA,QAAA,IAAA;AAAA,WAAA,EAJA,CAKA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA,OAlBA;AAmBA;AArBA;AA1BA,C","sourcesContent":["<template>\n  <div class=\"login-wrapper\" :style=\"'background-image:url('+ Background +')'\">\n    <div class=\"form-box\">\n      <div class=\"form-title\">\n        <img src=\"../assets/img/logo2.png\" alt=\"icon\">\n        <p>账 号 登 录</p>\n      </div>\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-width=\"0px\" class=\"login-form\">\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"loginForm.username\" type=\"text\" auto-complete=\"off\" placeholder=\"请输入账号\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" @keyup.enter.native=\"handleLogin\" />\n        </el-form-item>\n        <el-form-item>\n          <el-checkbox v-model=\"loginForm.rememberMe\">记住我</el-checkbox>\n        </el-form-item>\n        <el-form-item>\n          <el-button :loading=\"loading\" size=\"small\" type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\">\n            <span v-if=\"!loading\">登 录</span>\n            <span v-else>登 录 中...</span>\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login } from '../api/login'\nimport { setToken } from '../utils/cookie'\nimport Background from '../assets/img/login-background.jpg'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      Background,\n      loginForm: {\n        username: 'admin',\n        password: 'admin123',\n        rememberMe: true\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', message: '用户名不能为空' }],\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }]\n      },\n      loading: false,\n      redirect: undefined\n    }\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        const data = {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        }\n        if (valid) {\n          alert(valid)\n          alert(this.redirect)\n          setToken(\"11111111111\")\n          this.$router.push({ path: this.redirect || '/' })\n          // login(data).then(res => {\n          //   this.loading = false\n          //   setToken(res.token)\n          //   this.$router.push({ path: this.redirect || '/' })\n          // }).catch(() => {\n          //   this.loading = false\n          // })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.login-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  background-size: cover;\n  .form-box {\n    width: 320px;\n    padding: 15px 30px 20px;\n    background: #fff;\n    border-radius: 4px;\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 1, .1);\n    .form-title {\n      margin: 0 auto 35px;\n      text-align: center;\n      color: #707070;\n      font-size: 18px;\n      letter-spacing: 2px;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/views"}]}