{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin-design/src/components/GraphEditorEle/PanelDetail/DetailForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/src/components/GraphEditorEle/PanelDetail/DetailForm.vue","mtime":1624500048818},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG9taXQgfSBmcm9tICdsb2Rhc2gnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0RldGFpbEZvcm0nLAogIGluamVjdDogWydyb290J10sCiAgcHJvcHM6IFsndHlwZSddLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmb3JtTW9kZWw6IHt9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgY29uc3QgZm9ybU1vZGVsID0gdGhpcy5yb290LnByb3BzQVBJLmdldFNlbGVjdGVkKClbMF0uZ2V0TW9kZWwoKQogICAgdGhpcy5mb3JtTW9kZWwgPSBPYmplY3QuYXNzaWduKHt9LCB7IHNoYXBlOiAnZmxvdy1zbW9vdGgnIH0sIGZvcm1Nb2RlbCkKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN1Ym1pdChlKSB7CiAgICAgIGNvbnN0IHsgZ2V0U2VsZWN0ZWQsIGV4ZWN1dGVDb21tYW5kLCB1cGRhdGUgfSA9IHRoaXMucm9vdC5wcm9wc0FQSQogICAgICBjb25zdCB7IGZvcm1Nb2RlbCB9ID0gdGhpcwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICBjb25zdCBpdGVtID0gZ2V0U2VsZWN0ZWQoKVswXQogICAgICAgIGlmICghaXRlbSkgcmV0dXJuCiAgICAgICAgZXhlY3V0ZUNvbW1hbmQoKCkgPT4gewogICAgICAgICAgdXBkYXRlKGl0ZW0sIHsgLi4ub21pdChmb3JtTW9kZWwsICdjaGlsZHJlbicpIH0pCiAgICAgICAgfSkKICAgICAgfSwgMCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["DetailForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailForm.vue","sourceRoot":"src/components/GraphEditorEle/PanelDetail","sourcesContent":["<template>\n  <div class=\"detail-form\">\n    <el-form @submit.prevent=\"handleSubmit\">\n      <el-form-item v-if=\"type === 'node'\">\n        <el-input v-model=\"formModel.label\" @blur.prevent=\"handleSubmit\" />\n      </el-form-item>\n      <el-form-item v-else-if=\"type === 'edge'\">\n        <el-input v-model=\"formModel.label\" @blur.prevent=\"handleSubmit\" />\n        <el-select v-model=\"formModel.shape\" @change.prevent=\"handleSubmit\">\n          <option value=\"flow-smooth\">Smooth</option>\n          <option value=\"flow-polyline\">Polyline</option>\n          <option value=\"custom-polyline\">Custom Polyline</option>\n          <option value=\"flow-polyline-round\">Polyline Round</option>\n        </el-select>\n      </el-form-item>\n      <el-form-item v-else-if=\"type === 'group'\">\n        <el-input v-model=\"formModel.label\" @blur.prevent=\"handleSubmit\" />\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { omit } from 'lodash'\n\nexport default {\n  name: 'DetailForm',\n  inject: ['root'],\n  props: ['type'],\n  data() {\n    return {\n      formModel: {}\n    }\n  },\n  created() {\n    const formModel = this.root.propsAPI.getSelected()[0].getModel()\n    this.formModel = Object.assign({}, { shape: 'flow-smooth' }, formModel)\n  },\n  methods: {\n    handleSubmit(e) {\n      const { getSelected, executeCommand, update } = this.root.propsAPI\n      const { formModel } = this\n      setTimeout(() => {\n        const item = getSelected()[0]\n        if (!item) return\n        executeCommand(() => {\n          update(item, { ...omit(formModel, 'children') })\n        })\n      }, 0)\n    }\n  }\n}\n</script>\n"]}]}