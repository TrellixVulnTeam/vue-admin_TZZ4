{"remainingRequest":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/src/views/Login.vue","mtime":1624592419635},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGxvZ2luIH0gZnJvbSAnLi4vYXBpL2xvZ2luJwppbXBvcnQgeyBzZXRUb2tlbiB9IGZyb20gJy4uL3V0aWxzL2Nvb2tpZScKaW1wb3J0IEJhY2tncm91bmQgZnJvbSAnLi4vYXNzZXRzL2ltZy9sb2dpbi1iYWNrZ3JvdW5kLmpwZycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnTG9naW4nLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBCYWNrZ3JvdW5kLAogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogJ2FkbWluJywKICAgICAgICBwYXNzd29yZDogJ2FkbWluMTIzJywKICAgICAgICByZW1lbWJlck1lOiB0cnVlCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogW3sgcmVxdWlyZWQ6IHRydWUsIHRyaWdnZXI6ICdibHVyJywgbWVzc2FnZTogJ+eUqOaIt+WQjeS4jeiDveS4uuepuicgfV0sCiAgICAgICAgcGFzc3dvcmQ6IFt7IHJlcXVpcmVkOiB0cnVlLCB0cmlnZ2VyOiAnYmx1cicsIG1lc3NhZ2U6ICflr4bnoIHkuI3og73kuLrnqbonIH1dCiAgICAgIH0sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICByZWRpcmVjdDogdW5kZWZpbmVkCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKHJvdXRlKSB7CiAgICAgICAgdGhpcy5yZWRpcmVjdCA9IHJvdXRlLnF1ZXJ5ICYmIHJvdXRlLnF1ZXJ5LnJlZGlyZWN0CiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlTG9naW4oKSB7CiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBjb25zdCBkYXRhID0gewogICAgICAgICAgdXNlcm5hbWU6IHRoaXMubG9naW5Gb3JtLnVzZXJuYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMubG9naW5Gb3JtLnBhc3N3b3JkCiAgICAgICAgfQogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgYWxlcnQodmFsaWQpCiAgICAgICAgICBhbGVydCh0aGlzLnJlZGlyZWN0KQogICAgICAgICAgc2V0VG9rZW4oIjExMTExMTExMTExIikKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgcGF0aDogdGhpcy5yZWRpcmVjdCB8fCAnLycgfSkKICAgICAgICAgIC8vIGxvZ2luKGRhdGEpLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgICAgIC8vICAgc2V0VG9rZW4ocmVzLnRva2VuKQogICAgICAgICAgLy8gICB0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6IHRoaXMucmVkaXJlY3QgfHwgJy8nIH0pCiAgICAgICAgICAvLyB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAvLyAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAvLyB9KQogICAgICAgIH0KICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login-wrapper\" :style=\"'background-image:url('+ Background +')'\">\n    <div class=\"form-box\">\n      <div class=\"form-title\">\n        <img src=\"../assets/img/logo2.png\" alt=\"icon\">\n        <p>账 号 登 录</p>\n      </div>\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-width=\"0px\" class=\"login-form\">\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"loginForm.username\" type=\"text\" auto-complete=\"off\" placeholder=\"请输入账号\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" @keyup.enter.native=\"handleLogin\" />\n        </el-form-item>\n        <el-form-item>\n          <el-checkbox v-model=\"loginForm.rememberMe\">记住我</el-checkbox>\n        </el-form-item>\n        <el-form-item>\n          <el-button :loading=\"loading\" size=\"small\" type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\">\n            <span v-if=\"!loading\">登 录</span>\n            <span v-else>登 录 中...</span>\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login } from '../api/login'\nimport { setToken } from '../utils/cookie'\nimport Background from '../assets/img/login-background.jpg'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      Background,\n      loginForm: {\n        username: 'admin',\n        password: 'admin123',\n        rememberMe: true\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', message: '用户名不能为空' }],\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }]\n      },\n      loading: false,\n      redirect: undefined\n    }\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        const data = {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        }\n        if (valid) {\n          alert(valid)\n          alert(this.redirect)\n          setToken(\"11111111111\")\n          this.$router.push({ path: this.redirect || '/' })\n          // login(data).then(res => {\n          //   this.loading = false\n          //   setToken(res.token)\n          //   this.$router.push({ path: this.redirect || '/' })\n          // }).catch(() => {\n          //   this.loading = false\n          // })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.login-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  background-size: cover;\n  .form-box {\n    width: 320px;\n    padding: 15px 30px 20px;\n    background: #fff;\n    border-radius: 4px;\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 1, .1);\n    .form-title {\n      margin: 0 auto 35px;\n      text-align: center;\n      color: #707070;\n      font-size: 18px;\n      letter-spacing: 2px;\n    }\n  }\n}\n</style>\n"]}]}