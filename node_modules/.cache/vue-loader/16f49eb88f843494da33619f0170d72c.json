{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin-design/src/layout/components/TagsView/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/src/layout/components/TagsView/index.vue","mtime":1624500048821},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcGF0aCBmcm9tICdwYXRoJw0KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwTXV0YXRpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCBUYWdJdGVtIGZyb20gJy4vVGFnSXRlbScNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnVGFnc1ZpZXcnLA0KICBjb21wb25lbnRzOiB7IFRhZ0l0ZW0gfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGFnc0NvbnRMZWZ0OiAwLA0KICAgICAgY29udFBhZGRpbmc6IDQsDQogICAgICBzZWxlY3RlZFRhZzoge30NCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbJ3Zpc2l0ZWRWaWV3cyddKSwNCiAgICByb3V0ZXMoKSB7DQogICAgICByZXR1cm4gdGhpcy4kcm91dGVyLm9wdGlvbnMucm91dGVzDQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgICRyb3V0ZSh2YWwpIHsNCiAgICAgIHRoaXMuYWRkVGFncygpDQogICAgICB0aGlzLmdldFRhZ0VsZW1lbnQodmFsKQ0KICAgICAgdGhpcy5zZWxlY3RlZFRhZyA9IHZhbA0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLmluaXRUYWdzKCkNCiAgICB0aGlzLmFkZFRhZ3MoKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwTXV0YXRpb25zKFsnYWRkVmlzaXRlZFZpZXcnLCAnZGVsVmlzaXRlZFZpZXcnLCAnZGVsQWxsVmlzaXRlZFZpZXcnLCAnZGVsT3RoZXJzVmlzaXRlZFZpZXcnXSksDQogICAgaXNBY3RpdmUodGFnKSB7DQogICAgICByZXR1cm4gdGFnLnBhdGggPT09IHRoaXMuJHJvdXRlLnBhdGgNCiAgICB9LA0KICAgIGZpbHRlckZpeGVkVGFncyhyb3V0ZXMsIGJhc2VQYXRoID0gJy8nKSB7DQogICAgICBsZXQgdGFncyA9IFtdDQogICAgICByb3V0ZXMuZm9yRWFjaChpdGVtID0+IHsNCiAgICAgICAgaWYgKGl0ZW0ubWV0YSAmJiBpdGVtLm1ldGEuZml4ZWQpIHsNCiAgICAgICAgICBjb25zdCB0YWdQYXRoID0gcGF0aC5yZXNvbHZlKGJhc2VQYXRoLCBpdGVtLnBhdGgpDQogICAgICAgICAgdGFncy5wdXNoKHsNCiAgICAgICAgICAgIGZ1bGxQYXRoOiB0YWdQYXRoLA0KICAgICAgICAgICAgcGF0aDogdGFnUGF0aCwNCiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSwNCiAgICAgICAgICAgIG1ldGE6IHsgLi4uaXRlbS5tZXRhIH0NCiAgICAgICAgICB9KQ0KICAgICAgICB9DQogICAgICAgIGlmIChpdGVtLmNoaWxkcmVuKSB7DQogICAgICAgICAgY29uc3QgdGVtcFRhZ3MgPSB0aGlzLmZpbHRlckZpeGVkVGFncyhpdGVtLmNoaWxkcmVuLCBpdGVtLnBhdGgpDQogICAgICAgICAgaWYgKHRlbXBUYWdzLmxlbmd0aCA+PSAxKSB7DQogICAgICAgICAgICB0YWdzID0gWy4uLnRhZ3MsIC4uLnRlbXBUYWdzXQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgIHJldHVybiB0YWdzDQogICAgfSwNCiAgICBpbml0VGFncygpIHsNCiAgICAgIGNvbnN0IGZpeGVkVGFncyA9IHRoaXMuZmlsdGVyRml4ZWRUYWdzKHRoaXMucm91dGVzKQ0KICAgICAgZm9yIChjb25zdCB0YWcgb2YgZml4ZWRUYWdzKSB7DQogICAgICAgIGlmICh0YWcubmFtZSkgew0KICAgICAgICAgIHRoaXMuYWRkVmlzaXRlZFZpZXcodGFnKQ0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBhZGRUYWdzKCkgew0KICAgICAgY29uc3QgeyBuYW1lIH0gPSB0aGlzLiRyb3V0ZQ0KICAgICAgaWYgKG5hbWUpIHsNCiAgICAgICAgdGhpcy5hZGRWaXNpdGVkVmlldyh0aGlzLiRyb3V0ZSkNCiAgICAgIH0NCiAgICAgIHJldHVybiBmYWxzZQ0KICAgIH0sDQogICAgaGFuZGxlc2Nyb2xsKGUpIHsNCiAgICAgIGNvbnN0IHR5cGUgPSBlLnR5cGUNCiAgICAgIGxldCBkaXN0YW5jZSA9IDANCiAgICAgIC8vIG1vdXNld2hlZWzpnZ7ngavni5DmtY/op4jlmajpvKDmoIfmu5rliqjkuovku7Y7IERPTU1vdXNlU2Nyb2xs54Gr54uQ5rWP6KeI5Zmo6byg5qCH5rua5Yqo5LqL5Lu2DQogICAgICBpZiAodHlwZSA9PT0gJ21vdXNld2hlZWwnIHx8IHR5cGUgPT09ICdET01Nb3VzZVNjcm9sbCcpIHsNCiAgICAgICAgLy8gbW91c2V3aGVlbCDkuovku7bkuK3nmoQgZXZlbnQud2hlZWxEZWx0YSDlsZ7mgKflgLzvvJroi6Xmu5rova7mmK/lkJHkuIrmu5rliqjvvIzov5Tlm57lgLzkuLrmraPvvIzlj43kuYvkuLrotJ/vvJvkuJTov5Tlm57nmoTlgLzvvIzlnYfkuLogMTIwIOeahOWAjeaVsO+8jOWNs++8muW5heW6puWkp+WwjyA9IOi/lOWbnueahOWAvCAvIDEyMA0KICAgICAgICAvLyBET01Nb3VzZVNjcm9sbCDkuovku7bkuK3nmoQgZXZlbnQuZGV0YWlsIOWxnuaAp+WAvO+8mui/lOWbnueahOWAvO+8jOS4jiBldmVudC53aGVlbERlbHRhIOato+WlveebuOWPje+8jOWNs+a7mui9ruaYr+WQkeS4iua7muWKqO+8jOi/lOWbnuWAvOS4uui0n++8jOWPjeS5i+S4uuato++8m+i/lOWbnueahOWAvO+8jOWdh+S4uiAzIOeahOWAjeaVsO+8jOWNs++8muW5heW6puWkp+WwjyA9IOi/lOWbnueahOWAvCAvIDMNCiAgICAgICAgZGlzdGFuY2UgPSAoZS53aGVlbERlbHRhKSA/IGUud2hlZWxEZWx0YSA6IC0oZS5kZXRhaWwgfHwgMCkgKiA0MA0KICAgICAgfQ0KICAgICAgdGhpcy5oYW5kbGVNb3ZlKGRpc3RhbmNlKQ0KICAgIH0sDQogICAgaGFuZGxlTW92ZShvZmZzZXQpIHsNCiAgICAgIGNvbnN0IHZpZXdXaWR0aCA9IHRoaXMuJHJlZnMudGFnc1ZpZXdzLm9mZnNldFdpZHRoDQogICAgICBjb25zdCBjb250V2lkdGggPSB0aGlzLiRyZWZzLnRhZ3NDb250Lm9mZnNldFdpZHRoDQogICAgICBpZiAob2Zmc2V0ID4gMCkgew0KICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IE1hdGgubWluKDAsIHRoaXMudGFnc0NvbnRMZWZ0ICsgb2Zmc2V0KQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKHZpZXdXaWR0aCA8IGNvbnRXaWR0aCkgew0KICAgICAgICAgIGlmICh0aGlzLnRhZ3NDb250TGVmdCA8IC0oY29udFdpZHRoIC0gdmlld1dpZHRoKSkgew0KICAgICAgICAgICAgLy8gdGhpcy50YWdzQ29udExlZnQgPSB0aGlzLnRhZ3NDb250TGVmdA0KICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IE1hdGgubWF4KHRoaXMudGFnc0NvbnRMZWZ0ICsgb2Zmc2V0LCB2aWV3V2lkdGggLSBjb250V2lkdGgpDQogICAgICAgICAgfQ0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIHRoaXMudGFnc0NvbnRMZWZ0ID0gMA0KICAgICAgICB9DQogICAgICB9DQogICAgfSwNCiAgICBnZXRUYWdFbGVtZW50KHJvdXRlKSB7DQogICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7DQogICAgICAgIGNvbnN0IHRhZ3NJdGVtQXJyID0gdGhpcy4kcmVmcy50YWdzSXRlbQ0KICAgICAgICBjb25zdCBpbmRleCA9IHRhZ3NJdGVtQXJyLmZpbmRJbmRleChpdGVtID0+IHsNCiAgICAgICAgICByZXR1cm4gaXRlbS50by5wYXRoID09PSByb3V0ZS5mdWxsUGF0aA0KICAgICAgICB9KQ0KICAgICAgICBjb25zdCB0YWcgPSB0YWdzSXRlbUFycltpbmRleF0uJGVsDQogICAgICAgIHRoaXMubW92ZVRvQ3VycmVudFRhZyh0YWcpDQogICAgICB9KQ0KICAgIH0sDQogICAgbW92ZVRvQ3VycmVudFRhZyh0YWcpIHsNCiAgICAgIGNvbnN0IHZpZXdXaWR0aCA9IHRoaXMuJHJlZnMudGFnc1ZpZXdzLm9mZnNldFdpZHRoDQogICAgICBjb25zdCBjb250V2lkdGggPSB0aGlzLiRyZWZzLnRhZ3NDb250Lm9mZnNldFdpZHRoDQogICAgICBpZiAoY29udFdpZHRoIDwgdmlld1dpZHRoKSB7DQogICAgICAgIHRoaXMudGFnc0NvbnRMZWZ0ID0gMA0KICAgICAgfSBlbHNlIGlmICh0YWcub2Zmc2V0TGVmdCA8IC10aGlzLnRhZ3NDb250TGVmdCkgew0KICAgICAgICAvLyDmoIfnrb7lnKjlj6/op4bljLrln5/lt6bkvqcNCiAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSAtdGFnLm9mZnNldExlZnQgKyB0aGlzLmNvbnRQYWRkaW5nDQogICAgICB9IGVsc2UgaWYgKHRhZy5vZmZzZXRMZWZ0ID4gLXRoaXMudGFnc0NvbnRMZWZ0ICYmIHRhZy5vZmZzZXRMZWZ0ICsgdGFnLm9mZnNldFdpZHRoIDwgLXRoaXMudGFnc0NvbnRMZWZ0ICsgdmlld1dpZHRoKSB7DQogICAgICAgIC8vIOagh+etvuWcqOWPr+inhuWMuuWfnw0KICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IE1hdGgubWluKDAsIHZpZXdXaWR0aCAtIHRhZy5vZmZzZXRXaWR0aCAtIHRhZy5vZmZzZXRMZWZ0IC0gdGhpcy5jb250UGFkZGluZykNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIC8vIOagh+etvuWcqOWPr+inhuWMuuWfn+WPs+S+pw0KICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IC0odGFnLm9mZnNldExlZnQgLSAodmlld1dpZHRoIC0gdGhpcy5jb250UGFkZGluZyAtIHRhZy5vZmZzZXRXaWR0aCkpDQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVTZWxlY3RlZENsb3NlKHZpZXcpIHsNCiAgICAgIHRoaXMuZGVsVmlzaXRlZFZpZXcodmlldykNCiAgICAgIGlmICh0aGlzLmlzQWN0aXZlKHZpZXcpKSB7DQogICAgICAgIHRoaXMuc2hvd0xhc3RWaWV3KCkNCiAgICAgIH0NCiAgICB9LA0KICAgIHNob3dMYXN0VmlldygpIHsNCiAgICAgIGNvbnN0IGxhc3RWaWV3ID0gdGhpcy52aXNpdGVkVmlld3Muc2xpY2UoLTEpWzBdDQogICAgICBpZiAobGFzdFZpZXcpIHsNCiAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gobGFzdFZpZXcuZnVsbFBhdGgpDQogICAgICB9DQogICAgfSwNCiAgICBoYW5kbGVDbG9zZUN0cmwodHlwZSkgew0KICAgICAgaWYgKHR5cGUgPT09ICdhbGwnKSB7DQogICAgICAgIHRoaXMuZGVsQWxsVmlzaXRlZFZpZXcoKQ0KICAgICAgICB0aGlzLnNob3dMYXN0VmlldygpDQogICAgICB9DQogICAgICBpZiAodHlwZSA9PT0gJ290aGVyJykgew0KICAgICAgICBpZiAodGhpcy5zZWxlY3RlZFRhZykgew0KICAgICAgICAgIHRoaXMuZGVsT3RoZXJzVmlzaXRlZFZpZXcodGhpcy5zZWxlY3RlZFRhZykNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy50YWdzQ29udExlZnQgPSAwDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/components/TagsView","sourcesContent":["<template>\r\n  <div class=\"tags-nav-wrapper clear-fix\">\r\n    <el-button type=\"text\" class=\"btn-con\" @click=\"handleMove(240)\">\r\n      <i class=\"icon el-icon-arrow-left\" />\r\n    </el-button>\r\n    <div ref=\"tagsViews\" class=\"tags-views\" @DOMMouseScroll=\"handlescroll\" @mousewheel=\"handlescroll\">\r\n      <div ref=\"tagsCont\" class=\"tags-cont\" :style=\"{left: tagsContLeft + 'px'}\">\r\n        <transition-group>\r\n          <router-link v-for=\"item in visitedViews\" ref=\"tagsItem\" :key=\"item.name\" :to=\"{ path: item.path }\">\r\n            <TagItem :class=\"{active: isActive(item)}\" :fixed=\"item.meta.fixed\" @on-close=\"handleSelectedClose(item)\">{{ item.title }}</TagItem>\r\n          </router-link>\r\n        </transition-group>\r\n      </div>\r\n    </div>\r\n    <el-button type=\"text\" class=\"btn-con\" @click=\"handleMove(-240)\">\r\n      <i class=\"icon el-icon-arrow-right\" />\r\n    </el-button>\r\n    <div class=\"btn-con btn-close\">\r\n      <el-dropdown @command=\"handleCloseCtrl\">\r\n        <span class=\"el-dropdown-link\">\r\n          <i class=\"icon el-icon-circle-close\" />\r\n        </span>\r\n        <el-dropdown-menu slot=\"dropdown\">\r\n          <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n          <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n        </el-dropdown-menu>\r\n      </el-dropdown>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport path from 'path'\r\nimport { mapGetters, mapMutations } from 'vuex'\r\nimport TagItem from './TagItem'\r\n\r\nexport default {\r\n  name: 'TagsView',\r\n  components: { TagItem },\r\n  data() {\r\n    return {\r\n      tagsContLeft: 0,\r\n      contPadding: 4,\r\n      selectedTag: {}\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['visitedViews']),\r\n    routes() {\r\n      return this.$router.options.routes\r\n    }\r\n  },\r\n  watch: {\r\n    $route(val) {\r\n      this.addTags()\r\n      this.getTagElement(val)\r\n      this.selectedTag = val\r\n    }\r\n  },\r\n  mounted() {\r\n    this.initTags()\r\n    this.addTags()\r\n  },\r\n  methods: {\r\n    ...mapMutations(['addVisitedView', 'delVisitedView', 'delAllVisitedView', 'delOthersVisitedView']),\r\n    isActive(tag) {\r\n      return tag.path === this.$route.path\r\n    },\r\n    filterFixedTags(routes, basePath = '/') {\r\n      let tags = []\r\n      routes.forEach(item => {\r\n        if (item.meta && item.meta.fixed) {\r\n          const tagPath = path.resolve(basePath, item.path)\r\n          tags.push({\r\n            fullPath: tagPath,\r\n            path: tagPath,\r\n            name: item.name,\r\n            meta: { ...item.meta }\r\n          })\r\n        }\r\n        if (item.children) {\r\n          const tempTags = this.filterFixedTags(item.children, item.path)\r\n          if (tempTags.length >= 1) {\r\n            tags = [...tags, ...tempTags]\r\n          }\r\n        }\r\n      })\r\n      return tags\r\n    },\r\n    initTags() {\r\n      const fixedTags = this.filterFixedTags(this.routes)\r\n      for (const tag of fixedTags) {\r\n        if (tag.name) {\r\n          this.addVisitedView(tag)\r\n        }\r\n      }\r\n    },\r\n    addTags() {\r\n      const { name } = this.$route\r\n      if (name) {\r\n        this.addVisitedView(this.$route)\r\n      }\r\n      return false\r\n    },\r\n    handlescroll(e) {\r\n      const type = e.type\r\n      let distance = 0\r\n      // mousewheel非火狐浏览器鼠标滚动事件; DOMMouseScroll火狐浏览器鼠标滚动事件\r\n      if (type === 'mousewheel' || type === 'DOMMouseScroll') {\r\n        // mousewheel 事件中的 event.wheelDelta 属性值：若滚轮是向上滚动，返回值为正，反之为负；且返回的值，均为 120 的倍数，即：幅度大小 = 返回的值 / 120\r\n        // DOMMouseScroll 事件中的 event.detail 属性值：返回的值，与 event.wheelDelta 正好相反，即滚轮是向上滚动，返回值为负，反之为正；返回的值，均为 3 的倍数，即：幅度大小 = 返回的值 / 3\r\n        distance = (e.wheelDelta) ? e.wheelDelta : -(e.detail || 0) * 40\r\n      }\r\n      this.handleMove(distance)\r\n    },\r\n    handleMove(offset) {\r\n      const viewWidth = this.$refs.tagsViews.offsetWidth\r\n      const contWidth = this.$refs.tagsCont.offsetWidth\r\n      if (offset > 0) {\r\n        this.tagsContLeft = Math.min(0, this.tagsContLeft + offset)\r\n      } else {\r\n        if (viewWidth < contWidth) {\r\n          if (this.tagsContLeft < -(contWidth - viewWidth)) {\r\n            // this.tagsContLeft = this.tagsContLeft\r\n          } else {\r\n            this.tagsContLeft = Math.max(this.tagsContLeft + offset, viewWidth - contWidth)\r\n          }\r\n        } else {\r\n          this.tagsContLeft = 0\r\n        }\r\n      }\r\n    },\r\n    getTagElement(route) {\r\n      this.$nextTick(() => {\r\n        const tagsItemArr = this.$refs.tagsItem\r\n        const index = tagsItemArr.findIndex(item => {\r\n          return item.to.path === route.fullPath\r\n        })\r\n        const tag = tagsItemArr[index].$el\r\n        this.moveToCurrentTag(tag)\r\n      })\r\n    },\r\n    moveToCurrentTag(tag) {\r\n      const viewWidth = this.$refs.tagsViews.offsetWidth\r\n      const contWidth = this.$refs.tagsCont.offsetWidth\r\n      if (contWidth < viewWidth) {\r\n        this.tagsContLeft = 0\r\n      } else if (tag.offsetLeft < -this.tagsContLeft) {\r\n        // 标签在可视区域左侧\r\n        this.tagsContLeft = -tag.offsetLeft + this.contPadding\r\n      } else if (tag.offsetLeft > -this.tagsContLeft && tag.offsetLeft + tag.offsetWidth < -this.tagsContLeft + viewWidth) {\r\n        // 标签在可视区域\r\n        this.tagsContLeft = Math.min(0, viewWidth - tag.offsetWidth - tag.offsetLeft - this.contPadding)\r\n      } else {\r\n        // 标签在可视区域右侧\r\n        this.tagsContLeft = -(tag.offsetLeft - (viewWidth - this.contPadding - tag.offsetWidth))\r\n      }\r\n    },\r\n    handleSelectedClose(view) {\r\n      this.delVisitedView(view)\r\n      if (this.isActive(view)) {\r\n        this.showLastView()\r\n      }\r\n    },\r\n    showLastView() {\r\n      const lastView = this.visitedViews.slice(-1)[0]\r\n      if (lastView) {\r\n        this.$router.push(lastView.fullPath)\r\n      }\r\n    },\r\n    handleCloseCtrl(type) {\r\n      if (type === 'all') {\r\n        this.delAllVisitedView()\r\n        this.showLastView()\r\n      }\r\n      if (type === 'other') {\r\n        if (this.selectedTag) {\r\n          this.delOthersVisitedView(this.selectedTag)\r\n        }\r\n      }\r\n      this.tagsContLeft = 0\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.tags-nav-wrapper {\r\n  width: 100%;\r\n  height: 40px;\r\n  .icon {\r\n    font-size: 18px;\r\n  }\r\n  .btn-con {\r\n    float: left;\r\n    width: 28px;\r\n    height: 40px;\r\n    padding: 8px 7px 8px 3px;\r\n    border-top: solid 1px #f0f0f0;\r\n    border-bottom: solid 1px #f0f0f0;\r\n    box-sizing: border-box;\r\n  }\r\n  .btn-close {\r\n    width: 40px;\r\n    padding-top: 10px;\r\n    padding-left: 11px;\r\n    border-left: solid 1px #f0f0f0;\r\n    cursor: pointer;\r\n  }\r\n  .tags-views {\r\n    position: relative;\r\n    float: left;\r\n    width: calc(100% - 96px);\r\n    height: 40px;\r\n    background: #f0f0f0;\r\n    box-shadow: inset 0 0 3px 2px #6464641a;\r\n    overflow: hidden;\r\n    .tags-cont {\r\n      position: absolute;\r\n      padding: 0 4px;\r\n      overflow: visible;\r\n      white-space: nowrap;\r\n      transition: left .5s ease;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}