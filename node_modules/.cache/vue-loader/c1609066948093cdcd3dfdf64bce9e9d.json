{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/anchor/dialog/anchor-info.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/anchor/dialog/anchor-info.vue","mtime":1630663072702},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmF2YXRhci11cGxvYWQgew0KICAgIC5jb250ZW50LWJveCB7DQogICAgICAgIGhlaWdodDogMzIwcHg7DQoNCiAgICAgICAgLmVsLXVwbG9hZCB7DQogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgfQ0KDQogICAgICAgIC5pY29uLXNtYWxsIHsNCiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAyNHB4Ow0KDQogICAgICAgICAgICAuZWwtaWNvbi11cGxvYWQgew0KICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDNweDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0NCi5mb3JtLWxpc3Qtd3JhcHBlciB7DQogICAgLmVsLWNhcmQgew0KICAgIH0NCg0KICAgIC5mb3JtLWxpc3Qgew0KICAgICAgICB3aWR0aDogODAlOw0KICAgICAgICBtYXJnaW46IDAgYXV0bzsNCg0KICAgICAgICAuZWwtcmF0ZSB7DQogICAgICAgICAgICBsaW5lLWhlaWdodDogMjsNCiAgICAgICAgfQ0KDQogICAgICAgID4gLmVsLWZvcm0taXRlbSB7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMnB4Ow0KDQogICAgICAgICAgICAubGluZSB7DQogICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAudGlwLXRpdGxlIHsNCiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiByaWdodDsNCiAgICAgICAgICAgICAgICBjb2xvcjogIzYwNjI2NjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIC5zdWJtaXQtYm94IHsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDM1cHg7DQogICAgICAgICAgICBtYXJnaW4tbGVmdDogMDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["anchor-info.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2PA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"anchor-info.vue","sourceRoot":"src/views/manage/anchor/dialog","sourcesContent":["<template>\r\n    <el-dialog :title=\"title\" :visible.sync=\"dialogVisible\" :modal-append-to-body=\"false\" append-to-body width=\"50%\" :before-close=\"closeDialog\">\r\n        <div class=\"form-list-wrapper\">\r\n            <el-form ref=\"ruleForm\" :model=\"form\" label-width=\"150px\" class=\"form-list\">\r\n                <el-form-item label=\"ID：\" prop=\"anchorId\" v-if=\"typeof(form.anchorId) == 0\">\r\n                    <el-input v-model=\"form.robotId\" placeholder=\"请输入\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"昵称\" prop=\"nickname\">\r\n                    <el-input v-model=\"form.nickname\" placeholder=\"请输入\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"头像\" prop=\"avatar\">\r\n                    <div class=\"img\">\r\n                        <el-upload\r\n                            action=\"\"\r\n                            :limit=\"1\"\r\n                            :on-preview=\"previewAvatar\"\r\n                            :on-change=\"successAvatar\"\r\n                            list-type=\"picture-card\"\r\n                            :file-list=\"avatarArr\"\r\n                            :auto-upload=\"false\"\r\n                        >\r\n                            <i class=\"el-icon-plus\"></i>\r\n                        </el-upload>\r\n                        <el-dialog :visible.sync=\"imgDialogVisible\" :modal-append-to-body=\"true\" append-to-body>\r\n                            <img width=\"100%\" :src=\"form.avatar\" alt />\r\n                        </el-dialog>\r\n                    </div>\r\n                    <div class=\"imgSpan2\">只能上传jpg/png文件，50X50px</div>\r\n                </el-form-item>\r\n                <el-form-item label=\"国家\" prop=\"areaId\">\r\n                    <el-select v-model=\"form.areaId\" placeholder=\"请选择\">\r\n                        <el-option v-for=\"item in areaData\"\r\n                                   :key=\"item.value\"\r\n                                   :label=\"item.label\"\r\n                                   :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"出生日期\" prop=\"birthday\">\r\n                    <el-date-picker type=\"date\" placeholder=\"出生日期\" v-model=\"form.birthday\" style=\"width: 100%;\"></el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"职业\" prop=\"occupation\">\r\n                    <el-select v-model=\"form.occupation\" placeholder=\"请选择\">\r\n                        <el-option v-for=\"item in occupationTypes\"\r\n                                   :key=\"item.value\"\r\n                                   :label=\"item.label\"\r\n                                   :value=\"item.value\">\r\n                        </el-option>\r\n                    </el-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"经常在线\" prop=\"onlineStart\">\r\n                    <el-time-select\r\n                        placeholder=\"起始时间\"\r\n                        v-model=\"form.onlineStart\"\r\n                        :picker-options=\"{\r\n                          start: '00:00',\r\n                          step: '01:00',\r\n                          end: '23:00'\r\n                        }\">\r\n                    </el-time-select>\r\n                    <el-time-select\r\n                        placeholder=\"结束时间\"\r\n                        v-model=\"form.onlineEnd\"\r\n                        :picker-options=\"{\r\n                          start: '01:00',\r\n                          step: '01:00',\r\n                          end: '24:00',\r\n                          minTime: form.onlineStart\r\n                        }\">\r\n                    </el-time-select>\r\n                </el-form-item>\r\n                <el-form-item label=\"签名\" prop=\"signature\">\r\n                    <el-input v-model=\"form.signature\" placeholder=\"请输入\" />\r\n                </el-form-item>\r\n                <el-form-item label=\"是否启用\" prop=\"isOpen\">\r\n                    <el-switch v-model=\"form.isOpen\"/>\r\n                </el-form-item>\r\n                <el-form-item label=\"图片\" prop=\"photoIds\">\r\n                    <div class=\"img\">\r\n                        <el-upload\r\n                            action=\"\"\r\n                            :limit=\"10\"\r\n                            :on-preview=\"previewPhoto\"\r\n                            :on-change=\"successPhoto\"\r\n                            list-type=\"picture-card\"\r\n                            :file-list=\"form.photos\"\r\n                            :auto-upload=\"false\"\r\n                        >\r\n                            <i class=\"el-icon-plus\"></i>\r\n                        </el-upload>\r\n                        <el-dialog :visible.sync=\"imgDialogVisible\" :modal-append-to-body=\"true\" append-to-body>\r\n                            <img width=\"100%\" :src=\"form.avatar\" alt />\r\n                        </el-dialog>\r\n                    </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"视频\" prop=\"videoIds\">\r\n                    <div class=\"img\">\r\n                        <el-upload\r\n                            action=\"\"\r\n                            :limit=\"10\"\r\n                            :on-preview=\"previewVideo\"\r\n                            :on-change=\"successVideo\"\r\n                            list-type=\"picture-card\"\r\n                            :file-list=\"form.videos\"\r\n                            :auto-upload=\"false\"\r\n                        >\r\n                            <i class=\"el-icon-plus\"></i>\r\n                        </el-upload>\r\n                        <el-dialog :visible.sync=\"imgDialogVisible\" :modal-append-to-body=\"true\" append-to-body>\r\n                            <img width=\"100%\" :src=\"form.video\" alt />\r\n                        </el-dialog>\r\n                    </div>\r\n                </el-form-item>\r\n\r\n                <el-form-item class=\"submit-box\">\r\n                    <el-button type=\"primary\" @click=\"submitForm()\" style=\"margin-right: 50px\">确&nbsp;&nbsp;&nbsp;定</el-button>\r\n                    <el-button @click=\"resetForm()\">重&nbsp;&nbsp;&nbsp;置</el-button>\r\n                </el-form-item>\r\n            </el-form>\r\n        </div>\r\n\r\n\r\n        <el-card shadow=\"always\" style=\"padding-top: 30px;padding-bottom: 50px\">\r\n            <!-- 表格栏 -->\r\n            <el-table\r\n                ref=\"multipleTable\"\r\n                v-loading=\"listLoading\"\r\n                :data=\"tableData\"\r\n                tooltip-effect=\"dark\"\r\n                style=\"width: 100%\"\r\n                size=\"medium\"\r\n            >\r\n                <el-table-column prop=\"uid\" label=\"日期\" align=\"center\" width=\"150\" />\r\n                <el-table-column prop=\"nickname\" label=\"产品\" align=\"center\" width=\"200\" />\r\n                <el-table-column prop=\"unionname\" label=\"地区\" align=\"center\" width=\"220\" />\r\n                <el-table-column prop=\"balance\" label=\"活跃用户\" align=\"center\" width=\"120\"/>\r\n                <el-table-column prop=\"settle\" label=\"整体收入\" align=\"center\" width=\"120\"/>\r\n                <el-table-column prop=\"call\" label=\"整体付费率\" align=\"center\" width=\"120\"/>\r\n                <el-table-column prop=\"gift\" label=\"vip付费率\" align=\"center\" width=\"120\"/>\r\n                <el-table-column prop=\"other\" label=\"ARPU\" align=\"center\" width=\"120\"/>\r\n                <el-table-column prop=\"reward\" label=\"ARPPU\" align=\"center\"/>\r\n            </el-table>\r\n            <!-- 分页栏 -->\r\n            <Pagination :total=\"total\" :page.sync=\"search.currentPage\" :limit.sync=\"search.pageSize\"\r\n                        @pagination=\"fetchData\"/>\r\n        </el-card>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getToken } from \"@/utils/cookie\";\r\nimport { getAreas, getOccupationType } from \"@/utils/common\";\r\nimport axios from \"axios\";\r\nimport ImgUpdate from '@/components/ImgUpdate'\r\n\r\nexport default {\r\n    components: { ImgUpdate },\r\n    data() {\r\n        return {\r\n            search: {\r\n                id: 0\r\n            },\r\n            dialogVisible: false,\r\n            areaData: getAreas(),\r\n            occupationTypes: getOccupationType(),\r\n            rules: {\r\n                nickname: [\r\n                    {required: true, message: '内容不能为空', trigger: 'change'}\r\n                ],\r\n                areaId: [\r\n                    {required: true, message: '内容不能为空', trigger: 'blur'}\r\n                ]\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        init(row){\r\n            this.search.id = row.id\r\n            // const $this = this\r\n            // this.$service.anchor.getAnchorList(this.search, function (result){\r\n            //     const list = result.getAnchorsList()\r\n            // });\r\n        },\r\n        // 弹框\r\n        toDialog(component, row){\r\n            this.$refs[component].dialogVisible = true\r\n            this.$nextTick(()=>{\r\n                this.$refs[component].init(row)\r\n            })\r\n        },\r\n        resetForm() {\r\n            this.$refs.ruleForm.resetFields()\r\n        },\r\n        closeDialog() {\r\n            this.dialogVisible = false\r\n            this.avatarArr = []\r\n            this.resetForm()\r\n            this.$emit('fetchData');\r\n        },\r\n        previewAvatar(file) {\r\n            this.imgDialogVisible = true;\r\n        },\r\n        previewPhoto(file){\r\n            this.imgDialogVisible = true;\r\n        },\r\n        previewVideo(file){\r\n            this.imgDialogVisible = true;\r\n        },\r\n        successAvatar(file) {\r\n            const $this = this\r\n            this.imgUpload(file.raw, 1, function (data){\r\n                $this.form.avatar = data.uri\r\n            })\r\n        },\r\n        successPhoto(file) {\r\n            const $this = this\r\n            this.imgUpload(file.raw, 1, function (data){\r\n                $this.form.photoIds.push(data.id)\r\n            })\r\n        },\r\n        successVideo(file) {\r\n            const $this = this\r\n            this.imgUpload(file.raw, 2, function (data){\r\n                $this.form.videoIds.push(data.id)\r\n                $this.form.video = data.id\r\n            })\r\n        },\r\n        imgUpload(file, type, callback){\r\n            let headers = {\r\n                'Content-Type': 'multipart/form-data',\r\n                \"token\" : getToken(),\r\n                \"area-id\" : 1,\r\n                \"file-type\" : type\r\n            }\r\n            const formData = new FormData()\r\n            formData.append('file', file)\r\n            axios({\r\n                url: 'http://101.33.118.232:8101/file/upload',\r\n                method: 'post',\r\n                data: formData,\r\n                headers: headers\r\n            }).then(res => {\r\n                const data = res.data\r\n                callback(data)\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.avatar-upload {\r\n    .content-box {\r\n        height: 320px;\r\n\r\n        .el-upload {\r\n            display: block;\r\n        }\r\n\r\n        .icon-small {\r\n            padding: 8px 24px;\r\n\r\n            .el-icon-upload {\r\n                font-size: 14px;\r\n                margin-right: 3px;\r\n            }\r\n        }\r\n    }\r\n}\r\n.form-list-wrapper {\r\n    .el-card {\r\n    }\r\n\r\n    .form-list {\r\n        width: 80%;\r\n        margin: 0 auto;\r\n\r\n        .el-rate {\r\n            line-height: 2;\r\n        }\r\n\r\n        > .el-form-item {\r\n            margin-bottom: 22px;\r\n\r\n            .line {\r\n                text-align: center;\r\n            }\r\n\r\n            .tip-title {\r\n                text-align: right;\r\n                color: #606266;\r\n            }\r\n        }\r\n\r\n        .submit-box {\r\n            margin-top: 35px;\r\n            margin-left: 0;\r\n            text-align: center;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]}]}