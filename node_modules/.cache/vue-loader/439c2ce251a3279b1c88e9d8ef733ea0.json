{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-manage/src/views/manage/anchor/video-list2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-manage/src/views/manage/anchor/video-list2.vue","mtime":1626174326174},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-manage/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7Z2V0VGFibGVMaXN0fSBmcm9tICcuLi8uLi8uLi9hcGknCmltcG9ydCBQYWdpbmF0aW9uIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvUGFnaW5hdGlvbicKaW1wb3J0IFZ1ZVZpZGVvUGxheWVyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvVnVlVmlkZW9QbGF5ZXInCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnVGFibGUnLAogICAgY29tcG9uZW50czoge1BhZ2luYXRpb24sIFZ1ZVZpZGVvUGxheWVyfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8g5pWw5o2u5YiX6KGo5Yqg6L295Yqo55S7CiAgICAgICAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICAgICAgICAvLyDmn6Xor6LliJfooajlj4LmlbDlr7nosaEKICAgICAgICAgICAgbGlzdFF1ZXJ5OiB7fSwKICAgICAgICAgICAgLy8g5pWw5o2u5oC75p2h5pWwCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICBwbGF5VmlzaWJsZTogZmFsc2UsCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5mZXRjaERhdGEoKQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICB2aWRlb0xpc3RJbml0KHVpZCl7CiAgICAgICAgICAgIGFsZXJ0KHVpZCk7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJpbml0IHVpZDoiICsgdWlkKTsKICAgICAgICAgICAgdGhpcy5mZXRjaERhdGEoKQogICAgICAgIH0sCiAgICAgICAgLy8g6I635Y+W5pWw5o2u5YiX6KGoCiAgICAgICAgZmV0Y2hEYXRhKCkgewogICAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICAgICAgICBsZXQgdXJsID0gImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9kYXRhL2FuY2hvci1tYW5hZ2UuanNvbiIKICAgICAgICAgICAgLy8g6I635Y+W5pWw5o2u5YiX6KGo5o6l5Y+jCiAgICAgICAgICAgIGdldFRhYmxlTGlzdCh0aGlzLmxpc3RRdWVyeSwgdXJsKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgICAgIGlmIChkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsID0gZGF0YS5kYXRhLnRvdGFsCiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJsZURhdGEgPSBkYXRhLmRhdGEubGlzdAogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICAgICAgfSkKICAgICAgICB9LAogICAgICAgIHBsYXk6IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICAgICAgbGV0IHNyYyA9ICdodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvYmFpbWluZ3h1YW4vbWVkaWEtc3RvcmUvdmlkZW9zL2hvdWxhbmcubXA0JwogICAgICAgICAgICB0aGlzLiRyZWZzLm15VmlkZW9QbGF5ZXIuaW5pdFNyYyhzcmMpCiAgICAgICAgICAgIC8vdGhpcy5wbGF5VmlzaWJsZSA9IHRydWU7CiAgICAgICAgICAgIC8vdGhpcy52aWRlb1VybCA9IHJvdy52aWRlb1BhdGg7CiAgICAgICAgfSwKICAgICAgICBjbG9zZVZpZGVvOiBmdW5jdGlvbiAoKXsKICAgICAgICAgICAgdGhpcy52aWRlb1Zpc2libGUgPSBmYWxzZTsKICAgICAgICB9LAogICAgICAgIC8vIOWIoOmZpAogICAgICAgIGhhbmRsZVJlZnVzZShpbmRleCwgcm93KSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGluZGV4LCByb3cpCiAgICAgICAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuWIoOmZpD8nLCAn5o+Q56S6JywgewogICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgICAgICAgfSkudGhlbigoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWIoOmZpCEnCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgICAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+W3suWPlua2iCcKICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["video-list2.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"video-list2.vue","sourceRoot":"src/views/manage/anchor","sourcesContent":["<template>\n    <div class=\"table-classic-wrapper\">\n        <el-card shadow=\"always\">\n            <!-- 表格栏 -->\n            <el-table\n                ref=\"multipleTable\"\n                v-loading=\"listLoading\"\n                :data=\"tableData\"\n                tooltip-effect=\"dark\"\n                style=\"width: 100%\"\n                size=\"medium\"\n                @selection-change=\"handleSelectionChange\"\n            >\n                <el-table-column prop=\"video\" label=\"视频\" align=\"center\" width=\"300\">\n                    <template scope=\"scope\">\n                        <el-image @click=\"play(scope.row)\" style=\"width: 50px; height: 50px\" :src=\"scope.row.video\" ></el-image>\n                    </template>\n                </el-table-column>\n                <el-table-column prop=\"onlineStatus\" label=\"在线状态\" align=\"center\" width=\"200\">\n                    <template slot-scope=\"scope\">\n                        <div slot=\"reference\">\n                            <el-tag size=\"medium\">{{ scope.row.onlineStatus }}</el-tag>\n                        </div>\n                    </template>\n                </el-table-column>\n\n                <el-table-column prop=\"lastLoginTime\" label=\"录制时间\" align=\"center\"/>\n                <el-table-column label=\"操作\" align=\"center\">\n                    <template slot-scope=\"scope\">\n                        <el-button type=\"success\" plain size=\"mini\" @click=\"handleRefuse(scope.$index, scope.row)\">删除</el-button>\n                    </template>\n                </el-table-column>\n            </el-table>\n            <!-- 分页栏 -->\n            <Pagination :total=\"total\" :page.sync=\"listQuery.currentPage\" :limit.sync=\"listQuery.pageSize\"\n                        @pagination=\"fetchData\"/>\n\n            <el-dialog\n                title=\"播放视频\"\n                :visible.sync=\"playVisible\"\n                width=\"370px\"\n                :before-close=\"playVisible\">\n                <div class=\"content-item\">\n                    <VueVideoPlayer ref=\"myVideoPlayer\"></VueVideoPlayer>\n                </div>\n            </el-dialog>\n        </el-card>\n    </div>\n</template>\n\n<script>\nimport {getTableList} from '../../../api'\nimport Pagination from '../../../components/Pagination'\nimport VueVideoPlayer from '../../../components/VueVideoPlayer'\n\nexport default {\n    name: 'Table',\n    components: {Pagination, VueVideoPlayer},\n    data() {\n        return {\n            // 数据列表加载动画\n            listLoading: true,\n            // 查询列表参数对象\n            listQuery: {},\n            // 数据总条数\n            total: 0,\n            playVisible: false,\n        }\n    },\n    created() {\n        this.fetchData()\n    },\n    methods: {\n        videoListInit(uid){\n            alert(uid);\n            console.log(\"init uid:\" + uid);\n            this.fetchData()\n        },\n        // 获取数据列表\n        fetchData() {\n            this.listLoading = true\n            let url = \"http://localhost:8000/data/anchor-manage.json\"\n            // 获取数据列表接口\n            getTableList(this.listQuery, url).then(res => {\n                const data = res.data\n                if (data.code === 0) {\n                    this.total = data.data.total\n                    this.tableData = data.data.list\n                    this.listLoading = false\n                }\n            }).catch(() => {\n                this.listLoading = false\n            })\n        },\n        play: function (row) {\n            let src = 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/videos/houlang.mp4'\n            this.$refs.myVideoPlayer.initSrc(src)\n            //this.playVisible = true;\n            //this.videoUrl = row.videoPath;\n        },\n        closeVideo: function (){\n            this.videoVisible = false;\n        },\n        // 删除\n        handleRefuse(index, row) {\n            console.log(index, row)\n            this.$confirm('是否删除?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                this.$message({\n                    type: 'success',\n                    message: '已删除!'\n                })\n            }).catch(() => {\n                this.$message({\n                    type: 'info',\n                    message: '已取消'\n                })\n            })\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n\n</style>\n"]}]}