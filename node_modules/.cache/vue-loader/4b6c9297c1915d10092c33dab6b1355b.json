{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin-design/src/views/Login.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/src/views/Login.vue","mtime":1624592419635},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubG9naW4td3JhcHBlciB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwdmg7CiAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAuZm9ybS1ib3ggewogICAgd2lkdGg6IDMyMHB4OwogICAgcGFkZGluZzogMTVweCAzMHB4IDIwcHg7CiAgICBiYWNrZ3JvdW5kOiAjZmZmOwogICAgYm9yZGVyLXJhZGl1czogNHB4OwogICAgYm94LXNoYWRvdzogMCAxNXB4IDMwcHggMCByZ2JhKDAsIDAsIDEsIC4xKTsKICAgIC5mb3JtLXRpdGxlIHsKICAgICAgbWFyZ2luOiAwIGF1dG8gMzVweDsKICAgICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgICBjb2xvcjogIzcwNzA3MDsKICAgICAgZm9udC1zaXplOiAxOHB4OwogICAgICBsZXR0ZXItc3BhY2luZzogMnB4OwogICAgfQogIH0KfQo="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"login-wrapper\" :style=\"'background-image:url('+ Background +')'\">\n    <div class=\"form-box\">\n      <div class=\"form-title\">\n        <img src=\"../assets/img/logo2.png\" alt=\"icon\">\n        <p>账 号 登 录</p>\n      </div>\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"loginRules\" label-width=\"0px\" class=\"login-form\">\n        <el-form-item prop=\"username\">\n          <el-input v-model=\"loginForm.username\" type=\"text\" auto-complete=\"off\" placeholder=\"请输入账号\" prefix-icon=\"el-icon-user\" />\n        </el-form-item>\n        <el-form-item prop=\"password\">\n          <el-input v-model=\"loginForm.password\" type=\"password\" auto-complete=\"off\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" @keyup.enter.native=\"handleLogin\" />\n        </el-form-item>\n        <el-form-item>\n          <el-checkbox v-model=\"loginForm.rememberMe\">记住我</el-checkbox>\n        </el-form-item>\n        <el-form-item>\n          <el-button :loading=\"loading\" size=\"small\" type=\"primary\" style=\"width:100%;\" @click.native.prevent=\"handleLogin\">\n            <span v-if=\"!loading\">登 录</span>\n            <span v-else>登 录 中...</span>\n          </el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { login } from '../api/login'\nimport { setToken } from '../utils/cookie'\nimport Background from '../assets/img/login-background.jpg'\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      Background,\n      loginForm: {\n        username: 'admin',\n        password: 'admin123',\n        rememberMe: true\n      },\n      loginRules: {\n        username: [{ required: true, trigger: 'blur', message: '用户名不能为空' }],\n        password: [{ required: true, trigger: 'blur', message: '密码不能为空' }]\n      },\n      loading: false,\n      redirect: undefined\n    }\n  },\n  watch: {\n    $route: {\n      handler: function(route) {\n        this.redirect = route.query && route.query.redirect\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        const data = {\n          username: this.loginForm.username,\n          password: this.loginForm.password\n        }\n        if (valid) {\n          alert(valid)\n          alert(this.redirect)\n          setToken(\"11111111111\")\n          this.$router.push({ path: this.redirect || '/' })\n          // login(data).then(res => {\n          //   this.loading = false\n          //   setToken(res.token)\n          //   this.$router.push({ path: this.redirect || '/' })\n          // }).catch(() => {\n          //   this.loading = false\n          // })\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"less\">\n.login-wrapper {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  background-size: cover;\n  .form-box {\n    width: 320px;\n    padding: 15px 30px 20px;\n    background: #fff;\n    border-radius: 4px;\n    box-shadow: 0 15px 30px 0 rgba(0, 0, 1, .1);\n    .form-title {\n      margin: 0 auto 35px;\n      text-align: center;\n      color: #707070;\n      font-size: 18px;\n      letter-spacing: 2px;\n    }\n  }\n}\n</style>\n"]}]}