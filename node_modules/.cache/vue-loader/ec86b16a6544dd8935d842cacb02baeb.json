{"remainingRequest":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js??vue-loader-options!/home/mengy/Documents/iwork/kafo/vue-admin-design/src/components/Editor/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/src/components/Editor/index.vue","mtime":1624500048818},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/_vue-loader@15.9.7@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRSBmcm9tICd3YW5nZWRpdG9yJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICdFZGl0b3InLA0KICBwcm9wczogew0KICAgIHZhbHVlOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICBkZWZhdWx0OiAnJw0KICAgIH0sDQogICAgcGxhY2Vob2xkZXI6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICcnDQogICAgfQ0KICB9LA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBlZGl0b3I6IG51bGwNCiAgICB9DQogIH0sDQogIHdhdGNoOiB7DQogICAgdmFsdWUodmFsKSB7DQogICAgICB0aGlzLmVkaXRvci50eHQuaHRtbCh2YWwpDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZWRpdG9yID0gbmV3IEUodGhpcy4kcmVmcy5lZGl0b3JFbGUpDQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLm9uY2hhbmdlID0gKGh0bWwpID0+IHsNCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgaHRtbCkNCiAgICB9DQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEltZ1NlcnZlciA9ICfkvaDnmoTkuIrkvKDlm77niYfnmoTmjqXlj6MnDQogICAgdGhpcy5lZGl0b3IuY3VzdG9tQ29uZmlnLnVwbG9hZEZpbGVOYW1lID0gJ+S9oOiHquWumuS5ieeahOaWh+S7tuWQjScNCiAgICAvLyDkuIvpnaLmmK/mnIDph43opoHnmoTnmoTmlrnms5UNCiAgICB0aGlzLmVkaXRvci5jdXN0b21Db25maWcudXBsb2FkSW1nSG9va3MgPSB7DQogICAgICBiZWZvcmU6IGZ1bmN0aW9uKHhociwgZWRpdG9yLCBmaWxlcykgew0KICAgICAgICAvLyDlm77niYfkuIrkvKDkuYvliY3op6blj5ENCiAgICAgICAgLy8geGhyIOaYryBYTUxIdHRwUmVxdXN0IOWvueixoe+8jGVkaXRvciDmmK/nvJbovpHlmajlr7nosaHvvIxmaWxlcyDmmK/pgInmi6nnmoTlm77niYfmlofku7YNCg0KICAgICAgICAvLyDlpoLmnpzov5Tlm57nmoTnu5PmnpzmmK8ge3ByZXZlbnQ6IHRydWUsIG1zZzogJ3h4eHgnfSDliJnooajnpLrnlKjmiLfmlL7lvIPkuIrkvKANCiAgICAgICAgLy8gcmV0dXJuIHsNCiAgICAgICAgLy8gICAgIHByZXZlbnQ6IHRydWUsDQogICAgICAgIC8vICAgICBtc2c6ICfmlL7lvIPkuIrkvKAnDQogICAgICAgIC8vIH0NCiAgICAgIH0sDQogICAgICBzdWNjZXNzOiBmdW5jdGlvbih4aHIsIGVkaXRvciwgcmVzdWx0KSB7DQogICAgICAgIC8vIOWbvueJh+S4iuS8oOW5tui/lOWbnue7k+aenO+8jOWbvueJh+aPkuWFpeaIkOWKn+S5i+WQjuinpuWPkQ0KICAgICAgICAvLyB4aHIg5pivIFhNTEh0dHBSZXF1c3Qg5a+56LGh77yMZWRpdG9yIOaYr+e8lui+keWZqOWvueixoe+8jHJlc3VsdCDmmK/mnI3liqHlmajnq6/ov5Tlm57nmoTnu5PmnpwNCiAgICAgICAgdGhpcy5pbWdVcmwgPSBPYmplY3QudmFsdWVzKHJlc3VsdC5kYXRhKS50b1N0cmluZygpDQogICAgICB9LA0KICAgICAgZmFpbDogZnVuY3Rpb24oeGhyLCBlZGl0b3IsIHJlc3VsdCkgew0KICAgICAgICAvLyDlm77niYfkuIrkvKDlubbov5Tlm57nu5PmnpzvvIzkvYblm77niYfmj5LlhaXplJnor6/ml7bop6blj5ENCiAgICAgICAgLy8geGhyIOaYryBYTUxIdHRwUmVxdXN0IOWvueixoe+8jGVkaXRvciDmmK/nvJbovpHlmajlr7nosaHvvIxyZXN1bHQg5piv5pyN5Yqh5Zmo56uv6L+U5Zue55qE57uT5p6cDQogICAgICB9LA0KICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZWRpdG9yKSB7DQogICAgICAgIC8vIOWbvueJh+S4iuS8oOWHuumUmeaXtuinpuWPkQ0KICAgICAgICAvLyB4aHIg5pivIFhNTEh0dHBSZXF1c3Qg5a+56LGh77yMZWRpdG9yIOaYr+e8lui+keWZqOWvueixoQ0KICAgICAgfSwNCiAgICAgIHRpbWVvdXQ6IGZ1bmN0aW9uKHhociwgZWRpdG9yKSB7DQogICAgICAgIC8vIOWbvueJh+S4iuS8oOi2heaXtuaXtuinpuWPkQ0KICAgICAgICAvLyB4aHIg5pivIFhNTEh0dHBSZXF1c3Qg5a+56LGh77yMZWRpdG9yIOaYr+e8lui+keWZqOWvueixoQ0KICAgICAgfSwNCg0KICAgICAgLy8g5aaC5p6c5pyN5Yqh5Zmo56uv6L+U5Zue55qE5LiN5pivIHtlcnJubzowLCBkYXRhOiBbLi4uXX0g6L+Z56eN5qC85byP77yM5Y+v5L2/55So6K+l6YWN572uDQogICAgICAvLyDvvIjkvYbmmK/vvIzmnI3liqHlmajnq6/ov5Tlm57nmoTlv4XpobvmmK/kuIDkuKogSlNPTiDmoLzlvI/lrZfnrKbkuLLvvIHvvIHvvIHlkKbliJnkvJrmiqXplJnvvIkNCiAgICAgIGN1c3RvbUluc2VydDogZnVuY3Rpb24oaW5zZXJ0SW1nLCByZXN1bHQsIGVkaXRvcikgew0KICAgICAgICAvLyDlm77niYfkuIrkvKDlubbov5Tlm57nu5PmnpzvvIzoh6rlrprkuYnmj5LlhaXlm77niYfnmoTkuovku7bvvIjogIzkuI3mmK/nvJbovpHlmajoh6rliqjmj5LlhaXlm77niYfvvIHvvIHvvIHvvIkNCiAgICAgICAgLy8gaW5zZXJ0SW1nIOaYr+aPkuWFpeWbvueJh+eahOWHveaVsO+8jGVkaXRvciDmmK/nvJbovpHlmajlr7nosaHvvIxyZXN1bHQg5piv5pyN5Yqh5Zmo56uv6L+U5Zue55qE57uT5p6cDQoNCiAgICAgICAgLy8g5Li+5L6L77ya5YGH5aaC5LiK5Lyg5Zu+54mH5oiQ5Yqf5ZCO77yM5pyN5Yqh5Zmo56uv6L+U5Zue55qE5pivIHt1cmw6Jy4uLi4nfSDov5nnp43moLzlvI/vvIzljbPlj6/ov5nmoLfmj5LlhaXlm77niYfvvJoNCiAgICAgICAgLy8gcmVzdWx0LmRhdGHlsLHmmK/mnI3liqHlmajov5Tlm57nmoTlm77niYflkI3lrZflkozpk77mjqUNCiAgICAgICAgY29uc3QgdXJsID0gT2JqZWN0LnZhbHVlcyhyZXN1bHQuZGF0YSkNCiAgICAgICAgLy8g5Zyo6L+Z6YeM6L2s5oiQSlNPTuagvOW8jw0KICAgICAgICBKU09OLnN0cmluZ2lmeSh1cmwpDQogICAgICAgIGluc2VydEltZyh1cmwpDQogICAgICAgIC8vIHJlc3VsdCDlv4XpobvmmK/kuIDkuKogSlNPTiDmoLzlvI/lrZfnrKbkuLLvvIHvvIHvvIHlkKbliJnmiqXplJkNCiAgICAgIH0NCiAgICB9DQoNCiAgICAvLyDliJvlu7rlr4zmlofmnKzlrp7kvosNCiAgICB0aGlzLmVkaXRvci5jcmVhdGUoKQ0KICAgIHRoaXMuZWRpdG9yLnR4dC5odG1sKHRoaXMucGxhY2Vob2xkZXIpDQogIH0sDQogIGJlZm9yZURlc3Ryb3koKSB7DQogICAgdGhpcy5lZGl0b3IuZGVzdHJveSgpDQogIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;AAOA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/Editor","sourcesContent":["<template>\r\n  <div class=\"editor-wrapper\">\r\n    <div ref=\"editorEle\" class=\"editor-container\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport E from 'wangeditor'\r\n\r\nexport default {\r\n  name: 'Editor',\r\n  props: {\r\n    value: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    placeholder: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      editor: null\r\n    }\r\n  },\r\n  watch: {\r\n    value(val) {\r\n      this.editor.txt.html(val)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.editor = new E(this.$refs.editorEle)\r\n    this.editor.customConfig.onchange = (html) => {\r\n      this.$emit('input', html)\r\n    }\r\n    this.editor.customConfig.uploadImgServer = '你的上传图片的接口'\r\n    this.editor.customConfig.uploadFileName = '你自定义的文件名'\r\n    // 下面是最重要的的方法\r\n    this.editor.customConfig.uploadImgHooks = {\r\n      before: function(xhr, editor, files) {\r\n        // 图片上传之前触发\r\n        // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象，files 是选择的图片文件\r\n\r\n        // 如果返回的结果是 {prevent: true, msg: 'xxxx'} 则表示用户放弃上传\r\n        // return {\r\n        //     prevent: true,\r\n        //     msg: '放弃上传'\r\n        // }\r\n      },\r\n      success: function(xhr, editor, result) {\r\n        // 图片上传并返回结果，图片插入成功之后触发\r\n        // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象，result 是服务器端返回的结果\r\n        this.imgUrl = Object.values(result.data).toString()\r\n      },\r\n      fail: function(xhr, editor, result) {\r\n        // 图片上传并返回结果，但图片插入错误时触发\r\n        // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象，result 是服务器端返回的结果\r\n      },\r\n      error: function(xhr, editor) {\r\n        // 图片上传出错时触发\r\n        // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象\r\n      },\r\n      timeout: function(xhr, editor) {\r\n        // 图片上传超时时触发\r\n        // xhr 是 XMLHttpRequst 对象，editor 是编辑器对象\r\n      },\r\n\r\n      // 如果服务器端返回的不是 {errno:0, data: [...]} 这种格式，可使用该配置\r\n      // （但是，服务器端返回的必须是一个 JSON 格式字符串！！！否则会报错）\r\n      customInsert: function(insertImg, result, editor) {\r\n        // 图片上传并返回结果，自定义插入图片的事件（而不是编辑器自动插入图片！！！）\r\n        // insertImg 是插入图片的函数，editor 是编辑器对象，result 是服务器端返回的结果\r\n\r\n        // 举例：假如上传图片成功后，服务器端返回的是 {url:'....'} 这种格式，即可这样插入图片：\r\n        // result.data就是服务器返回的图片名字和链接\r\n        const url = Object.values(result.data)\r\n        // 在这里转成JSON格式\r\n        JSON.stringify(url)\r\n        insertImg(url)\r\n        // result 必须是一个 JSON 格式字符串！！！否则报错\r\n      }\r\n    }\r\n\r\n    // 创建富文本实例\r\n    this.editor.create()\r\n    this.editor.txt.html(this.placeholder)\r\n  },\r\n  beforeDestroy() {\r\n    this.editor.destroy()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n  .editor-wrapper{\r\n    .editor-container{\r\n      text-align:left;\r\n      box-shadow: rgba(0, 0, 0, 0.1) 0 2px 12px 0;\r\n      .w-e-toolbar{\r\n        padding: 5px;\r\n        border: none!important;\r\n      }\r\n      .w-e-text-container{\r\n        min-height: 450px !important;\r\n        border: none!important;\r\n        .w-e-text{\r\n          padding: 10px;\r\n          overflow-y: auto;\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]}]}