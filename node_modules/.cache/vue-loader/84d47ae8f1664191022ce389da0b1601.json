{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCropper.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCropper.vue","mtime":1626074721762},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7VnVlQ3JvcHBlcn0gZnJvbSAndnVlLWNyb3BwZXInCmltcG9ydCBIaW50cyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hpbnRzJwppbXBvcnQgVXBsb2FkSW1hZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9VcGxvYWRJbWFnZScKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdJbWFnZUNyb3BwZXInLAogICAgY29tcG9uZW50czoge0hpbnRzLCBWdWVDcm9wcGVyLCBVcGxvYWRJbWFnZX0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIGNvbmZpZ09iajogewogICAgICAgICAgICAgICAgaW1nU3JjOiAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2JhaW1pbmd4dWFuL21lZGlhLXN0b3JlL2ltYWdlcy9pbWcwMi5qcGcnLAogICAgICAgICAgICAgICAgY2FuTW92ZTogZmFsc2UsCiAgICAgICAgICAgICAgICBhdXRvQ3JvcDogdHJ1ZSwKICAgICAgICAgICAgICAgIGNlbnRlckJveDogdHJ1ZSwKICAgICAgICAgICAgICAgIGluZm9UcnVlOiB0cnVlLAogICAgICAgICAgICAgICAgZnVsbDogdHJ1ZSwKICAgICAgICAgICAgICAgIGF1dG9Dcm9wV2lkdGg6IDMwMCwKICAgICAgICAgICAgICAgIGF1dG9Dcm9wSGVpZ2h0OiAyMDAsCiAgICAgICAgICAgICAgICBvdXRwdXRUeXBlOiAncG5nJwogICAgICAgICAgICB9LAogICAgICAgICAgICBkb3duSW1nOiAnIycsCiAgICAgICAgICAgIHByZXZpZXdzOiB7fQogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlU3VjY2VzcyhkYXRhKSB7CiAgICAgICAgICAgIHRoaXMuY29uZmlnT2JqLmltZ1NyYyA9IGRhdGEKICAgICAgICB9LAogICAgICAgIHJlYWxUaW1lKGRhdGEpIHsKICAgICAgICAgICAgdGhpcy5wcmV2aWV3cyA9IGRhdGEKICAgICAgICB9LAogICAgICAgIGRvd25sb2FkSW1hZ2UoKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5nZXRDcm9wQmxvYihkYXRhID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuZG93bkltZyA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGRhdGEpCiAgICAgICAgICAgICAgICBpZiAod2luZG93Lm5hdmlnYXRvci5tc1NhdmVCbG9iKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYmxvYk9iamVjdCA9IG5ldyBCbG9iKFtkYXRhXSkKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYk9iamVjdCwgJ2RlbW8ucG5nJykKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmRvd25sb2FkRG9tLmNsaWNrKCkKICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["ImageCropper.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageCropper.vue","sourceRoot":"src/views/image","sourcesContent":["<template>\n    <div class=\"image-cropper-wrapper\">\n        <Hints>\n            <template slot=\"hintName\">图片裁剪插件</template>\n            <template slot=\"hintInfo\">\n                <p>Vue-Cropper：一个优雅的图片裁剪插件，可实现图片裁剪、图片生成等功能，并支持生成png、jpeg、webp等图片格式</p>\n                <p>github地址：访问\n                    <el-link type=\"success\" href=\"https://github.com/xyxiao001/vue-cropper\" target=\"_blank\">\n                        Vue-Cropper\n                    </el-link>\n                </p>\n            </template>\n        </Hints>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"10\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">裁剪区域</div>\n                    <div class=\"content-box\" style=\" height: 400px;\">\n                        <VueCropper\n                            ref=\"cropper\"\n                            :img=\"configObj.imgSrc\"\n                            :can-move=\"configObj.canMove\"\n                            :auto-crop=\"configObj.autoCrop\"\n                            :center-box=\"configObj.centerBox\"\n                            :info-true=\"configObj.infoTrue\"\n                            :full=\"configObj.full\"\n                            :auto-crop-width=\"configObj.autoCropWidth\"\n                            :auto-crop-height=\"configObj.autoCropHeight\"\n                            :output-type=\"configObj.outputType\"\n                            @realTime=\"realTime\"\n                        />\n                    </div>\n                </el-card>\n            </el-col>\n            <el-col :span=\"4\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">设置区域</div>\n                    <div class=\"content-box\" style=\" height: 400px;\">\n                        <div style=\"height: 100px;\">\n                            <UploadImage @on-success=\"handleSuccess\"/>\n                            <el-button size=\"small\" type=\"primary\" style=\"margin-top: 20px\">\n                                <a @click=\"downloadImage\">生成图片</a>\n                            </el-button>\n                            <a ref=\"downloadDom\" :href=\"downImg\" download=\"demo.png\"/>\n                        </div>\n                    </div>\n                </el-card>\n            </el-col>\n            <el-col :span=\"10\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">预览区域</div>\n                    <div class=\"content-box\" style=\"height: 400px;\">\n                        <div class=\"show-preview\"\n                             :style=\"{'width': previews.w + 'px', 'height': previews.h + 'px', 'overflow': 'hidden', 'zoom': (400 / previews.h)}\">\n                            <div :style=\"previews.div\">\n                                <img :src=\"previews.url\" :style=\"previews.img\" alt=\"预览\">\n                            </div>\n                        </div>\n                    </div>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport {VueCropper} from 'vue-cropper'\nimport Hints from '../../components/Hints'\nimport UploadImage from '../../components/UploadImage'\n\nexport default {\n    name: 'ImageCropper',\n    components: {Hints, VueCropper, UploadImage},\n    data() {\n        return {\n            configObj: {\n                imgSrc: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img02.jpg',\n                canMove: false,\n                autoCrop: true,\n                centerBox: true,\n                infoTrue: true,\n                full: true,\n                autoCropWidth: 300,\n                autoCropHeight: 200,\n                outputType: 'png'\n            },\n            downImg: '#',\n            previews: {}\n        }\n    },\n    methods: {\n        handleSuccess(data) {\n            this.configObj.imgSrc = data\n        },\n        realTime(data) {\n            this.previews = data\n        },\n        downloadImage() {\n            this.$refs.cropper.getCropBlob(data => {\n                this.downImg = window.URL.createObjectURL(data)\n                if (window.navigator.msSaveBlob) {\n                    const blobObject = new Blob([data])\n                    window.navigator.msSaveBlob(blobObject, 'demo.png')\n                } else {\n                    this.$nextTick(() => {\n                        this.$refs.downloadDom.click()\n                    })\n                }\n            })\n        }\n    }\n}\n</script>\n"]}]}