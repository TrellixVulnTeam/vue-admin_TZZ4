{"remainingRequest":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/Documents/iwork/kafo/vue-admin-design/src/components/VueDrr/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/src/components/VueDrr/index.vue","mtime":1624500048821},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/Documents/iwork/kafo/vue-admin-design/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXRjaGVzU2VsZWN0b3JUb1BhcmVudEVsZW1lbnRzIH0gZnJvbSAnLi91dGlscy9kb20nDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1Z1ZURycicsDQogIHByb3BzOiB7DQogICAgYWN0aXZlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIGRyYWdnYWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHJlc2l6YWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIHJvdGF0YWJsZTogew0KICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgIGRlZmF1bHQ6IHRydWUNCiAgICB9LA0KICAgIGNhbkRlYWN0aXZlOiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogdHJ1ZQ0KICAgIH0sDQogICAgdzogew0KICAgICAgdHlwZTogW051bWJlcl0sDQogICAgICBkZWZhdWx0OiAyMDANCiAgICB9LA0KICAgIGg6IHsNCiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sDQogICAgICBkZWZhdWx0OiAyOCwNCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odmFsKSB7DQogICAgICAgIGNvbnN0IHZhbGlkID0gKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSA/IHZhbCA9PT0gJ2F1dG8nIDogdmFsID49IDANCiAgICAgICAgcmV0dXJuIHZhbGlkDQogICAgICB9DQogICAgfSwNCiAgICByYXRpbzogew0KICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXQ0KICAgIH0sDQogICAgY29udGFpbnM6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiBmYWxzZQ0KICAgIH0sDQogICAgbWludzogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMjgsDQogICAgICB2YWxpZGF0b3IodmFsKSB7DQogICAgICAgIHJldHVybiB2YWwgPiAwDQogICAgICB9DQogICAgfSwNCiAgICBtaW5oOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAyOCwNCiAgICAgIHZhbGlkYXRvcih2YWwpIHsNCiAgICAgICAgcmV0dXJuIHZhbCA+IDANCiAgICAgIH0NCiAgICB9LA0KICAgIGFuZ2xlOiB7DQogICAgICB0eXBlOiBOdW1iZXIsDQogICAgICBkZWZhdWx0OiAwLA0KICAgICAgdmFsaWRhdG9yKHZhbCkgew0KICAgICAgICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcicNCiAgICAgIH0NCiAgICB9LA0KICAgIHg6IHsNCiAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgIGRlZmF1bHQ6IDAsDQogICAgICB2YWxpZGF0b3IodmFsKSB7DQogICAgICAgIHJldHVybiB0eXBlb2YgdmFsID09PSAnbnVtYmVyJw0KICAgICAgfQ0KICAgIH0sDQogICAgeTogew0KICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgZGVmYXVsdDogMCwNCiAgICAgIHZhbGlkYXRvcih2YWwpIHsNCiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YWwgPT09ICdudW1iZXInDQogICAgICB9DQogICAgfSwNCiAgICB6OiB7DQogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLA0KICAgICAgZGVmYXVsdDogJ2F1dG8nLA0KICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2YWwpIHsNCiAgICAgICAgY29uc3QgdmFsaWQgPSAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpID8gdmFsID09PSAnYXV0bycgOiB2YWwgPj0gMA0KICAgICAgICByZXR1cm4gdmFsaWQNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZXM6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIFsnbicsICdlJywgJ3MnLCAndycsICdudycsICduZScsICdzZScsICdzdyddDQogICAgICB9LA0KICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2YWwpIHsNCiAgICAgICAgY29uc3QgcyA9IG5ldyBTZXQoWyduJywgJ2UnLCAncycsICd3JywgJ253JywgJ25lJywgJ3NlJywgJ3N3J10pDQoNCiAgICAgICAgcmV0dXJuIG5ldyBTZXQodmFsLmZpbHRlcihoID0+IHMuaGFzKGgpKSkuc2l6ZSA9PT0gdmFsLmxlbmd0aA0KICAgICAgfQ0KICAgIH0sDQogICAgZHJhZ0hhbmRsZTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogbnVsbA0KICAgIH0sDQogICAgZHJhZ0NhbmNlbDogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogbnVsbA0KICAgIH0sDQogICAgYXhpczogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJ2JvdGgnLA0KICAgICAgdmFsaWRhdG9yKHZhbCkgew0KICAgICAgICByZXR1cm4gWyd4JywgJ3knLCAnYm90aCddLmluZGV4T2YodmFsKSAhPT0gLTENCiAgICAgIH0NCiAgICB9LA0KICAgIGdyaWQ6IHsNCiAgICAgIHR5cGU6IEFycmF5LA0KICAgICAgZGVmYXVsdCgpIHsNCiAgICAgICAgcmV0dXJuIFsxLCAxXQ0KICAgICAgfQ0KICAgIH0sDQogICAgcGFyZW50OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIG92ZXJmbG93WTogew0KICAgICAgdHlwZTogU3RyaW5nLA0KICAgICAgZGVmYXVsdDogJycNCiAgICB9DQogIH0sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRvcDogdGhpcy55LA0KICAgICAgbGVmdDogdGhpcy54LA0KICAgICAgd2lkdGg6IHRoaXMudywNCiAgICAgIGhlaWdodDogdGhpcy5oLA0KICAgICAgcm90YXRlQW5nbGU6IHRoaXMuYW5nbGUsDQogICAgICByZXNpemluZzogZmFsc2UsDQogICAgICBkcmFnZ2luZzogZmFsc2UsDQogICAgICByb3RhdGluZzogZmFsc2UsDQogICAgICBlbmFibGVkOiB0aGlzLmFjdGl2ZSwNCiAgICAgIGhhbmRsZTogbnVsbCwNCiAgICAgIHpJbmRleDogdGhpcy56LA0KICAgICAgcGFyZW50VzogOTk5OSwNCiAgICAgIHBhcmVudEg6IDk5OTksDQogICAgICBtb3VzZVg6IDAsDQogICAgICBtb3VzZVk6IDAsDQogICAgICBsYXN0TW91c2VYOiAwLA0KICAgICAgbGFzdE1vdXNlWTogMCwNCiAgICAgIG1vdXNlT2ZmWDogMCwNCiAgICAgIG1vdXNlT2ZmWTogMCwNCiAgICAgIGVsbVg6IDAsDQogICAgICBlbG1ZOiAwLA0KICAgICAgZWxtVzogMCwNCiAgICAgIGVsbUg6IDANCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgc3R5bGUoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICB0b3A6IHRoaXMudG9wICsgJ3B4JywNCiAgICAgICAgbGVmdDogdGhpcy5sZWZ0ICsgJ3B4JywNCiAgICAgICAgd2lkdGg6IHRoaXMud2lkdGggKyAncHgnLA0KICAgICAgICBoZWlnaHQ6IHRoaXMuaGVpZ2h0ICsgJ3B4JywNCiAgICAgICAgdHJhbnNmb3JtOiAncm90YXRlKCcgKyB0aGlzLnJvdGF0ZUFuZ2xlICsgJ2RlZyknLA0KICAgICAgICB6SW5kZXg6IHRoaXMuekluZGV4LA0KICAgICAgICBvdmVyZmxvd1k6IHRoaXMub3ZlcmZsb3dZLA0KICAgICAgICBvdmVyZmxvd1g6ICcnDQogICAgICB9DQogICAgfQ0KICB9LA0KICB3YXRjaDogew0KICAgIGFjdGl2ZSh2YWwpIHsNCiAgICAgIHRoaXMuZW5hYmxlZCA9IHZhbA0KICAgIH0sDQogICAgeCh2YWwpIHsNCiAgICAgIHRoaXMubGVmdCA9IHZhbA0KICAgICAgdGhpcy5lbG1YID0gdmFsDQogICAgfSwNCiAgICB5KHZhbCkgew0KICAgICAgdGhpcy50b3AgPSB2YWwNCiAgICAgIHRoaXMuZWxtWSA9IHZhbA0KICAgIH0sDQogICAgejogZnVuY3Rpb24odmFsKSB7DQogICAgICBpZiAodmFsID49IDAgfHwgdmFsID09PSAnYXV0bycpIHsNCiAgICAgICAgdGhpcy56SW5kZXggPSB2YWwNCiAgICAgIH0NCiAgICB9LA0KICAgIHcodmFsKSB7DQogICAgICB0aGlzLndpZHRoID0gdmFsDQogICAgICB0aGlzLmVsbVcgPSB2YWwNCiAgICB9LA0KICAgIGgodmFsKSB7DQogICAgICB0aGlzLmhlaWdodCA9IHZhbA0KICAgICAgdGhpcy5lbG1IID0gdmFsDQogICAgfSwNCiAgICBhbmdsZSh2YWwpIHsNCiAgICAgIHRoaXMucm90YXRlQW5nbGUgPSB2YWwNCiAgICB9DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVkaXRvci1tYXNrJykgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50DQogICAgY29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMuZGVzZWxlY3QsIGZhbHNlKQ0KICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLmhhbmRsZU1vdmUsIGZhbHNlKQ0KICAgIGNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5oYW5kbGVVcCwgZmFsc2UpDQoNCiAgICAvLyB0b3VjaCBldmVudHMgYmluZGluZ3MNCiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVNb3ZlLCBmYWxzZSkNCiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLmRlc2VsZWN0LCBmYWxzZSkNCiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlVXAsIGZhbHNlKQ0KDQogICAgdGhpcy5lbG1YID0gcGFyc2VJbnQodGhpcy4kZWwuc3R5bGUubGVmdCkNCiAgICB0aGlzLmVsbVkgPSBwYXJzZUludCh0aGlzLiRlbC5zdHlsZS50b3ApDQogICAgdGhpcy5lbG1XID0gdGhpcy4kZWwub2Zmc2V0V2lkdGggfHwgdGhpcy4kZWwuY2xpZW50V2lkdGgNCiAgICB0aGlzLmVsbUggPSB0aGlzLiRlbC5vZmZzZXRIZWlnaHQgfHwgdGhpcy4kZWwuY2xpZW50SGVpZ2h0DQoNCiAgICB0aGlzLnJldmlld0RpbWVuc2lvbnMoKQ0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0b3ItbWFzaycpIHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudA0KICAgIGNvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLmRlc2VsZWN0LCBmYWxzZSkNCiAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5oYW5kbGVNb3ZlLCBmYWxzZSkNCiAgICBjb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMuaGFuZGxlVXAsIGZhbHNlKQ0KDQogICAgLy8gdG91Y2ggZXZlbnRzIGJpbmRpbmdzIHJlbW92ZWQNCiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcy5oYW5kbGVNb3ZlLCBmYWxzZSkNCiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQgdG91Y2hjYW5jZWwnLCB0aGlzLmRlc2VsZWN0LCBmYWxzZSkNCiAgICBjb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIHRoaXMuaGFuZGxlVXAsIGZhbHNlKQ0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcmV2aWV3RGltZW5zaW9ucygpIHsNCiAgICAgIGlmICh0aGlzLm1pbncgPiB0aGlzLncpIHsNCiAgICAgICAgdGhpcy53aWR0aCA9IHRoaXMubWludw0KICAgICAgfQ0KDQogICAgICBpZiAodGhpcy5taW5oID4gdGhpcy5oKSB7DQogICAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5taW5oDQogICAgICB9DQoNCiAgICAgIGlmICh0aGlzLnBhcmVudCkgew0KICAgICAgICBjb25zdCBwYXJlbnRXID0gcGFyc2VJbnQodGhpcy4kZWwucGFyZW50Tm9kZS5jbGllbnRXaWR0aCwgMTApDQogICAgICAgIGNvbnN0IHBhcmVudEggPSBwYXJzZUludCh0aGlzLiRlbC5wYXJlbnROb2RlLmNsaWVudEhlaWdodCwgMTApDQoNCiAgICAgICAgdGhpcy5wYXJlbnRXID0gcGFyZW50Vw0KICAgICAgICB0aGlzLnBhcmVudEggPSBwYXJlbnRIDQoNCiAgICAgICAgaWYgKHRoaXMudyA+IHRoaXMucGFyZW50Vykgew0KICAgICAgICAgIHRoaXMud2lkdGggPSBwYXJlbnRXDQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGhpcy5oID4gdGhpcy5wYXJlbnRIKSB7DQogICAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJlbnRIDQogICAgICAgIH0NCg0KICAgICAgICBpZiAoKHRoaXMueCArIHRoaXMudykgPiB0aGlzLnBhcmVudFcpIHsNCiAgICAgICAgICB0aGlzLndpZHRoID0gcGFyZW50VyAtIHRoaXMueA0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCh0aGlzLnkgKyB0aGlzLmgpID4gdGhpcy5wYXJlbnRIKSB7DQogICAgICAgICAgdGhpcy5oZWlnaHQgPSBwYXJlbnRIIC0gdGhpcy55DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLmVsbVcgPSB0aGlzLndpZHRoDQogICAgICAgIHRoaXMuZWxtSCA9IHRoaXMuaGVpZ2h0DQogICAgICB9DQoNCiAgICAgIHRoaXMuJGVtaXQoJ3Jlc2l6aW5nJywgdGhpcy5sZWZ0LCB0aGlzLnRvcCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpDQogICAgfSwNCiAgICBlbG1Eb3duKGUpIHsNCiAgICAgIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IHx8IGUuc3JjRWxlbWVudA0KICAgICAgaWYgKHRoaXMuJGVsLmNvbnRhaW5zKHRhcmdldCkpIHsNCiAgICAgICAgaWYgKA0KICAgICAgICAgICh0aGlzLmRyYWdIYW5kbGUgJiYgIW1hdGNoZXNTZWxlY3RvclRvUGFyZW50RWxlbWVudHModGFyZ2V0LCB0aGlzLmRyYWdIYW5kbGUsIHRoaXMuJGVsKSkgfHwNCiAgICAgICAgICAodGhpcy5kcmFnQ2FuY2VsICYmIG1hdGNoZXNTZWxlY3RvclRvUGFyZW50RWxlbWVudHModGFyZ2V0LCB0aGlzLmRyYWdDYW5jZWwsIHRoaXMuJGVsKSkpIHsNCiAgICAgICAgICByZXR1cm4NCiAgICAgICAgfQ0KICAgICAgICB0aGlzLnJldmlld0RpbWVuc2lvbnMoKQ0KDQogICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7DQogICAgICAgICAgdGhpcy5lbmFibGVkID0gdHJ1ZQ0KICAgICAgICAgIHRoaXMuJGVtaXQoJ2FjdGl2YXRlZCcpDQogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOmFjdGl2ZScsIHRydWUpDQogICAgICAgIH0NCiAgICAgICAgaWYgKHRoaXMuZHJhZ2dhYmxlKSB7DQogICAgICAgICAgdGhpcy5kcmFnZ2luZyA9IHRydWUNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgIH0sDQogICAgZGVzZWxlY3QoZSkgew0KICAgICAgaWYgKGUudHlwZS5pbmRleE9mKCd0b3VjaCcpICE9PSAtMSkgew0KICAgICAgICB0aGlzLm1vdXNlWCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WA0KICAgICAgICB0aGlzLm1vdXNlWSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5tb3VzZVggPSBlLnBhZ2VYIHx8IGUuY2xpZW50WCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0DQogICAgICAgIHRoaXMubW91c2VZID0gZS5wYWdlWSB8fCBlLmNsaWVudFkgKyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wDQogICAgICB9DQoNCiAgICAgIHRoaXMubGFzdE1vdXNlWCA9IHRoaXMubW91c2VYDQogICAgICB0aGlzLmxhc3RNb3VzZVkgPSB0aGlzLm1vdXNlWQ0KDQogICAgICBjb25zdCB0YXJnZXQgPSBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnQNCiAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cCgnei1oYW5kbGUtKFtuZXN3XXsxLCAyfSknLCAnJykNCiAgICAgIC8vIOeCueWHu+WcqOW9k+WJjee7hOS7tuWklu+8jOWPlua2iGFjdGl2ZeeKtuaAgQ0KICAgICAgaWYgKCF0aGlzLiRlbC5jb250YWlucyh0YXJnZXQpICYmICFyZWdleC50ZXN0KHRhcmdldC5jbGFzc05hbWUpKSB7DQogICAgICAgIGlmICh0aGlzLmVuYWJsZWQpIHsNCiAgICAgICAgICBpZiAodGhpcy5jYW5EZWFjdGl2ZSkgew0KICAgICAgICAgICAgdGhpcy5lbmFibGVkID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ2RlYWN0aXZhdGVkJykNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTphY3RpdmUnLCBmYWxzZSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZVJlc2l6ZVN0YXJ0KGhhbmRsZSwgZSkgew0KICAgICAgdGhpcy5oYW5kbGUgPSBoYW5kbGUNCg0KICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpDQogICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpDQoNCiAgICAgIHRoaXMucmVzaXppbmcgPSB0cnVlDQogICAgfSwNCg0KICAgIGhhbmRsZURvd246IGZ1bmN0aW9uKGhhbmRsZSwgZSkgew0KICAgICAgdGhpcy5oYW5kbGUgPSBoYW5kbGUNCg0KICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSBlLnN0b3BQcm9wYWdhdGlvbigpDQogICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkgZS5wcmV2ZW50RGVmYXVsdCgpDQoNCiAgICAgIHRoaXMucmVzaXppbmcgPSB0cnVlDQogICAgfSwNCiAgICBmaWxsUGFyZW50OiBmdW5jdGlvbihlKSB7DQogICAgICBpZiAoIXRoaXMucGFyZW50IHx8ICF0aGlzLnJlc2l6YWJsZSB8fCAhdGhpcy5tYXhpbWl6ZSkgcmV0dXJuDQoNCiAgICAgIGxldCBkb25lID0gZmFsc2UNCg0KICAgICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHsNCiAgICAgICAgaWYgKCFkb25lKSB7DQogICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRlKQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRoaXMuYXhpcyA9PT0gJ3gnKSB7DQogICAgICAgICAgaWYgKA0KICAgICAgICAgICAgdGhpcy53aWR0aCA9PT0gdGhpcy5wYXJlbnRXICYmIHRoaXMubGVmdCA9PT0gMA0KICAgICAgICAgICkgew0KICAgICAgICAgICAgZG9uZSA9IHRydWUNCiAgICAgICAgICB9DQogICAgICAgIH0gZWxzZSBpZiAodGhpcy5heGlzID09PSAneScpIHsNCiAgICAgICAgICBpZiAoDQogICAgICAgICAgICB0aGlzLmhlaWdodCA9PT0gdGhpcy5wYXJlbnRIICYmIHRoaXMudG9wID09PSAwDQogICAgICAgICAgKSB7DQogICAgICAgICAgICBkb25lID0gdHJ1ZQ0KICAgICAgICAgIH0NCiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmF4aXMgPT09ICdib3RoJykgew0KICAgICAgICAgIGlmICgNCiAgICAgICAgICAgIHRoaXMud2lkdGggPT09IHRoaXMucGFyZW50VyAmJg0KICAgICAgICAgICAgdGhpcy5oZWlnaHQgPT09IHRoaXMucGFyZW50SCAmJg0KICAgICAgICAgICAgdGhpcy50b3AgPT09IDAgJiYNCiAgICAgICAgICAgIHRoaXMubGVmdCA9PT0gMA0KICAgICAgICAgICkgew0KICAgICAgICAgICAgZG9uZSA9IHRydWUNCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGhpcy5heGlzID09PSAneCcgfHwgdGhpcy5heGlzID09PSAnYm90aCcpIHsNCiAgICAgICAgICBpZiAodGhpcy53aWR0aCA8IHRoaXMucGFyZW50Vykgew0KICAgICAgICAgICAgdGhpcy53aWR0aCsrDQogICAgICAgICAgICB0aGlzLmVsbVcrKw0KICAgICAgICAgIH0NCg0KICAgICAgICAgIGlmICh0aGlzLmxlZnQgPiAwKSB7DQogICAgICAgICAgICB0aGlzLmxlZnQtLQ0KICAgICAgICAgICAgdGhpcy5lbG1YLS0NCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGhpcy5heGlzID09PSAneScgfHwgdGhpcy5heGlzID09PSAnYm90aCcpIHsNCiAgICAgICAgICBpZiAodGhpcy5oZWlnaHQgPCB0aGlzLnBhcmVudEgpIHsNCiAgICAgICAgICAgIHRoaXMuaGVpZ2h0KysNCiAgICAgICAgICAgIHRoaXMuZWxtSCsrDQogICAgICAgICAgfQ0KDQogICAgICAgICAgaWYgKHRoaXMudG9wID4gMCkgew0KICAgICAgICAgICAgdGhpcy50b3AtLQ0KICAgICAgICAgICAgdGhpcy5lbG1ZLS0NCiAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLiRlbWl0KCdyZXNpemluZycsIHRoaXMubGVmdCwgdGhpcy50b3AsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KQ0KICAgICAgfQ0KDQogICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKGFuaW1hdGUpDQogICAgfSwNCiAgICBnZXRPcmlnaW4oKSB7DQogICAgICBjb25zdCByZWN0ID0gdGhpcy4kZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkNCiAgICAgIHJldHVybiB7DQogICAgICAgIHg6IChyZWN0LmxlZnQgKyByZWN0LnJpZ2h0KSAvIDIsDQogICAgICAgIHk6IChyZWN0LmJvdHRvbSArIHJlY3QudG9wKSAvIDINCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZU1vdmUoZSkgew0KICAgICAgY29uc3QgbGFzdE1vdXNlWCA9IHRoaXMubGFzdE1vdXNlWA0KICAgICAgY29uc3QgbGFzdE1vdXNlWSA9IHRoaXMubGFzdE1vdXNlWQ0KICAgICAgY29uc3QgaXNUb3VjaE1vdmUgPSBlLnR5cGUuaW5kZXhPZigndG91Y2htb3ZlJykgIT09IC0xDQogICAgICB0aGlzLm1vdXNlWCA9IGlzVG91Y2hNb3ZlDQogICAgICAgID8gZS50b3VjaGVzWzBdLmNsaWVudFgNCiAgICAgICAgOiBlLnBhZ2VYIHx8IGUuY2xpZW50WCArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0DQogICAgICB0aGlzLm1vdXNlWSA9IGlzVG91Y2hNb3ZlDQogICAgICAgID8gZS50b3VjaGVzWzBdLmNsaWVudFkNCiAgICAgICAgOiBlLnBhZ2VZIHx8IGUuY2xpZW50WSArIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ANCg0KICAgICAgbGV0IGRpZmZYID0gdGhpcy5tb3VzZVggLSB0aGlzLmxhc3RNb3VzZVggKyB0aGlzLm1vdXNlT2ZmWA0KICAgICAgbGV0IGRpZmZZID0gdGhpcy5tb3VzZVkgLSB0aGlzLmxhc3RNb3VzZVkgKyB0aGlzLm1vdXNlT2ZmWQ0KDQogICAgICB0aGlzLm1vdXNlT2ZmWCA9IHRoaXMubW91c2VPZmZZID0gMA0KDQogICAgICB0aGlzLmxhc3RNb3VzZVggPSB0aGlzLm1vdXNlWA0KICAgICAgdGhpcy5sYXN0TW91c2VZID0gdGhpcy5tb3VzZVkNCg0KICAgICAgY29uc3QgZFggPSBkaWZmWA0KICAgICAgY29uc3QgZFkgPSBkaWZmWQ0KDQogICAgICBpZiAodGhpcy5yZXNpemluZykgew0KICAgICAgICBpZiAodGhpcy5oYW5kbGUuaW5kZXhPZignbicpID49IDApIHsNCiAgICAgICAgICBpZiAodGhpcy5lbG1IIC0gZFkgPCB0aGlzLm1pbmgpIHsNCiAgICAgICAgICAgIHRoaXMubW91c2VPZmZZID0gKGRZIC0gKGRpZmZZID0gdGhpcy5lbG1IIC0gdGhpcy5taW5oKSkNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMuZWxtWSArIGRZIDwgMCkgew0KICAgICAgICAgICAgdGhpcy5tb3VzZU9mZlkgPSBkWSAtIChkaWZmWSA9IC10aGlzLmVsbVkpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZWxtWSArPSBkaWZmWQ0KICAgICAgICAgIHRoaXMuZWxtSCAtPSBkaWZmWQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKHRoaXMuaGFuZGxlLmluZGV4T2YoJ3MnKSA+PSAwKSB7DQogICAgICAgICAgaWYgKHRoaXMuZWxtSCArIGRZIDwgdGhpcy5taW5oKSB7DQogICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWSA9IChkWSAtIChkaWZmWSA9IHRoaXMubWluaCAtIHRoaXMuZWxtSCkpDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmVudCAmJiB0aGlzLmVsbVkgKyB0aGlzLmVsbUggKyBkWSA+IHRoaXMucGFyZW50SCkgew0KICAgICAgICAgICAgdGhpcy5tb3VzZU9mZlkgPSAoZFkgLSAoZGlmZlkgPSB0aGlzLnBhcmVudEggLSB0aGlzLmVsbVkgLSB0aGlzLmVsbUgpKQ0KICAgICAgICAgIH0NCiAgICAgICAgICB0aGlzLmVsbUggKz0gZGlmZlkNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICh0aGlzLmhhbmRsZS5pbmRleE9mKCd3JykgPj0gMCkgew0KICAgICAgICAgIGlmICh0aGlzLmVsbVcgLSBkWCA8IHRoaXMubWludykgew0KICAgICAgICAgICAgdGhpcy5tb3VzZU9mZlggPSAoZFggLSAoZGlmZlggPSB0aGlzLmVsbVcgLSB0aGlzLm1pbncpKQ0KICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJlbnQgJiYgdGhpcy5lbG1YICsgZFggPCAwKSB7DQogICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWCA9IGRYIC0gKGRpZmZYID0gLXRoaXMuZWxtWCkNCiAgICAgICAgICB9DQogICAgICAgICAgdGhpcy5lbG1YICs9IGRpZmZYDQogICAgICAgICAgdGhpcy5lbG1XIC09IGRpZmZYDQogICAgICAgIH0NCg0KICAgICAgICBpZiAodGhpcy5oYW5kbGUuaW5kZXhPZignZScpID49IDApIHsNCiAgICAgICAgICBpZiAodGhpcy5lbG1XICsgZFggPCB0aGlzLm1pbncpIHsNCiAgICAgICAgICAgIHRoaXMubW91c2VPZmZYID0gKGRYIC0gKGRpZmZYID0gdGhpcy5taW53IC0gdGhpcy5lbG1XKSkNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyZW50ICYmIHRoaXMuZWxtWCArIHRoaXMuZWxtVyArIGRYID4gdGhpcy5wYXJlbnRXKSB7DQogICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWCA9IChkWCAtIChkaWZmWCA9IHRoaXMucGFyZW50VyAtIHRoaXMuZWxtWCAtIHRoaXMuZWxtVykpDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZWxtVyArPSBkaWZmWA0KICAgICAgICB9DQoNCiAgICAgICAgdGhpcy5sZWZ0ID0gKE1hdGgucm91bmQodGhpcy5lbG1YIC8gdGhpcy5ncmlkWzBdKSAqIHRoaXMuZ3JpZFswXSkNCiAgICAgICAgdGhpcy50b3AgPSAoTWF0aC5yb3VuZCh0aGlzLmVsbVkgLyB0aGlzLmdyaWRbMV0pICogdGhpcy5ncmlkWzFdKQ0KDQogICAgICAgIHRoaXMud2lkdGggPSAoTWF0aC5yb3VuZCh0aGlzLmVsbVcgLyB0aGlzLmdyaWRbMF0pICogdGhpcy5ncmlkWzBdKQ0KICAgICAgICB0aGlzLmhlaWdodCA9IChNYXRoLnJvdW5kKHRoaXMuZWxtSCAvIHRoaXMuZ3JpZFsxXSkgKiB0aGlzLmdyaWRbMV0pDQogICAgICAgIHRoaXMuJGVtaXQoJ3Jlc2l6aW5nJywgdGhpcy5sZWZ0LCB0aGlzLnRvcCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpDQogICAgICB9IGVsc2UgaWYgKHRoaXMuZHJhZ2dpbmcpIHsNCiAgICAgICAgaWYgKHRoaXMucGFyZW50KSB7DQogICAgICAgICAgaWYgKHRoaXMuZWxtWCArIGRYIDwgMCkgew0KICAgICAgICAgICAgdGhpcy5tb3VzZU9mZlggPSBkWCAtIChkaWZmWCA9IC10aGlzLmVsbVgpDQogICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmVsbVggKyB0aGlzLmVsbVcgKyBkWCA+IHRoaXMucGFyZW50Vykgew0KICAgICAgICAgICAgdGhpcy5tb3VzZU9mZlggPSAoZFggLSAoZGlmZlggPSB0aGlzLnBhcmVudFcgLSB0aGlzLmVsbVggLSB0aGlzLmVsbVcpKQ0KICAgICAgICAgIH0NCiAgICAgICAgICBpZiAodGhpcy5lbG1ZICsgZFkgPCAwKSB7DQogICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWSA9IGRZIC0gKGRpZmZZID0gLXRoaXMuZWxtWSkNCiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZWxtWSArIHRoaXMuZWxtSCArIGRZID4gdGhpcy5wYXJlbnRIKSB7DQogICAgICAgICAgICB0aGlzLm1vdXNlT2ZmWSA9IGRZIC0gKGRpZmZZID0gdGhpcy5wYXJlbnRIIC0gdGhpcy5lbG1ZIC0gdGhpcy5lbG1IKQ0KICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMuZWxtWCArPSBkaWZmWA0KICAgICAgICB0aGlzLmVsbVkgKz0gZGlmZlkNCiAgICAgICAgaWYgKHRoaXMuYXhpcyA9PT0gJ3gnIHx8IHRoaXMuYXhpcyA9PT0gJ2JvdGgnKSB7DQogICAgICAgICAgLy8g5Zub6IiN5LqU5YWl5Y+W5b6X5b2T5YmN5omA5Zyo5qC85a2Q5pWwICog5q+P5Liq5qC85a2Q55qE5Y2V5L2N5YOP57Sg77yM5L+d6K+B5q+P5LiA5Liq54K55a2Q5Zyo5qC85a2Q5LiKDQogICAgICAgICAgdGhpcy5sZWZ0ID0gKE1hdGgucm91bmQodGhpcy5lbG1YIC8gdGhpcy5ncmlkWzBdKSAqIHRoaXMuZ3JpZFswXSkNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGhpcy5heGlzID09PSAneScgfHwgdGhpcy5heGlzID09PSAnYm90aCcpIHsNCiAgICAgICAgICB0aGlzLnRvcCA9IChNYXRoLnJvdW5kKHRoaXMuZWxtWSAvIHRoaXMuZ3JpZFsxXSkgKiB0aGlzLmdyaWRbMV0pDQogICAgICAgIH0NCg0KICAgICAgICB0aGlzLiRlbWl0KCdkcmFnZ2luZycsIHRoaXMubGVmdCwgdGhpcy50b3ApDQogICAgICB9IGVsc2UgaWYgKHRoaXMucm90YXRpbmcpIHsNCiAgICAgICAgY29uc3Qgb3JpZ2luID0gdGhpcy5nZXRPcmlnaW4oKQ0KICAgICAgICBjb25zdCBsYXN0QW5nbGUgPSBNYXRoLmF0YW4yKGxhc3RNb3VzZVkgLSBvcmlnaW4ueSwgbGFzdE1vdXNlWCAtIG9yaWdpbi54KQ0KICAgICAgICBjb25zdCBjdXJyZW50QW5nbGUgPSBNYXRoLmF0YW4yKHRoaXMubW91c2VZIC0gb3JpZ2luLnksIHRoaXMubW91c2VYIC0gb3JpZ2luLngpDQogICAgICAgIHRoaXMucm90YXRlQW5nbGUgKz0gTWF0aC5yb3VuZCgoY3VycmVudEFuZ2xlIC0gbGFzdEFuZ2xlKSAqIDE4MCAvIE1hdGguUEkpDQogICAgICAgIHRoaXMuJGVtaXQoJ3JvdGF0aW5nJywgdGhpcy5yb3RhdGVBbmdsZSkNCiAgICAgIH0NCiAgICB9LA0KICAgIGhhbmRsZVVwKGUpIHsNCiAgICAgIGlmIChlLnR5cGUuaW5kZXhPZigndG91Y2gnKSAhPT0gLTEpIHsNCiAgICAgICAgdGhpcy5sYXN0TW91c2VYID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5jbGllbnRYDQogICAgICAgIHRoaXMubGFzdE1vdXNlWSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WQ0KICAgICAgfQ0KICAgICAgdGhpcy5oYW5kbGUgPSBudWxsDQogICAgICBpZiAodGhpcy5yZXNpemluZykgew0KICAgICAgICB0aGlzLnJlc2l6aW5nID0gZmFsc2UNCiAgICAgICAgdGhpcy4kZW1pdCgncmVzaXplc3RvcCcsIHRoaXMubGVmdCwgdGhpcy50b3AsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuZHJhZ2dpbmcpIHsNCiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlDQogICAgICAgIHRoaXMuJGVtaXQoJ2RyYWdzdG9wJywgdGhpcy5sZWZ0LCB0aGlzLnRvcCkNCiAgICAgIH0NCg0KICAgICAgaWYgKHRoaXMucm90YXRpbmcpIHsNCiAgICAgICAgdGhpcy5yb3RhdGluZyA9IGZhbHNlDQogICAgICAgIHRoaXMuJGVtaXQoJ3JvdGF0ZXN0b3AnLCB0aGlzLnJvdGF0ZUFuZ2xlKQ0KICAgICAgfQ0KDQogICAgICB0aGlzLmVsbVggPSB0aGlzLmxlZnQNCiAgICAgIHRoaXMuZWxtWSA9IHRoaXMudG9wDQogICAgfQ0KICB9DQp9DQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/components/VueDrr","sourcesContent":["<template>\r\n  <div\n    class=\"z-drr-container\"\r\n    :style=\"style\"\r\n    :class=\"{\r\n      'z-draggable': draggable,\r\n      'z-resizable': resizable,\r\n      'z-rotatable': rotatable,\r\n      'z-active': enabled,\r\n      'z-dragging': dragging,\r\n      'z-resizing': resizing,\r\n      'z-rotating': rotating\r\n    }\"\r\n    @mousedown=\"elmDown\"\r\n  >\r\n    <div\r\n      v-if=\"rotatable\"\r\n      class=\"z-rotateable-handle\"\r\n      :style=\"{ display: enabled ? 'block' : 'none'}\"\r\n      @touchstart.prevent.stop=\"elmDown\"\r\n      @mousedown.stop.prevent=\"rotating = true\"\r\n      @dblclick=\"fillParent\"\r\n    />\r\n    <div\r\n      v-for=\"handle in handles\"\r\n      v-if=\"resizable\"\r\n      :key=\"handle\"\r\n      class=\"z-resizeable-handle\"\r\n      :class=\"'z-handle-' + handle\"\r\n      :style=\"{ display: enabled ? 'block' : 'none'}\"\r\n      @touchstart.stop.prevent=\"handleDown(handle, $event)\"\r\n      @mousedown.stop.prevent=\"handleResizeStart(handle, $event)\"\r\n    />\r\n    <slot />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { matchesSelectorToParentElements } from './utils/dom'\r\n\r\nexport default {\r\n  name: 'VueDrr',\r\n  props: {\r\n    active: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    draggable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    resizable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    rotatable: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    canDeactive: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    w: {\r\n      type: [Number],\r\n      default: 200\r\n    },\r\n    h: {\r\n      type: [Number, String],\r\n      default: 28,\r\n      validator: function(val) {\r\n        const valid = (typeof val === 'string') ? val === 'auto' : val >= 0\r\n        return valid\r\n      }\r\n    },\r\n    ratio: {\r\n      type: [Number, String]\r\n    },\r\n    contains: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    minw: {\r\n      type: Number,\r\n      default: 28,\r\n      validator(val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    minh: {\r\n      type: Number,\r\n      default: 28,\r\n      validator(val) {\r\n        return val > 0\r\n      }\r\n    },\r\n    angle: {\r\n      type: Number,\r\n      default: 0,\r\n      validator(val) {\r\n        return typeof val === 'number'\r\n      }\r\n    },\r\n    x: {\r\n      type: Number,\r\n      default: 0,\r\n      validator(val) {\r\n        return typeof val === 'number'\r\n      }\r\n    },\r\n    y: {\r\n      type: Number,\r\n      default: 0,\r\n      validator(val) {\r\n        return typeof val === 'number'\r\n      }\r\n    },\r\n    z: {\r\n      type: [String, Number],\r\n      default: 'auto',\r\n      validator: function(val) {\r\n        const valid = (typeof val === 'string') ? val === 'auto' : val >= 0\r\n        return valid\r\n      }\r\n    },\r\n    handles: {\r\n      type: Array,\r\n      default() {\r\n        return ['n', 'e', 's', 'w', 'nw', 'ne', 'se', 'sw']\r\n      },\r\n      validator: function(val) {\r\n        const s = new Set(['n', 'e', 's', 'w', 'nw', 'ne', 'se', 'sw'])\r\n\r\n        return new Set(val.filter(h => s.has(h))).size === val.length\r\n      }\r\n    },\r\n    dragHandle: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    dragCancel: {\r\n      type: String,\r\n      default: null\r\n    },\r\n    axis: {\r\n      type: String,\r\n      default: 'both',\r\n      validator(val) {\r\n        return ['x', 'y', 'both'].indexOf(val) !== -1\r\n      }\r\n    },\r\n    grid: {\r\n      type: Array,\r\n      default() {\r\n        return [1, 1]\r\n      }\r\n    },\r\n    parent: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    overflowY: {\r\n      type: String,\r\n      default: ''\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      top: this.y,\r\n      left: this.x,\r\n      width: this.w,\r\n      height: this.h,\r\n      rotateAngle: this.angle,\r\n      resizing: false,\r\n      dragging: false,\r\n      rotating: false,\r\n      enabled: this.active,\r\n      handle: null,\r\n      zIndex: this.z,\r\n      parentW: 9999,\r\n      parentH: 9999,\r\n      mouseX: 0,\r\n      mouseY: 0,\r\n      lastMouseX: 0,\r\n      lastMouseY: 0,\r\n      mouseOffX: 0,\r\n      mouseOffY: 0,\r\n      elmX: 0,\r\n      elmY: 0,\r\n      elmW: 0,\r\n      elmH: 0\r\n    }\r\n  },\r\n  computed: {\r\n    style() {\r\n      return {\r\n        top: this.top + 'px',\r\n        left: this.left + 'px',\r\n        width: this.width + 'px',\r\n        height: this.height + 'px',\r\n        transform: 'rotate(' + this.rotateAngle + 'deg)',\r\n        zIndex: this.zIndex,\r\n        overflowY: this.overflowY,\r\n        overflowX: ''\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    active(val) {\r\n      this.enabled = val\r\n    },\r\n    x(val) {\r\n      this.left = val\r\n      this.elmX = val\r\n    },\r\n    y(val) {\r\n      this.top = val\r\n      this.elmY = val\r\n    },\r\n    z: function(val) {\r\n      if (val >= 0 || val === 'auto') {\r\n        this.zIndex = val\r\n      }\r\n    },\r\n    w(val) {\r\n      this.width = val\r\n      this.elmW = val\r\n    },\r\n    h(val) {\r\n      this.height = val\r\n      this.elmH = val\r\n    },\r\n    angle(val) {\r\n      this.rotateAngle = val\r\n    }\r\n  },\r\n  mounted() {\r\n    const container = document.querySelector('.editor-mask') || document.documentElement\r\n    container.addEventListener('mousedown', this.deselect, false)\r\n    container.addEventListener('mousemove', this.handleMove, false)\r\n    container.addEventListener('mouseup', this.handleUp, false)\r\n\r\n    // touch events bindings\r\n    container.addEventListener('touchmove', this.handleMove, false)\r\n    container.addEventListener('touchend touchcancel', this.deselect, false)\r\n    container.addEventListener('touchstart', this.handleUp, false)\r\n\r\n    this.elmX = parseInt(this.$el.style.left)\r\n    this.elmY = parseInt(this.$el.style.top)\r\n    this.elmW = this.$el.offsetWidth || this.$el.clientWidth\r\n    this.elmH = this.$el.offsetHeight || this.$el.clientHeight\r\n\r\n    this.reviewDimensions()\r\n  },\r\n  beforeDestroy() {\r\n    const container = document.querySelector('.editor-mask') || document.documentElement\r\n    container.removeEventListener('mousedown', this.deselect, false)\r\n    container.removeEventListener('mousemove', this.handleMove, false)\r\n    container.removeEventListener('mouseup', this.handleUp, false)\r\n\r\n    // touch events bindings removed\r\n    container.addEventListener('touchmove', this.handleMove, false)\r\n    container.addEventListener('touchend touchcancel', this.deselect, false)\r\n    container.addEventListener('touchstart', this.handleUp, false)\r\n  },\r\n  methods: {\r\n    reviewDimensions() {\r\n      if (this.minw > this.w) {\r\n        this.width = this.minw\r\n      }\r\n\r\n      if (this.minh > this.h) {\r\n        this.height = this.minh\r\n      }\r\n\r\n      if (this.parent) {\r\n        const parentW = parseInt(this.$el.parentNode.clientWidth, 10)\r\n        const parentH = parseInt(this.$el.parentNode.clientHeight, 10)\r\n\r\n        this.parentW = parentW\r\n        this.parentH = parentH\r\n\r\n        if (this.w > this.parentW) {\r\n          this.width = parentW\r\n        }\r\n\r\n        if (this.h > this.parentH) {\r\n          this.height = parentH\r\n        }\r\n\r\n        if ((this.x + this.w) > this.parentW) {\r\n          this.width = parentW - this.x\r\n        }\r\n\r\n        if ((this.y + this.h) > this.parentH) {\r\n          this.height = parentH - this.y\r\n        }\r\n\r\n        this.elmW = this.width\r\n        this.elmH = this.height\r\n      }\r\n\r\n      this.$emit('resizing', this.left, this.top, this.width, this.height)\r\n    },\r\n    elmDown(e) {\r\n      const target = e.target || e.srcElement\r\n      if (this.$el.contains(target)) {\r\n        if (\r\n          (this.dragHandle && !matchesSelectorToParentElements(target, this.dragHandle, this.$el)) ||\r\n          (this.dragCancel && matchesSelectorToParentElements(target, this.dragCancel, this.$el))) {\r\n          return\r\n        }\r\n        this.reviewDimensions()\r\n\r\n        if (!this.enabled) {\r\n          this.enabled = true\r\n          this.$emit('activated')\r\n          this.$emit('update:active', true)\r\n        }\r\n        if (this.draggable) {\r\n          this.dragging = true\r\n        }\r\n      }\r\n    },\r\n    deselect(e) {\r\n      if (e.type.indexOf('touch') !== -1) {\r\n        this.mouseX = e.changedTouches[0].clientX\r\n        this.mouseY = e.changedTouches[0].clientY\r\n      } else {\r\n        this.mouseX = e.pageX || e.clientX + document.documentElement.scrollLeft\r\n        this.mouseY = e.pageY || e.clientY + document.documentElement.scrollTop\r\n      }\r\n\r\n      this.lastMouseX = this.mouseX\r\n      this.lastMouseY = this.mouseY\r\n\r\n      const target = e.target || e.srcElement\r\n      const regex = new RegExp('z-handle-([nesw]{1, 2})', '')\r\n      // 点击在当前组件外，取消active状态\r\n      if (!this.$el.contains(target) && !regex.test(target.className)) {\r\n        if (this.enabled) {\r\n          if (this.canDeactive) {\r\n            this.enabled = false\r\n            this.$emit('deactivated')\r\n            this.$emit('update:active', false)\r\n          }\r\n        }\r\n      }\r\n    },\r\n    handleResizeStart(handle, e) {\r\n      this.handle = handle\r\n\r\n      if (e.stopPropagation) e.stopPropagation()\r\n      if (e.preventDefault) e.preventDefault()\r\n\r\n      this.resizing = true\r\n    },\r\n\r\n    handleDown: function(handle, e) {\r\n      this.handle = handle\r\n\r\n      if (e.stopPropagation) e.stopPropagation()\r\n      if (e.preventDefault) e.preventDefault()\r\n\r\n      this.resizing = true\r\n    },\r\n    fillParent: function(e) {\r\n      if (!this.parent || !this.resizable || !this.maximize) return\r\n\r\n      let done = false\r\n\r\n      const animate = () => {\r\n        if (!done) {\r\n          window.requestAnimationFrame(animate)\r\n        }\r\n\r\n        if (this.axis === 'x') {\r\n          if (\r\n            this.width === this.parentW && this.left === 0\r\n          ) {\r\n            done = true\r\n          }\r\n        } else if (this.axis === 'y') {\r\n          if (\r\n            this.height === this.parentH && this.top === 0\r\n          ) {\r\n            done = true\r\n          }\r\n        } else if (this.axis === 'both') {\r\n          if (\r\n            this.width === this.parentW &&\r\n            this.height === this.parentH &&\r\n            this.top === 0 &&\r\n            this.left === 0\r\n          ) {\r\n            done = true\r\n          }\r\n        }\r\n\r\n        if (this.axis === 'x' || this.axis === 'both') {\r\n          if (this.width < this.parentW) {\r\n            this.width++\r\n            this.elmW++\r\n          }\r\n\r\n          if (this.left > 0) {\r\n            this.left--\r\n            this.elmX--\r\n          }\r\n        }\r\n\r\n        if (this.axis === 'y' || this.axis === 'both') {\r\n          if (this.height < this.parentH) {\r\n            this.height++\r\n            this.elmH++\r\n          }\r\n\r\n          if (this.top > 0) {\r\n            this.top--\r\n            this.elmY--\r\n          }\r\n        }\r\n\r\n        this.$emit('resizing', this.left, this.top, this.width, this.height)\r\n      }\r\n\r\n      window.requestAnimationFrame(animate)\r\n    },\r\n    getOrigin() {\r\n      const rect = this.$el.getBoundingClientRect()\r\n      return {\r\n        x: (rect.left + rect.right) / 2,\r\n        y: (rect.bottom + rect.top) / 2\r\n      }\r\n    },\r\n    handleMove(e) {\r\n      const lastMouseX = this.lastMouseX\r\n      const lastMouseY = this.lastMouseY\r\n      const isTouchMove = e.type.indexOf('touchmove') !== -1\r\n      this.mouseX = isTouchMove\r\n        ? e.touches[0].clientX\r\n        : e.pageX || e.clientX + document.documentElement.scrollLeft\r\n      this.mouseY = isTouchMove\r\n        ? e.touches[0].clientY\r\n        : e.pageY || e.clientY + document.documentElement.scrollTop\r\n\r\n      let diffX = this.mouseX - this.lastMouseX + this.mouseOffX\r\n      let diffY = this.mouseY - this.lastMouseY + this.mouseOffY\r\n\r\n      this.mouseOffX = this.mouseOffY = 0\r\n\r\n      this.lastMouseX = this.mouseX\r\n      this.lastMouseY = this.mouseY\r\n\r\n      const dX = diffX\r\n      const dY = diffY\r\n\r\n      if (this.resizing) {\r\n        if (this.handle.indexOf('n') >= 0) {\r\n          if (this.elmH - dY < this.minh) {\r\n            this.mouseOffY = (dY - (diffY = this.elmH - this.minh))\r\n          } else if (this.parent && this.elmY + dY < 0) {\r\n            this.mouseOffY = dY - (diffY = -this.elmY)\r\n          }\r\n          this.elmY += diffY\r\n          this.elmH -= diffY\r\n        }\r\n\r\n        if (this.handle.indexOf('s') >= 0) {\r\n          if (this.elmH + dY < this.minh) {\r\n            this.mouseOffY = (dY - (diffY = this.minh - this.elmH))\r\n          } else if (this.parent && this.elmY + this.elmH + dY > this.parentH) {\r\n            this.mouseOffY = (dY - (diffY = this.parentH - this.elmY - this.elmH))\r\n          }\r\n          this.elmH += diffY\r\n        }\r\n\r\n        if (this.handle.indexOf('w') >= 0) {\r\n          if (this.elmW - dX < this.minw) {\r\n            this.mouseOffX = (dX - (diffX = this.elmW - this.minw))\r\n          } else if (this.parent && this.elmX + dX < 0) {\r\n            this.mouseOffX = dX - (diffX = -this.elmX)\r\n          }\r\n          this.elmX += diffX\r\n          this.elmW -= diffX\r\n        }\r\n\r\n        if (this.handle.indexOf('e') >= 0) {\r\n          if (this.elmW + dX < this.minw) {\r\n            this.mouseOffX = (dX - (diffX = this.minw - this.elmW))\r\n          } else if (this.parent && this.elmX + this.elmW + dX > this.parentW) {\r\n            this.mouseOffX = (dX - (diffX = this.parentW - this.elmX - this.elmW))\r\n          }\r\n          this.elmW += diffX\r\n        }\r\n\r\n        this.left = (Math.round(this.elmX / this.grid[0]) * this.grid[0])\r\n        this.top = (Math.round(this.elmY / this.grid[1]) * this.grid[1])\r\n\r\n        this.width = (Math.round(this.elmW / this.grid[0]) * this.grid[0])\r\n        this.height = (Math.round(this.elmH / this.grid[1]) * this.grid[1])\r\n        this.$emit('resizing', this.left, this.top, this.width, this.height)\r\n      } else if (this.dragging) {\r\n        if (this.parent) {\r\n          if (this.elmX + dX < 0) {\r\n            this.mouseOffX = dX - (diffX = -this.elmX)\r\n          } else if (this.elmX + this.elmW + dX > this.parentW) {\r\n            this.mouseOffX = (dX - (diffX = this.parentW - this.elmX - this.elmW))\r\n          }\r\n          if (this.elmY + dY < 0) {\r\n            this.mouseOffY = dY - (diffY = -this.elmY)\r\n          } else if (this.elmY + this.elmH + dY > this.parentH) {\r\n            this.mouseOffY = dY - (diffY = this.parentH - this.elmY - this.elmH)\r\n          }\r\n        }\r\n\r\n        this.elmX += diffX\r\n        this.elmY += diffY\r\n        if (this.axis === 'x' || this.axis === 'both') {\r\n          // 四舍五入取得当前所在格子数 * 每个格子的单位像素，保证每一个点子在格子上\r\n          this.left = (Math.round(this.elmX / this.grid[0]) * this.grid[0])\r\n        }\r\n        if (this.axis === 'y' || this.axis === 'both') {\r\n          this.top = (Math.round(this.elmY / this.grid[1]) * this.grid[1])\r\n        }\r\n\r\n        this.$emit('dragging', this.left, this.top)\r\n      } else if (this.rotating) {\r\n        const origin = this.getOrigin()\r\n        const lastAngle = Math.atan2(lastMouseY - origin.y, lastMouseX - origin.x)\r\n        const currentAngle = Math.atan2(this.mouseY - origin.y, this.mouseX - origin.x)\r\n        this.rotateAngle += Math.round((currentAngle - lastAngle) * 180 / Math.PI)\r\n        this.$emit('rotating', this.rotateAngle)\r\n      }\r\n    },\r\n    handleUp(e) {\r\n      if (e.type.indexOf('touch') !== -1) {\r\n        this.lastMouseX = e.changedTouches[0].clientX\r\n        this.lastMouseY = e.changedTouches[0].clientY\r\n      }\r\n      this.handle = null\r\n      if (this.resizing) {\r\n        this.resizing = false\r\n        this.$emit('resizestop', this.left, this.top, this.width, this.height)\r\n      }\r\n      if (this.dragging) {\r\n        this.dragging = false\r\n        this.$emit('dragstop', this.left, this.top)\r\n      }\r\n\r\n      if (this.rotating) {\r\n        this.rotating = false\r\n        this.$emit('rotatestop', this.rotateAngle)\r\n      }\r\n\r\n      this.elmX = this.left\r\n      this.elmY = this.top\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  @import '../../assets/less/variables';\r\n  @main-color: #2e95ff;\r\n  @circle-size: 8px;\r\n\r\n  .z-drr-container {\r\n    position: absolute;\r\n    border: 1px dashed transparent;\r\n    *, *:before, *:after {\r\n      padding: 0;\r\n      margin: 0;\r\n      box-sizing: border-box;\r\n      -moz-box-sizing: border-box;\r\n    }\r\n  }\r\n\r\n  .z-draggable:hover {\r\n    cursor: move;\r\n  }\r\n\r\n  .circle(@bgc: #fff) {\r\n    position: absolute;\r\n    width: @circle-size;\r\n    height: @circle-size;\r\n    border: 1px solid @main-color;\r\n    border-radius: 50%;\r\n    background: @bgc;\r\n  }\r\n\r\n  .z-rotateable-handle {\r\n    position: absolute;\r\n    left: 50%;\r\n    top: -@circle-size * 3;\r\n    width: 1px;\r\n    height: @circle-size * 3;\r\n    margin-left: -.5px;\r\n    background-color: @main-color;\r\n    cursor: url(../../assets/img/mouse-rotate.png) 8 8, default;\r\n    &:after {\r\n      content: ' ';\r\n      top: 0;\r\n      left: 0;\r\n      margin-left: -(@circle-size - 1)/2;\r\n      .circle(@main-color);\r\n    }\r\n  }\r\n\r\n  .z-resizeable-handle {\r\n    display: none;\r\n    position: absolute;\r\n  }\r\n\r\n  .z-handle-nw,\r\n  .z-handle-ne,\r\n  .z-handle-sw,\r\n  .z-handle-se {\r\n    .circle;\r\n  }\r\n\r\n  .z-handle-nw {\r\n    top: -@circle-size/2;\r\n    left: -@circle-size/2;\r\n    cursor: nw-resize;\r\n  }\r\n\r\n  .z-handle-ne {\r\n    top: -@circle-size/2;\r\n    right: -@circle-size/2;\r\n    cursor: ne-resize;\r\n  }\r\n\r\n  .z-handle-sw {\r\n    bottom: -@circle-size/2;\r\n    left: -@circle-size/2;\r\n    cursor: sw-resize;\r\n  }\r\n\r\n  .z-handle-se {\r\n    bottom: -@circle-size/2;\r\n    right: -@circle-size/2;\r\n    cursor: se-resize;\r\n  }\r\n\r\n  .z-handle-n,\r\n  .z-handle-w,\r\n  .z-handle-e,\r\n  .z-handle-s {\r\n    &:after {\r\n      content: ' ';\r\n      .circle;\r\n    }\r\n  }\r\n\r\n  .z-handle-n {\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: @circle-size/2;\r\n    cursor: n-resize;\r\n    &:after {\r\n      bottom: 0;\r\n      left: 50%;\r\n      margin-left: -@circle-size/2;\r\n    }\r\n  }\r\n\r\n  .z-handle-w {\r\n    top: 0;\r\n    left: 0;\r\n    width: @circle-size/2;\r\n    height: 100%;\r\n    cursor: w-resize;\r\n    &:after {\r\n      top: 50%;\r\n      right: 0;\r\n      margin-top: -@circle-size/2;\r\n    }\r\n  }\r\n\r\n  .z-handle-e {\r\n    top: 0;\r\n    right: 0;\r\n    width: @circle-size/2;\r\n    height: 100%;\r\n    cursor: e-resize;\r\n    &:after {\r\n      top: 50%;\r\n      left: 0;\r\n      margin-top: -@circle-size/2;\r\n    }\r\n  }\r\n\r\n  .z-handle-s {\r\n    bottom: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: @circle-size/2;\r\n    cursor: s-resize;\r\n    &:after {\r\n      top: 0;\r\n      left: 50%;\r\n      margin-left: -@circle-size/2;\r\n    }\r\n  }\r\n\r\n  .z-active {\r\n    border: 1px dashed @main-color;\r\n    z-index: 999;\r\n  }\r\n</style>\r\n"]}]}