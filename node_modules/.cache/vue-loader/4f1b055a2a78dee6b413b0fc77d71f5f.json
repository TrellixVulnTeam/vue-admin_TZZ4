{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/form-table/TableInlineEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/form-table/TableInlineEdit.vue","mtime":1631529948773},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQge2dldFRhYmxlTGlzdH0gZnJvbSAnLi4vLi4vYXBpL2FwaScNCmltcG9ydCBIaW50cyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hpbnRzJw0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ1RhYmxlSW5saW5lRWRpdCcsDQogICAgY29tcG9uZW50czoge0hpbnRzfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgbGlzdExvYWRpbmc6IHRydWUsDQogICAgICAgICAgICB0YWJsZUxpc3Q6IFtdLA0KICAgICAgICAgICAgc2VhcmNoOiB7DQogICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsDQogICAgICAgICAgICAgICAgcGFnZVNpemU6IDEwDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9LA0KICAgIGNyZWF0ZWQoKSB7DQogICAgICAgIHRoaXMuZmV0Y2hEYXRhKCkNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLy8g6I635Y+W5pWw5o2u5YiX6KGoDQogICAgICAgIGZldGNoRGF0YSgpIHsNCiAgICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSB0cnVlDQogICAgICAgICAgICBsZXQgdXJsID0gImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9iYWltaW5neHVhbi9tZWRpYS1zdG9yZS9tb2NrLWRhdGEvdGFibGUtbGlzdC5qc29uIjsNCiAgICAgICAgICAgIC8vIOiOt+WPluaVsOaNruWIl+ihqOaOpeWPow0KICAgICAgICAgICAgZ2V0VGFibGVMaXN0KHRoaXMuc2VhcmNoLCB1cmwpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gcmVzLmRhdGENCiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jb2RlID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFibGVMaXN0ID0gZGF0YS5kYXRhLmxpc3QubWFwKGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kc2V0KGl0ZW0sICdlZGl0YWJsZScsIGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaXRlbS5vcmlnaW5hbEhvYmJ5ID0gaXRlbS5ob2JieQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy50YWJsZUxpc3QpDQogICAgICAgICAgICAgICAgICAgIHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmNhdGNoKCgpID0+IHsNCiAgICAgICAgICAgICAgICB0aGlzLmxpc3RMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIH0pDQogICAgICAgIH0sDQogICAgICAgIGNhbmNlbEVkaXQocm93KSB7DQogICAgICAgICAgICByb3cuaG9iYnkgPSByb3cub3JpZ2luYWxIb2JieQ0KICAgICAgICAgICAgcm93LmVkaXRhYmxlID0gZmFsc2UNCiAgICAgICAgfSwNCiAgICAgICAgY29uZmlybUVkaXQocm93KSB7DQogICAgICAgICAgICByb3cuZWRpdGFibGUgPSBmYWxzZQ0KICAgICAgICAgICAgcm93Lm9yaWdpbmFsSG9iYnkgPSByb3cuaG9iYnkNCiAgICAgICAgICAgIC8vIOatpOWkhOa3u+WKoCDlkI7nq6/kv53lrZjmlbDmja7mjqXlj6MNCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["TableInlineEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TableInlineEdit.vue","sourceRoot":"src/views/form-table","sourcesContent":["<template>\r\n    <div class=\"table-inline-edit\">\r\n        <Hints>\r\n            <template slot=\"hintName\">Table表格组件(行内编辑)</template>\r\n            <template slot=\"hintInfo\">\r\n                <p>element-Table：使用elementUI的Table组件，可用于展示多条结构类似的数据，并对其进行行内编辑操作</p>\r\n                <p>地址：访问\r\n                    <el-link type=\"success\" href=\"https://element.eleme.cn/2.13/TableClassic.vue#/zh-CN/component/table\"\r\n                             target=\"_blank\">element-Table\r\n                    </el-link>\r\n                </p>\r\n            </template>\r\n        </Hints>\r\n        <el-card shadow=\"always\">\r\n            <el-table v-loading=\"listLoading\" :data=\"tableList\" tooltip-effect=\"dark\" style=\"width: 100%\" size=\"medium\">\r\n                <el-table-column prop=\"id\" label=\"编号\" align=\"center\" width=\"120\"/>\r\n                <el-table-column prop=\"name\" label=\"姓名\" align=\"center\"/>\r\n                <el-table-column label=\"性别\" align=\"center\">\r\n                    <template slot-scope=\"{row}\">{{ row.sex }}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"爱好\" align=\"center\" min-width=\"300px\">\r\n                    <template slot-scope=\"{row}\">\r\n                        <template v-if=\"row.editable\">\r\n                            <el-input v-model=\"row.hobby\" style=\"width: 300px;\"/>\r\n                            <el-button class=\"cancel-btn\" type=\"warning\" @click=\"cancelEdit(row)\">取消</el-button>\r\n                        </template>\r\n                        <span v-else>{{ row.hobby }}</span>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"education\" label=\"学历\" align=\"center\"/>\r\n                <el-table-column align=\"center\" label=\"操作\" width=\"200\">\r\n                    <template slot-scope=\"{row}\">\r\n                        <el-button v-if=\"row.editable\" type=\"success\" size=\"small\" @click=\"confirmEdit(row)\">保存\r\n                        </el-button>\r\n                        <el-button v-else type=\"primary\" size=\"small\" @click=\"row.editable = !row.editable\">编辑\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport {getTableList} from '../../api/api'\r\nimport Hints from '../../components/Hints'\r\n\r\nexport default {\r\n    name: 'TableInlineEdit',\r\n    components: {Hints},\r\n    data() {\r\n        return {\r\n            listLoading: true,\r\n            tableList: [],\r\n            search: {\r\n                currentPage: 1,\r\n                pageSize: 10\r\n            }\r\n        }\r\n    },\r\n    created() {\r\n        this.fetchData()\r\n    },\r\n    methods: {\r\n        // 获取数据列表\r\n        fetchData() {\r\n            this.listLoading = true\r\n            let url = \"https://cdn.jsdelivr.net/gh/baimingxuan/media-store/mock-data/table-list.json\";\r\n            // 获取数据列表接口\r\n            getTableList(this.search, url).then(res => {\r\n                const data = res.data\r\n                if (data.code === 0) {\r\n                    this.tableList = data.data.list.map(item => {\r\n                        this.$set(item, 'editable', false)\r\n                        item.originalHobby = item.hobby\r\n                        return item\r\n                    })\r\n                    console.log(this.tableList)\r\n                    this.listLoading = false\r\n                }\r\n            }).catch(() => {\r\n                this.listLoading = false\r\n            })\r\n        },\r\n        cancelEdit(row) {\r\n            row.hobby = row.originalHobby\r\n            row.editable = false\r\n        },\r\n        confirmEdit(row) {\r\n            row.editable = false\r\n            row.originalHobby = row.hobby\r\n            // 此处添加 后端保存数据接口\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.table-inline-edit {\r\n    .el-table thead {\r\n        font-weight: 600;\r\n\r\n        th {\r\n            padding: 16px 0 15px !important;\r\n            background-color: #f2f3f7;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]}]}