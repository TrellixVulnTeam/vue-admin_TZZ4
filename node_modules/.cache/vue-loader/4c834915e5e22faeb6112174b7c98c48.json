{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/count/real-time.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/count/real-time.vue","mtime":1634698483044},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb3VudFRvIGZyb20gJ3Z1ZS1jb3VudC10bycKaW1wb3J0IENoYXJ0c0JhckxpbmUgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9DaGFydHMvQ2hhcnRzQmFyTGluZScKaW1wb3J0IENoYXJ0c0JhciBmcm9tICcuLi8uLi8uLi9jb21wb25lbnRzL0NoYXJ0cy9DaGFydHNCYXInCmltcG9ydCBDaGFydHNDb3VudExpbmUgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9DaGFydHMvQ2hhcnRzQ291bnRMaW5lJwppbXBvcnQge2dldEFyZWFMaXN0LCBnZXRDdXJyZW50VXNlckFyZWFJZH0gZnJvbSAiQC91dGlscy9kaXN0IjsKaW1wb3J0IHtlbmRVbml4LCBnZXRDdXJyZW50RGF0ZSwgc3RhcnRVbml4fSBmcm9tICJAL3V0aWxzL3V0aWwiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0hvbWUnLAogICAgY29tcG9uZW50czoge0NvdW50VG8sIENoYXJ0c0JhciwgQ2hhcnRzQmFyTGluZSwgQ2hhcnRzQ291bnRMaW5lfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgdXNlcktleTogMjAsCiAgICAgICAgICAgIGNhbGxpbmdLZXk6IDQwLAogICAgICAgICAgICBjYWxsS2V5OiA2MCwKICAgICAgICAgICAgZXhwZW5zZUtleTogODAsCiAgICAgICAgICAgIGRlcG9zaXRLZXk6IDEwMCwKICAgICAgICAgICAgcGF5S2V5OiAxMjAsCiAgICAgICAgICAgIG1pbkRhdGU6IGdldEN1cnJlbnREYXRlKC0zKSwKICAgICAgICAgICAgc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBhcmVhSWQ6IHVuZGVmaW5lZCwKICAgICAgICAgICAgICAgIGRhdGU6IFsKICAgICAgICAgICAgICAgICAgICBnZXRDdXJyZW50RGF0ZSgpLAogICAgICAgICAgICAgICAgICAgIGdldEN1cnJlbnREYXRlKCkKICAgICAgICAgICAgICAgIF0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZm10OiAnJywKICAgICAgICAgICAgaW50ZXJ2YWw6IHVuZGVmaW5lZCwKICAgICAgICAgICAgYXV0aEFyZWFJZDogZ2V0Q3VycmVudFVzZXJBcmVhSWQoKSwKICAgICAgICAgICAgYXJlYUxpc3Q6IGdldEFyZWFMaXN0KGZhbHNlKSwKICAgICAgICAgICAgdXNlckRhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5a6e5pe255So5oi3JywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWyflnKjnur/nlKjmiLcnLCAn5paw55So5oi3JywgJ+S7mOi0ueeUqOaItycsICfnqbrpl7LkuLvmkq0nLCAn6YCa6K+d5Li75pKtJ10sCiAgICAgICAgICAgICAgICBrZXlzOiBbXSwKICAgICAgICAgICAgICAgIHZhbHVlczogW10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2FsbGluZ0RhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5a6e5pe26YCa6K+dJywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWydBSULlj5HotbcnLCAn55So5oi35Y+R6LW3JywgJ+S4u+aSreWPkei1tyddLAogICAgICAgICAgICAgICAga2V5czogW10sCiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNhbGxEYXRhOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+WunuaXtuWRvOWPqycsCiAgICAgICAgICAgICAgICBsZWdlbmQ6IFsn5pW05L2T5ZG85Y+rJywgJ0FJQuWRvOWPqycsICfnlKjmiLflkbzlj6snLCAn5Li75pKt5ZG85Y+rJ10sCiAgICAgICAgICAgICAgICBrZXlzOiBbXSwKICAgICAgICAgICAgICAgIHZhbHVlczogW10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZXhwZW5zZURhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5a6e5pe25raI6ICXJywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWyflhajpg6jnlKjmiLcnXSwKICAgICAgICAgICAgICAgIGtleXM6IFtdLAogICAgICAgICAgICAgICAgdmFsdWVzOiBbXQogICAgICAgICAgICB9LAogICAgICAgICAgICBkZXBvc2l0RGF0YTogewogICAgICAgICAgICAgICAgdGl0bGU6ICflrp7ml7blhYXlgLwnLAogICAgICAgICAgICAgICAgbGVnZW5kOiBbJ+WFqOmDqOeUqOaItyddLAogICAgICAgICAgICAgICAga2V5czogW10sCiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBheURhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5rig6YGT5pS25YWlJywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWydHb29nbGUnLCAnQXBwbGUnLCAn5LiJ5pa55rig6YGTJ10sCiAgICAgICAgICAgICAgICBrZXlzOiBbXSwKICAgICAgICAgICAgICAgIHZhbHVlczogW10KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuc2VhcmNoLmFyZWFJZCA9IHRoaXMuYXV0aEFyZWFJZCA9PT0gMCA/IHRoaXMuYXJlYUxpc3RbMF0udmFsdWUgOiB0aGlzLmF1dGhBcmVhSWQKICAgICAgICB0aGlzLmluaXREYXRhKCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgb25TZWFyY2goKSB7CiAgICAgICAgICAgIHRoaXMuaW5pdERhdGEoKQogICAgICAgIH0sCiAgICAgICAgaW5pdERhdGEoKXsKICAgICAgICAgICAgY29uc3QgJHRoaXMgPSB0aGlzCiAgICAgICAgICAgIGxldCBwYXJhbSA9IHRoaXMuaGFuZGxlUGFyYW0oKQogICAgICAgICAgICB0aGlzLiRzZXJ2aWNlLmhvbWUuZ2V0QXJlYVN0YXQocGFyYW0sIGZ1bmN0aW9uIChyZXN1bHQpewogICAgICAgICAgICAgICAgbGV0IHN0YXRMaXN0ID0gcmVzdWx0LmdldFN0YXRzTGlzdCgpCiAgICAgICAgICAgICAgICAkdGhpcy50b0ZtdChwYXJhbSkKICAgICAgICAgICAgICAgICR0aGlzLmhhbmRsZVVzZXJEYXRhKHN0YXRMaXN0KQogICAgICAgICAgICAgICAgJHRoaXMuaGFuZGxlQ2FsbGluZ0RhdGEoc3RhdExpc3QpCiAgICAgICAgICAgICAgICAkdGhpcy5oYW5kbGVDYWxsRGF0YShzdGF0TGlzdCkKICAgICAgICAgICAgICAgICR0aGlzLmhhbmRsZUV4cGVuc2VEYXRhKHN0YXRMaXN0KQogICAgICAgICAgICAgICAgJHRoaXMuaGFuZGxlRGVwb3NpdERhdGEoc3RhdExpc3QpCiAgICAgICAgICAgICAgICAkdGhpcy5oYW5kbGVQYXlEYXRhKHN0YXRMaXN0KQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGhhbmRsZVBhcmFtKCl7CiAgICAgICAgICAgIGxldCBwYXJhbSA9IHRoaXMuc2VhcmNoOwogICAgICAgICAgICBpZiAocGFyYW0uZGF0ZS5sZW5ndGggPiAwKXsKICAgICAgICAgICAgICAgIHBhcmFtLnN0YXJ0QXQgPSBzdGFydFVuaXgodGhpcy5zZWFyY2guZGF0ZVswXSkKICAgICAgICAgICAgICAgIHBhcmFtLmVuZEF0ID0gZW5kVW5peCh0aGlzLnNlYXJjaC5kYXRlWzFdKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBwYXJhbQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlVXNlckRhdGEoc3RhdExpc3QpewogICAgICAgICAgICBsZXQga2V5cyA9IFtdCiAgICAgICAgICAgIGxldCB2YWx1ZXMgPSBbXQogICAgICAgICAgICBsZXQgb25saW5lVXNlciA9IFtdCiAgICAgICAgICAgIGxldCBuZXdVc2VyID0gW10KICAgICAgICAgICAgbGV0IHBheVVzZXIgPSBbXQogICAgICAgICAgICBsZXQgaWRsZUFuY2hvciA9IFtdCiAgICAgICAgICAgIGxldCBidXN5QW5jaG9yID0gW10KICAgICAgICAgICAgbGV0IGxlbiA9IHN0YXRMaXN0Lmxlbmd0aAogICAgICAgICAgICBzdGF0TGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHN0YXJ0QXQgPSBpdGVtLmdldFN0YXJ0QXQoKQogICAgICAgICAgICAgICAga2V5cy5wdXNoKG5ldyBEYXRlKHN0YXJ0QXQgKiAxMDAwKS5mb3JtYXQodGhpcy5mbXQpKQogICAgICAgICAgICAgICAgb25saW5lVXNlci5wdXNoKGl0ZW0uZ2V0T25saW5lVXNlcigpKQogICAgICAgICAgICAgICAgbmV3VXNlci5wdXNoKGl0ZW0uZ2V0TmV3VXNlcigpKQogICAgICAgICAgICAgICAgcGF5VXNlci5wdXNoKGl0ZW0uZ2V0UGF5VXNlcigpKQogICAgICAgICAgICAgICAgaWRsZUFuY2hvci5wdXNoKGl0ZW0uZ2V0SWRsZUFuY2hvcigpKQogICAgICAgICAgICAgICAgYnVzeUFuY2hvci5wdXNoKGl0ZW0uZ2V0QnVzeUFuY2hvcigpKQogICAgICAgICAgICB9KQoKICAgICAgICAgICAgdmFsdWVzLnB1c2gob25saW5lVXNlcikKICAgICAgICAgICAgdmFsdWVzLnB1c2gobmV3VXNlcikKICAgICAgICAgICAgdmFsdWVzLnB1c2gocGF5VXNlcikKICAgICAgICAgICAgdmFsdWVzLnB1c2goaWRsZUFuY2hvcikKICAgICAgICAgICAgdmFsdWVzLnB1c2goYnVzeUFuY2hvcikKCiAgICAgICAgICAgIHRoaXMudXNlckRhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgdGhpcy51c2VyRGF0YS52YWx1ZXMgPSB2YWx1ZXMKICAgICAgICAgICAgdGhpcy51c2VyRGF0YS5pbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWwKICAgICAgICAgICAgKyt0aGlzLnVzZXJLZXkKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNhbGxpbmdEYXRhKHN0YXRMaXN0KXsKICAgICAgICAgICAgbGV0IGtleXMgPSBbXQogICAgICAgICAgICBsZXQgdmFsdWVzID0gW10KICAgICAgICAgICAgbGV0IGFpQ2FsbGluZyA9IFtdCiAgICAgICAgICAgIGxldCB1c2VyQ2FsbGluZyA9IFtdCiAgICAgICAgICAgIGxldCBhbmNob3JDYWxsaW5nID0gW10KICAgICAgICAgICAgc3RhdExpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBzdGFydEF0ID0gaXRlbS5nZXRTdGFydEF0KCkKICAgICAgICAgICAgICAgIGtleXMucHVzaChuZXcgRGF0ZShzdGFydEF0ICogMTAwMCkuZm9ybWF0KHRoaXMuZm10KSkKICAgICAgICAgICAgICAgIGFpQ2FsbGluZy5wdXNoKGl0ZW0uZ2V0QWlDYWxsaW5nKCkpCiAgICAgICAgICAgICAgICB1c2VyQ2FsbGluZy5wdXNoKGl0ZW0uZ2V0VXNlckNhbGxpbmcoKSkKICAgICAgICAgICAgICAgIGFuY2hvckNhbGxpbmcucHVzaChpdGVtLmdldEFuY2hvckNhbGxpbmcoKSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdmFsdWVzLnB1c2goYWlDYWxsaW5nKQogICAgICAgICAgICB2YWx1ZXMucHVzaCh1c2VyQ2FsbGluZykKICAgICAgICAgICAgdmFsdWVzLnB1c2goYW5jaG9yQ2FsbGluZykKCiAgICAgICAgICAgIHRoaXMuY2FsbGluZ0RhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgdGhpcy5jYWxsaW5nRGF0YS52YWx1ZXMgPSB2YWx1ZXMKICAgICAgICAgICAgdGhpcy51c2VyRGF0YS5pbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWwKICAgICAgICAgICAgKyt0aGlzLmNhbGxpbmdLZXkKICAgICAgICB9LAogICAgICAgIGhhbmRsZUNhbGxEYXRhKHN0YXRMaXN0KXsKICAgICAgICAgICAgbGV0IGtleXMgPSBbXQogICAgICAgICAgICBsZXQgdmFsdWVzID0gW10KICAgICAgICAgICAgbGV0IGFpQ2FsbCA9IFtdCiAgICAgICAgICAgIGxldCB1c2VyQ2FsbCA9IFtdCiAgICAgICAgICAgIGxldCBhbmNob3JDYWxsID0gW10KICAgICAgICAgICAgc3RhdExpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBzdGFydEF0ID0gaXRlbS5nZXRTdGFydEF0KCkKICAgICAgICAgICAgICAgIGtleXMucHVzaChuZXcgRGF0ZShzdGFydEF0ICogMTAwMCkuZm9ybWF0KHRoaXMuZm10KSkKICAgICAgICAgICAgICAgIGFpQ2FsbC5wdXNoKGl0ZW0uZ2V0QWlDYWxsKCkpCiAgICAgICAgICAgICAgICB1c2VyQ2FsbC5wdXNoKGl0ZW0uZ2V0VXNlckNhbGwoKSkKICAgICAgICAgICAgICAgIGFuY2hvckNhbGwucHVzaChpdGVtLmdldEFuY2hvckNhbGwoKSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdmFsdWVzLnB1c2goYWlDYWxsKQogICAgICAgICAgICB2YWx1ZXMucHVzaCh1c2VyQ2FsbCkKICAgICAgICAgICAgdmFsdWVzLnB1c2goYW5jaG9yQ2FsbCkKCiAgICAgICAgICAgIHRoaXMuY2FsbERhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgdGhpcy5jYWxsRGF0YS52YWx1ZXMgPSB2YWx1ZXMKICAgICAgICAgICAgdGhpcy51c2VyRGF0YS5pbnRlcnZhbCA9IHRoaXMuaW50ZXJ2YWwKICAgICAgICAgICAgKyt0aGlzLmNhbGxLZXkKICAgICAgICB9LAogICAgICAgIGhhbmRsZUV4cGVuc2VEYXRhKHN0YXRMaXN0KXsKICAgICAgICAgICAgbGV0IGtleXMgPSBbXQogICAgICAgICAgICBsZXQgdmFsdWVzID0gW10KICAgICAgICAgICAgbGV0IGV4cGVuc2UgPSBbXQogICAgICAgICAgICBzdGF0TGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHN0YXJ0QXQgPSBpdGVtLmdldFN0YXJ0QXQoKQogICAgICAgICAgICAgICAga2V5cy5wdXNoKG5ldyBEYXRlKHN0YXJ0QXQgKiAxMDAwKS5mb3JtYXQodGhpcy5mbXQpKQogICAgICAgICAgICAgICAgZXhwZW5zZS5wdXNoKGl0ZW0uZ2V0RXhwZW5zZSgpKQogICAgICAgICAgICB9KQogICAgICAgICAgICB2YWx1ZXMucHVzaChleHBlbnNlKQogICAgICAgICAgICB0aGlzLmV4cGVuc2VEYXRhLnZhbHVlcyA9IHZhbHVlcwogICAgICAgICAgICB0aGlzLmV4cGVuc2VEYXRhLmtleXMgPSBrZXlzCiAgICAgICAgICAgIHRoaXMudXNlckRhdGEuaW50ZXJ2YWwgPSB0aGlzLmludGVydmFsCiAgICAgICAgICAgICsrdGhpcy5leHBlbnNlS2V5CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVEZXBvc2l0RGF0YShzdGF0TGlzdCl7CiAgICAgICAgICAgIGxldCBrZXlzID0gW10KICAgICAgICAgICAgbGV0IHZhbHVlcyA9IFtdCiAgICAgICAgICAgIGxldCBkZXBvc2l0ID0gW10KICAgICAgICAgICAgc3RhdExpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIGxldCBzdGFydEF0ID0gaXRlbS5nZXRTdGFydEF0KCkKICAgICAgICAgICAgICAgIGtleXMucHVzaChuZXcgRGF0ZShzdGFydEF0ICogMTAwMCkuZm9ybWF0KHRoaXMuZm10KSkKICAgICAgICAgICAgICAgIGRlcG9zaXQucHVzaChpdGVtLmdldERlcG9zaXQoKSkKICAgICAgICAgICAgfSkKICAgICAgICAgICAgdmFsdWVzLnB1c2goZGVwb3NpdCkKICAgICAgICAgICAgdGhpcy5kZXBvc2l0RGF0YS52YWx1ZXMgPSB2YWx1ZXMKICAgICAgICAgICAgdGhpcy5kZXBvc2l0RGF0YS5rZXlzID0ga2V5cwogICAgICAgICAgICB0aGlzLnVzZXJEYXRhLmludGVydmFsID0gdGhpcy5pbnRlcnZhbAogICAgICAgICAgICArK3RoaXMuZGVwb3NpdEtleQogICAgICAgIH0sCiAgICAgICAgaGFuZGxlUGF5RGF0YShzdGF0TGlzdCl7CiAgICAgICAgICAgIGxldCBrZXlzID0gW10KICAgICAgICAgICAgbGV0IHZhbHVlcyA9IFtdCiAgICAgICAgICAgIGxldCBnb29nbGVQYXkgPSBbXQogICAgICAgICAgICBsZXQgYXBwbGVQYXkgPSBbXQogICAgICAgICAgICBsZXQgb3RoZXJQYXkgPSBbXQogICAgICAgICAgICBzdGF0TGlzdC5mb3JFYWNoKChpdGVtLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgbGV0IHN0YXJ0QXQgPSBpdGVtLmdldFN0YXJ0QXQoKQogICAgICAgICAgICAgICAga2V5cy5wdXNoKG5ldyBEYXRlKHN0YXJ0QXQgKiAxMDAwKS5mb3JtYXQodGhpcy5mbXQpKQogICAgICAgICAgICAgICAgZ29vZ2xlUGF5LnB1c2goaXRlbS5nZXRHb29nbGVQYXkoKS8xMDApCiAgICAgICAgICAgICAgICBhcHBsZVBheS5wdXNoKGl0ZW0uZ2V0QXBwbGVQYXkoKS8xMDApCiAgICAgICAgICAgICAgICBvdGhlclBheS5wdXNoKGl0ZW0uZ2V0T3RoZXJQYXkoKS8xMDApCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHZhbHVlcy5wdXNoKGdvb2dsZVBheSkKICAgICAgICAgICAgdmFsdWVzLnB1c2goYXBwbGVQYXkpCiAgICAgICAgICAgIHZhbHVlcy5wdXNoKG90aGVyUGF5KQogICAgICAgICAgICB0aGlzLnBheURhdGEudmFsdWVzID0gdmFsdWVzCiAgICAgICAgICAgIHRoaXMucGF5RGF0YS5rZXlzID0ga2V5cwogICAgICAgICAgICB0aGlzLnVzZXJEYXRhLmludGVydmFsID0gdGhpcy5pbnRlcnZhbAogICAgICAgICAgICArK3RoaXMucGF5S2V5CiAgICAgICAgfSwKICAgICAgICB0b0ZtdChwYXJhbSl7CiAgICAgICAgICAgIGxldCBzdGFydERhdGUgPSBwYXJhbS5kYXRlWzBdCiAgICAgICAgICAgIGxldCBlbmREYXRlID0gcGFyYW0uZGF0ZVsxXQogICAgICAgICAgICBpZihzdGFydERhdGUuZ2V0VGltZSgpID09PSBlbmREYXRlLmdldFRpbWUoKSl7CiAgICAgICAgICAgICAgICB0aGlzLmZtdCA9ICJoaDptbSIKICAgICAgICAgICAgICAgIHRoaXMuaW50ZXJ2YWwgPSAxMAogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMuZm10ID0gIk1NLWRkIGhoOm1tIgogICAgICAgICAgICAgICAgdGhpcy5pbnRlcnZhbCA9IHVuZGVmaW5lZAogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["real-time.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"real-time.vue","sourceRoot":"src/views/manage/count","sourcesContent":["<template>\n    <div class=\"home-wrapper\">\n        <el-row class=\"date-box\" :gutter=\"20\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <el-form\n                        ref=\"searchForm\"\n                        :inline=\"true\"\n                        :model=\"search\"\n                        label-width=\"90px\"\n                        class=\"search-form\"\n                    >\n                        <el-form-item label=\"区域\">\n                            <el-select v-model=\"search.areaId\" :disabled=\"authAreaId !== 0\" placeholder=\"请选择\">\n                                <el-option v-for=\"item in areaList\"\n                                           :key=\"item.value\"\n                                           :label=\"item.label\"\n                                           :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"时间\" prop=\"createdStart\">\n                            <el-date-picker\n                                v-model=\"search.date\"\n                                type=\"daterange\"\n                                range-separator=\"至\"\n                                start-placeholder=\"开始日期\"\n                                end-placeholder=\"结束日期\">\n                            </el-date-picker>\n                        </el-form-item>\n                        <el-form-item>\n                            <el-button type=\"danger\" @click=\"onSearch\" icon=\"el-icon-refresh\">刷 新</el-button>\n                        </el-form-item>\n                    </el-form>\n                </el-card>\n            </el-col>\n        </el-row>\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsCountLine :data=\"userData\" :key=\"userKey\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsCountLine :data=\"callingData\" :key=\"callingKey\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsCountLine :data=\"callData\" :key=\"callKey\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsCountLine :data=\"expenseData\" :key=\"expenseKey\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsCountLine :data=\"depositData\" :key=\"depositKey\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsCountLine :data=\"payData\" :key=\"payKey\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport CountTo from 'vue-count-to'\nimport ChartsBarLine from '../../../components/Charts/ChartsBarLine'\nimport ChartsBar from '../../../components/Charts/ChartsBar'\nimport ChartsCountLine from '../../../components/Charts/ChartsCountLine'\nimport {getAreaList, getCurrentUserAreaId} from \"@/utils/dist\";\nimport {endUnix, getCurrentDate, startUnix} from \"@/utils/util\";\n\nexport default {\n    name: 'Home',\n    components: {CountTo, ChartsBar, ChartsBarLine, ChartsCountLine},\n    data() {\n        return {\n            userKey: 20,\n            callingKey: 40,\n            callKey: 60,\n            expenseKey: 80,\n            depositKey: 100,\n            payKey: 120,\n            minDate: getCurrentDate(-3),\n            search: {\n                areaId: undefined,\n                date: [\n                    getCurrentDate(),\n                    getCurrentDate()\n                ]\n            },\n            fmt: '',\n            interval: undefined,\n            authAreaId: getCurrentUserAreaId(),\n            areaList: getAreaList(false),\n            userData: {\n                title: '实时用户',\n                legend: ['在线用户', '新用户', '付费用户', '空闲主播', '通话主播'],\n                keys: [],\n                values: []\n            },\n            callingData: {\n                title: '实时通话',\n                legend: ['AIB发起', '用户发起', '主播发起'],\n                keys: [],\n                values: []\n            },\n            callData: {\n                title: '实时呼叫',\n                legend: ['整体呼叫', 'AIB呼叫', '用户呼叫', '主播呼叫'],\n                keys: [],\n                values: []\n            },\n            expenseData: {\n                title: '实时消耗',\n                legend: ['全部用户'],\n                keys: [],\n                values: []\n            },\n            depositData: {\n                title: '实时充值',\n                legend: ['全部用户'],\n                keys: [],\n                values: []\n            },\n            payData: {\n                title: '渠道收入',\n                legend: ['Google', 'Apple', '三方渠道'],\n                keys: [],\n                values: []\n            }\n        }\n    },\n    created() {\n        this.search.areaId = this.authAreaId === 0 ? this.areaList[0].value : this.authAreaId\n        this.initData()\n    },\n    methods: {\n        onSearch() {\n            this.initData()\n        },\n        initData(){\n            const $this = this\n            let param = this.handleParam()\n            this.$service.home.getAreaStat(param, function (result){\n                let statList = result.getStatsList()\n                $this.toFmt(param)\n                $this.handleUserData(statList)\n                $this.handleCallingData(statList)\n                $this.handleCallData(statList)\n                $this.handleExpenseData(statList)\n                $this.handleDepositData(statList)\n                $this.handlePayData(statList)\n            });\n        },\n        handleParam(){\n            let param = this.search;\n            if (param.date.length > 0){\n                param.startAt = startUnix(this.search.date[0])\n                param.endAt = endUnix(this.search.date[1])\n            }\n            return param\n        },\n        handleUserData(statList){\n            let keys = []\n            let values = []\n            let onlineUser = []\n            let newUser = []\n            let payUser = []\n            let idleAnchor = []\n            let busyAnchor = []\n            let len = statList.length\n            statList.forEach((item, index) => {\n                let startAt = item.getStartAt()\n                keys.push(new Date(startAt * 1000).format(this.fmt))\n                onlineUser.push(item.getOnlineUser())\n                newUser.push(item.getNewUser())\n                payUser.push(item.getPayUser())\n                idleAnchor.push(item.getIdleAnchor())\n                busyAnchor.push(item.getBusyAnchor())\n            })\n\n            values.push(onlineUser)\n            values.push(newUser)\n            values.push(payUser)\n            values.push(idleAnchor)\n            values.push(busyAnchor)\n\n            this.userData.keys = keys\n            this.userData.values = values\n            this.userData.interval = this.interval\n            ++this.userKey\n        },\n        handleCallingData(statList){\n            let keys = []\n            let values = []\n            let aiCalling = []\n            let userCalling = []\n            let anchorCalling = []\n            statList.forEach((item, index) => {\n                let startAt = item.getStartAt()\n                keys.push(new Date(startAt * 1000).format(this.fmt))\n                aiCalling.push(item.getAiCalling())\n                userCalling.push(item.getUserCalling())\n                anchorCalling.push(item.getAnchorCalling())\n            })\n            values.push(aiCalling)\n            values.push(userCalling)\n            values.push(anchorCalling)\n\n            this.callingData.keys = keys\n            this.callingData.values = values\n            this.userData.interval = this.interval\n            ++this.callingKey\n        },\n        handleCallData(statList){\n            let keys = []\n            let values = []\n            let aiCall = []\n            let userCall = []\n            let anchorCall = []\n            statList.forEach((item, index) => {\n                let startAt = item.getStartAt()\n                keys.push(new Date(startAt * 1000).format(this.fmt))\n                aiCall.push(item.getAiCall())\n                userCall.push(item.getUserCall())\n                anchorCall.push(item.getAnchorCall())\n            })\n            values.push(aiCall)\n            values.push(userCall)\n            values.push(anchorCall)\n\n            this.callData.keys = keys\n            this.callData.values = values\n            this.userData.interval = this.interval\n            ++this.callKey\n        },\n        handleExpenseData(statList){\n            let keys = []\n            let values = []\n            let expense = []\n            statList.forEach((item, index) => {\n                let startAt = item.getStartAt()\n                keys.push(new Date(startAt * 1000).format(this.fmt))\n                expense.push(item.getExpense())\n            })\n            values.push(expense)\n            this.expenseData.values = values\n            this.expenseData.keys = keys\n            this.userData.interval = this.interval\n            ++this.expenseKey\n        },\n        handleDepositData(statList){\n            let keys = []\n            let values = []\n            let deposit = []\n            statList.forEach((item, index) => {\n                let startAt = item.getStartAt()\n                keys.push(new Date(startAt * 1000).format(this.fmt))\n                deposit.push(item.getDeposit())\n            })\n            values.push(deposit)\n            this.depositData.values = values\n            this.depositData.keys = keys\n            this.userData.interval = this.interval\n            ++this.depositKey\n        },\n        handlePayData(statList){\n            let keys = []\n            let values = []\n            let googlePay = []\n            let applePay = []\n            let otherPay = []\n            statList.forEach((item, index) => {\n                let startAt = item.getStartAt()\n                keys.push(new Date(startAt * 1000).format(this.fmt))\n                googlePay.push(item.getGooglePay()/100)\n                applePay.push(item.getApplePay()/100)\n                otherPay.push(item.getOtherPay()/100)\n            })\n            values.push(googlePay)\n            values.push(applePay)\n            values.push(otherPay)\n            this.payData.values = values\n            this.payData.keys = keys\n            this.userData.interval = this.interval\n            ++this.payKey\n        },\n        toFmt(param){\n            let startDate = param.date[0]\n            let endDate = param.date[1]\n            if(startDate.getTime() === endDate.getTime()){\n                this.fmt = \"hh:mm\"\n                this.interval = 10\n            }else{\n                this.fmt = \"MM-dd hh:mm\"\n                this.interval = undefined\n            }\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../../../assets/less/home\";\n</style>\n"]}]}