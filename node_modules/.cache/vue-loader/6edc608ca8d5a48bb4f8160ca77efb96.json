{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-mobile-audio/src/lib/audio.vue?vue&type=style&index=0&id=334f99ab&lang=scss&scoped=true&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-mobile-audio/src/lib/audio.vue","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi54LWF1ZGlvLXdyYXB7CiAgICBoZWlnaHQ6IDMwcHg7CiAgICB3aWR0aDogMTEwcHg7CiAgICBib3JkZXItcmFkaXVzOiAxNXB4OwogICAgLy8gYm9yZGVyOiAxcHggc29saWQgI2RkZDsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuOwogICAgY3Vyc29yOiBwb2ludGVyOwogICAgYm94LXNoYWRvdzogMHB4IDBweCAzcHggcmdiYSgwLCAwLCAwLCAwLjI1KTsKICAgIC54LXNlY3RvcnsKICAgICAgICBoZWlnaHQ6IDdweDsKICAgICAgICB3aWR0aDogN3B4OwogICAgICAgIGJvcmRlci1yYWRpdXM6NHB4IDEwcHg7CiAgICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgI2RkZDsKICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgI2RkZDsKICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIG1hcmdpbi1sZWZ0OiAxMHB4OwogICAgICAgIC54LWRvdHsKICAgICAgICAgICAgaGVpZ2h0OiA0cHg7CiAgICAgICAgICAgIHdpZHRoOiA0cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2RkZDsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDRweDsKICAgICAgICB9CiAgICB9CiAgICAueC1zZWN0b3I6OmJlZm9yZXsKICAgICAgICBjb250ZW50OiAiIjsKICAgICAgICBoZWlnaHQ6IDlweDsKICAgICAgICB3aWR0aDogOXB4OwogICAgICAgIGJvcmRlci1yYWRpdXM6NHB4IDEycHg7CiAgICAgICAgYm9yZGVyLXJpZ2h0OiAycHggc29saWQgI2RkZDsKICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgI2RkZDsKICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTsKICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgICAgcmlnaHQ6IC03cHg7CiAgICAgICAgdG9wOiAtN3B4OwogICAgfQogICAgLngtc2VjdG9yOjphZnRlcnsKICAgICAgICBjb250ZW50OiAiIjsKICAgICAgICBoZWlnaHQ6IDEycHg7CiAgICAgICAgd2lkdGg6IDEycHg7CiAgICAgICAgYm9yZGVyLXJhZGl1czo0cHggMTRweDsKICAgICAgICBib3JkZXItcmlnaHQ6IDJweCBzb2xpZCAjZGRkOwogICAgICAgIGJvcmRlci10b3A6IDJweCBzb2xpZCAjZGRkOwogICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDBkZWcpOwogICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgICByaWdodDogLTEzcHg7CiAgICAgICAgdG9wOiAtMTNweDsKICAgIH0KICAgIAogICAgLngtdGltZXsKICAgICAgICBjb2xvcjogIzk5OTsKICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxMHB4OwogICAgfQogICAgJi5pbmxpbmV7CiAgICAgICAgZGlzcGxheTogaW5saW5lLWZsZXgKICAgIH0KfQoKQGtleWZyYW1lcyBwbGF5LWRvdHsKICAgIGZyb217CiAgICAgICAgYmFja2dyb3VuZDogI2RkZAogICAgfQogICAgdG97CiAgICAgICAgYmFja2dyb3VuZDogIzVjYWRmZgogICAgfQp9CkBrZXlmcmFtZXMgcGxheS1zZWN0b3J7CiAgICBmcm9tewogICAgICAgIGJvcmRlci1jb2xvcjogI2RkZAogICAgfQogICAgdG97CiAgICAgICAgYm9yZGVyLWNvbG9yOiAjNWNhZGZmCiAgICB9Cn0KLngtc2VjdG9yLnBsYXl7CiAgICBhbmltYXRpb246IHBsYXktc2VjdG9yIDAuM3MgMC4xcyBlYXNlLWluLW91dDsKfQoueC1zZWN0b3IucGxheTo6YmVmb3JlewogICAgYW5pbWF0aW9uOiBwbGF5LXNlY3RvciAwLjNzIDAuMnMgZWFzZS1pbi1vdXQ7Cn0KLngtc2VjdG9yLnBsYXk6OmFmdGVyewogICAgYW5pbWF0aW9uOiBwbGF5LXNlY3RvciAwLjNzIDAuM3MgZWFzZS1pbi1vdXQ7Cn0KLngtc2VjdG9yLnBsYXkgLngtZG90ewogICAgYW5pbWF0aW9uOiBwbGF5LWRvdCAwLjNzIGVhc2UtaW4tb3V0Owp9Cg=="},{"version":3,"sources":["audio.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"audio.vue","sourceRoot":"node_modules/vue-mobile-audio/src/lib","sourcesContent":["<template>\n    <div class=\"x-audio-wrap\" :class=\"{inline:!block}\" ref=\"wrap\" @click=\"play\">\n        <div class=\"x-sector\" :class=\"{play:animate}\">\n            <div class=\"x-dot\"></div>\n        </div>\n        <div class=\"x-time\">{{duration&&showDuration?duration:text}}</div>\n    </div>\n</template>\n<script>\nexport default {\n    name:'m-audio',\n    props:{\n        src:{\n            type:String,\n            default:''\n        },\n        text:{\n            type:String,\n            default:\"轻触播放\"\n        },\n        showDuration:{\n            type:Boolean,\n            default:true\n        },\n        block:{\n            type:Boolean,\n            default:false\n        },\n    },\n    data(){\n        return{\n            audio:null,\n            animate:false,\n            timer:null,\n            duration:null\n        }\n    },\n    mounted(){\n        this.audio=new Audio()\n        this.audio.src=this.src\n        this.audio.addEventListener('canplaythrough',()=>{\n            this.duration=this.format(this.audio.duration)\n        })\n        this.audio.onplay=()=>{\n            this.animate=true\n            this.timer=setInterval(() => {\n                this.animate=false\n                setTimeout(()=>{\n                    this.animate=true\n                },50)\n            }, 1250);\n        }\n        this.audio.onpause=()=>{\n            this.animate=false\n            this.timer&&clearInterval( this.timer)\n        }\n        this.audio.onended=()=>{\n            this.animate=false\n            this.timer&&clearInterval( this.timer)\n        }\n        window.audioList.push(this.audio)//所有实例加入全局变量\n    },\n    methods:{\n        play(){\n            window.audioList.forEach(audio=>{//开始前先关闭所有可能正在运行的实例\n                audio.pause()\n            })\n            if(this.audio.paused){\n                this.audio.play()\n            }else{\n                this.audio.pause()\n            }\n        },\n        format(s){\n            var t='';\n            if(s > -1){\n                var min = Math.floor(s/60) % 60;\n                var sec = s % 60;\n\n                if(min < 10){t += \"0\";}\n                t += min + \"'\";\n                if(sec < 10){t += \"0\";}\n                t += sec.toFixed(2);\n            }\n            t=t.replace('.','\\\"')\n            return t;\n        },\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n.x-audio-wrap{\n    height: 30px;\n    width: 110px;\n    border-radius: 15px;\n    // border: 1px solid #ddd;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    cursor: pointer;\n    box-shadow: 0px 0px 3px rgba(0, 0, 0, 0.25);\n    .x-sector{\n        height: 7px;\n        width: 7px;\n        border-radius:4px 10px;\n        border-right: 2px solid #ddd;\n        border-top: 2px solid #ddd;\n        transform: rotate(45deg);\n        position: relative;\n        margin-left: 10px;\n        .x-dot{\n            height: 4px;\n            width: 4px;\n            border-radius: 4px;\n            background: #ddd;\n            position: absolute;\n            top: 4px;\n        }\n    }\n    .x-sector::before{\n        content: \"\";\n        height: 9px;\n        width: 9px;\n        border-radius:4px 12px;\n        border-right: 2px solid #ddd;\n        border-top: 2px solid #ddd;\n        transform: rotate(0deg);\n        position: absolute;\n        right: -7px;\n        top: -7px;\n    }\n    .x-sector::after{\n        content: \"\";\n        height: 12px;\n        width: 12px;\n        border-radius:4px 14px;\n        border-right: 2px solid #ddd;\n        border-top: 2px solid #ddd;\n        transform: rotate(0deg);\n        position: absolute;\n        right: -13px;\n        top: -13px;\n    }\n    \n    .x-time{\n        color: #999;\n        font-size: 12px;\n        margin-right: 10px;\n    }\n    &.inline{\n        display: inline-flex\n    }\n}\n\n@keyframes play-dot{\n    from{\n        background: #ddd\n    }\n    to{\n        background: #5cadff\n    }\n}\n@keyframes play-sector{\n    from{\n        border-color: #ddd\n    }\n    to{\n        border-color: #5cadff\n    }\n}\n.x-sector.play{\n    animation: play-sector 0.3s 0.1s ease-in-out;\n}\n.x-sector.play::before{\n    animation: play-sector 0.3s 0.2s ease-in-out;\n}\n.x-sector.play::after{\n    animation: play-sector 0.3s 0.3s ease-in-out;\n}\n.x-sector.play .x-dot{\n    animation: play-dot 0.3s ease-in-out;\n}\n</style>\n"]}]}