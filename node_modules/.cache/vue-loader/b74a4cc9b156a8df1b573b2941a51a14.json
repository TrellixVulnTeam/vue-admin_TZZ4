{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/components/GraphEditorEle/PanelDetail/DetailForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/components/GraphEditorEle/PanelDetail/DetailForm.vue","mtime":1626074843779},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7b21pdH0gZnJvbSAnbG9kYXNoJwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ0RldGFpbEZvcm0nLAogICAgaW5qZWN0OiBbJ3Jvb3QnXSwKICAgIHByb3BzOiBbJ3R5cGUnXSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgZm9ybU1vZGVsOiB7fQogICAgICAgIH0KICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIGNvbnN0IGZvcm1Nb2RlbCA9IHRoaXMucm9vdC5wcm9wc0FQSS5nZXRTZWxlY3RlZCgpWzBdLmdldE1vZGVsKCkKICAgICAgICB0aGlzLmZvcm1Nb2RlbCA9IE9iamVjdC5hc3NpZ24oe30sIHtzaGFwZTogJ2Zsb3ctc21vb3RoJ30sIGZvcm1Nb2RlbCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaGFuZGxlU3VibWl0KGUpIHsKICAgICAgICAgICAgY29uc3Qge2dldFNlbGVjdGVkLCBleGVjdXRlQ29tbWFuZCwgdXBkYXRlfSA9IHRoaXMucm9vdC5wcm9wc0FQSQogICAgICAgICAgICBjb25zdCB7Zm9ybU1vZGVsfSA9IHRoaXMKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBpdGVtID0gZ2V0U2VsZWN0ZWQoKVswXQogICAgICAgICAgICAgICAgaWYgKCFpdGVtKSByZXR1cm4KICAgICAgICAgICAgICAgIGV4ZWN1dGVDb21tYW5kKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB1cGRhdGUoaXRlbSwgey4uLm9taXQoZm9ybU1vZGVsLCAnY2hpbGRyZW4nKX0pCiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICB9LCAwKQogICAgICAgIH0KICAgIH0KfQo="},{"version":3,"sources":["DetailForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DetailForm.vue","sourceRoot":"src/components/GraphEditorEle/PanelDetail","sourcesContent":["<template>\n    <div class=\"detail-form\">\n        <el-form @submit.prevent=\"handleSubmit\">\n            <el-form-item v-if=\"type === 'node'\">\n                <el-input v-model=\"formModel.label\" @blur.prevent=\"handleSubmit\"/>\n            </el-form-item>\n            <el-form-item v-else-if=\"type === 'edge'\">\n                <el-input v-model=\"formModel.label\" @blur.prevent=\"handleSubmit\"/>\n                <el-select v-model=\"formModel.shape\" @change.prevent=\"handleSubmit\">\n                    <option value=\"flow-smooth\">Smooth</option>\n                    <option value=\"flow-polyline\">Polyline</option>\n                    <option value=\"custom-polyline\">Custom Polyline</option>\n                    <option value=\"flow-polyline-round\">Polyline Round</option>\n                </el-select>\n            </el-form-item>\n            <el-form-item v-else-if=\"type === 'group'\">\n                <el-input v-model=\"formModel.label\" @blur.prevent=\"handleSubmit\"/>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n\n<script>\nimport {omit} from 'lodash'\n\nexport default {\n    name: 'DetailForm',\n    inject: ['root'],\n    props: ['type'],\n    data() {\n        return {\n            formModel: {}\n        }\n    },\n    created() {\n        const formModel = this.root.propsAPI.getSelected()[0].getModel()\n        this.formModel = Object.assign({}, {shape: 'flow-smooth'}, formModel)\n    },\n    methods: {\n        handleSubmit(e) {\n            const {getSelected, executeCommand, update} = this.root.propsAPI\n            const {formModel} = this\n            setTimeout(() => {\n                const item = getSelected()[0]\n                if (!item) return\n                executeCommand(() => {\n                    update(item, {...omit(formModel, 'children')})\n                })\n            }, 0)\n        }\n    }\n}\n</script>\n"]}]}