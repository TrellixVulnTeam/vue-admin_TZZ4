{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/count/data-report.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/count/data-report.vue","mtime":1634727630853},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb3VudFRvIGZyb20gJ3Z1ZS1jb3VudC10bycKaW1wb3J0IENoYXJ0c0xpbmUgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9DaGFydHMvQ2hhcnRzTGluZScKaW1wb3J0IFBhZ2luYXRpb24gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9QYWdpbmF0aW9uJwppbXBvcnQgewogICAgZ2V0QXBwTGlzdEJ5QXJlYUlkLAogICAgZ2V0QXBwTmFtZSwKICAgIGdldEFyZWFMaXN0LAogICAgZ2V0QXJyTmFtZSwKICAgIGdldEN1cnJlbnRVc2VyQXJlYUlkLAogICAgZ2V0U3RhdEludGVydmFsCn0gZnJvbSAiQC91dGlscy9kaXN0IjsKaW1wb3J0IHtlbmRVbml4LCBnZXRDdXJyZW50RGF0ZSwgc3RhcnRVbml4LCB0b0RvbGxhcn0gZnJvbSAiQC91dGlscy91dGlsIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICdIb21lJywKICAgIGNvbXBvbmVudHM6IHtDb3VudFRvLCBDaGFydHNMaW5lLCBQYWdpbmF0aW9ufSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8g5pWw5o2u5YiX6KGo5Yqg6L295Yqo55S7CiAgICAgICAgICAgIGxpc3RMb2FkaW5nOiB0cnVlLAogICAgICAgICAgICAvLyDmn6Xor6LliJfooajlj4LmlbDlr7nosaEKICAgICAgICAgICAgc2VhcmNoOiB7CiAgICAgICAgICAgICAgICBhcmVhSWQ6IDAsCiAgICAgICAgICAgICAgICBhcHBJZDogMCwKICAgICAgICAgICAgICAgIGRhdGU6IFsKICAgICAgICAgICAgICAgICAgICBnZXRDdXJyZW50RGF0ZSgtNiksCiAgICAgICAgICAgICAgICAgICAgZ2V0Q3VycmVudERhdGUoKQogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICAgIGludGVydmFsOiA0LAogICAgICAgICAgICAgICAgcGFnZTogewogICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMDAwCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHRvdGFsOiAwLAogICAgICAgICAgICBhY3RpdmVJbmRleDogJzEnLAogICAgICAgICAgICBjdXJyZW50RGF0ZToge30sCiAgICAgICAgICAgIGF1dGhBcmVhSWQ6IGdldEN1cnJlbnRVc2VyQXJlYUlkKCksCiAgICAgICAgICAgIGFwcExpc3Q6IHVuZGVmaW5lZCwKICAgICAgICAgICAgYXJlYUxpc3Q6IGdldEFyZWFMaXN0KHRydWUpLAogICAgICAgICAgICBhcmVhTGlzdEFsbDogZ2V0QXJlYUxpc3QoZmFsc2UpLAogICAgICAgICAgICBpbnRlcnZhbExpc3Q6IGdldFN0YXRJbnRlcnZhbCgpLAogICAgICAgICAgICBpbmNvbWVEYXRhOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+aVtOS9k+aUtuWFpScsCiAgICAgICAgICAgICAgICBsZWdlbmQ6IFsn5pW05L2T5pS25YWlJ10sCiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5ld0luY29tZURhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5paw5aKe5pS25YWlJywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWyfmlrDlop7mlLblhaUnXQogICAgICAgICAgICB9LAogICAgICAgICAgICBwYXlQYWlkUmF0aW9EYXRhOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+aVtOS9k+S7mOi0ueeOhycsCiAgICAgICAgICAgICAgICBsZWdlbmQ6IFsn5pW05L2T5LuY6LS5546HJ10sCiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG5ld1BheVBhaWRSYXRpb0RhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5paw5aKe5LuY6LS5546HJywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWyfmlrDlop7ku5jotLnnjocnXSwKICAgICAgICAgICAgICAgIGtleXM6IFtdLAogICAgICAgICAgICAgICAgdmFsdWVzOiBbXQogICAgICAgICAgICB9LAogICAgICAgICAgICBuZXdVc2VyRGF0YTogewogICAgICAgICAgICAgICAgdGl0bGU6ICfmlrDlop7nlKjmiLfmlbAnLAogICAgICAgICAgICAgICAgbGVnZW5kOiBbJ+aWsOWinueUqOaItyddLAogICAgICAgICAgICAgICAga2V5czogW10sCiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHBheVVzZXJEYXRhOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+a0u+i3g+eahOS7mOi0ueeUqOaIt+aVsCcsCiAgICAgICAgICAgICAgICBsZWdlbmQ6IFsn5LuY6LS5546H55So5oi3J10sCiAgICAgICAgICAgICAgICBrZXlzOiBbXSwKICAgICAgICAgICAgICAgIHZhbHVlczogW10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgYW5zd2VyUmF0aW9EYXRhOiB7CiAgICAgICAgICAgICAgICB0aXRsZTogJ+eUteivneaOpemAmueOhycsCiAgICAgICAgICAgICAgICBsZWdlbmQ6IFsn5o6l6YCa546HJ10sCiAgICAgICAgICAgICAgICBrZXlzOiBbXSwKICAgICAgICAgICAgICAgIHZhbHVlczogW10KICAgICAgICAgICAgfSwKICAgICAgICAgICAgZHVyYXRpb25SYXRpb0RhdGE6IHsKICAgICAgICAgICAgICAgIHRpdGxlOiAn5bmz5Z2H6YCa6K+d5pe26ZW/JywKICAgICAgICAgICAgICAgIGxlZ2VuZDogWyfpgJror53ml7bplb8nXSwKICAgICAgICAgICAgICAgIGtleXM6IFtdLAogICAgICAgICAgICAgICAgdmFsdWVzOiBbXQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKSB7CiAgICAgICAgdGhpcy5pbml0KCkKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgaW5pdCgpewogICAgICAgICAgICB0aGlzLnNlYXJjaC5hcmVhSWQgPSB0aGlzLmF1dGhBcmVhSWQgPT09IDAgPyB0aGlzLmFyZWFMaXN0WzBdLnZhbHVlIDogdGhpcy5hdXRoQXJlYUlkCiAgICAgICAgICAgIHRoaXMuY2hhbmdlQXJlYSh0aGlzLnNlYXJjaC5hcmVhSWQpCiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKCkKICAgICAgICB9LAogICAgICAgIGZldGNoRGF0YSgpIHsKICAgICAgICAgICAgY29uc3QgJHRoaXMgPSB0aGlzCiAgICAgICAgICAgIHRoaXMuY2FyZEluZm9EYXRhID0gW10KICAgICAgICAgICAgbGV0IHBhcmFtID0gdGhpcy5oYW5kbGVTZWFyY2goKQogICAgICAgICAgICB0aGlzLiRzZXJ2aWNlLmhvbWUuZ2V0VXNlclN0YXQocGFyYW0sIGZ1bmN0aW9uIChyZXN1bHQpewogICAgICAgICAgICAgICAgY29uc3QgbGlzdCA9IHJlc3VsdC5nZXRTdGF0c0xpc3QoKQogICAgICAgICAgICAgICAgbGV0IGtleXMgPSBbXQogICAgICAgICAgICAgICAgbGV0IHRhYmxlRGF0YSA9IFtdCgogICAgICAgICAgICAgICAgbGV0IGZtdCA9ICR0aGlzLnRvRm10KHBhcmFtKQoKICAgICAgICAgICAgICAgIGxldCBpbmNvbWVzID0gW10KICAgICAgICAgICAgICAgIGxldCBuZXdJbmNvbWVzID0gW10KICAgICAgICAgICAgICAgIGxldCBwYXlQYWlkUmF0aW9zID0gW10KICAgICAgICAgICAgICAgIGxldCBuZXdQYXlQYWlkUmF0aW9zID0gW10KICAgICAgICAgICAgICAgIGxldCBuZXdVc2VyID0gW10KICAgICAgICAgICAgICAgIGxldCBwYXlVc2VyID0gW10KICAgICAgICAgICAgICAgIGxldCBhbnN3ZXJSYXRpb3MgPSBbXQogICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uUmF0aW9zID0gW10KICAgICAgICAgICAgICAgIGxpc3QuZm9yRWFjaCgoaXRlbSwgaW5kZXgpPT57CiAgICAgICAgICAgICAgICAgICAgbGV0IHN0YXJ0QXQgPSBpdGVtLmdldFN0YXJ0QXQoKQogICAgICAgICAgICAgICAgICAgIGtleXMucHVzaChuZXcgRGF0ZShzdGFydEF0ICogMTAwMCkuZm9ybWF0KGZtdCkpCiAgICAgICAgICAgICAgICAgICAgaW5jb21lcy5wdXNoKHRvRG9sbGFyKGl0ZW0uZ2V0SW5jb21lKCkpKQogICAgICAgICAgICAgICAgICAgIG5ld0luY29tZXMucHVzaCh0b0RvbGxhcihpdGVtLmdldE5ld0luY29tZSgpKSkKCiAgICAgICAgICAgICAgICAgICAgbGV0IHBheVBhaWRSYXRpbyA9ICR0aGlzLnRvUmF0aW8oaXRlbS5nZXRQYXlVc2VyKCksIGl0ZW0uZ2V0QWN0aXZlVXNlcigpKQogICAgICAgICAgICAgICAgICAgIHBheVBhaWRSYXRpb3MucHVzaChwYXlQYWlkUmF0aW8pCgogICAgICAgICAgICAgICAgICAgIGxldCBuZXdQYXlQYWlkUmF0aW8gPSAkdGhpcy50b1JhdGlvKGl0ZW0uZ2V0TmV3UGF5VXNlcigpLCBpdGVtLmdldE5ld1VzZXIoKSkKICAgICAgICAgICAgICAgICAgICBuZXdQYXlQYWlkUmF0aW9zLnB1c2gobmV3UGF5UGFpZFJhdGlvKQoKICAgICAgICAgICAgICAgICAgICBuZXdVc2VyLnB1c2goaXRlbS5nZXROZXdVc2VyKCkpCgogICAgICAgICAgICAgICAgICAgIHBheVVzZXIucHVzaChpdGVtLmdldFBheVVzZXIoKSkKCiAgICAgICAgICAgICAgICAgICAgbGV0IGFuc3dlclJhdGlvID0gJHRoaXMudG9SYXRpbyhpdGVtLmdldEFuc3dlcigpLCBpdGVtLmdldENhbGwoKSkKICAgICAgICAgICAgICAgICAgICBhbnN3ZXJSYXRpb3MucHVzaChhbnN3ZXJSYXRpbykKCiAgICAgICAgICAgICAgICAgICAgbGV0IGR1cmF0aW9uUmF0aW8gPSAkdGhpcy50b0F2ZShpdGVtLmdldER1cmF0aW9uKCksIGl0ZW0uZ2V0QW5zd2VyKCkpCiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25SYXRpb3MucHVzaChkdXJhdGlvblJhdGlvKQoKICAgICAgICAgICAgICAgICAgICAvLyDliJfooajmlbDmja4KICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uID0gewogICAgICAgICAgICAgICAgICAgICAgICAiaWQiIDogaXRlbS5nZXRJZCgpLAogICAgICAgICAgICAgICAgICAgICAgICAiZGF0ZSIgOiBuZXcgRGF0ZShzdGFydEF0ICogMTAwMCkuZm9ybWF0KCJ5eXl5LU1NLWRkIGhoOm1tIiksCiAgICAgICAgICAgICAgICAgICAgICAgICJhcHBJZCIgOiBpdGVtLmdldEFwcElkKCksCiAgICAgICAgICAgICAgICAgICAgICAgICJhcHAiIDogZ2V0QXBwTmFtZSgkdGhpcy5hcHBMaXN0LCBpdGVtLmdldEFwcElkKCkpLAogICAgICAgICAgICAgICAgICAgICAgICAiYXJlYUlkIiA6IGl0ZW0uZ2V0QXJlYUlkKCksCiAgICAgICAgICAgICAgICAgICAgICAgICJhcmVhTmFtZSIgOiBnZXRBcnJOYW1lKCR0aGlzLmFyZWFMaXN0QWxsLCBpdGVtLmdldEFyZWFJZCgpKSwKICAgICAgICAgICAgICAgICAgICAgICAgImluY29tZSIgOiB0b0RvbGxhcihpdGVtLmdldEluY29tZSgpKSwKICAgICAgICAgICAgICAgICAgICAgICAgIm5ld0luY29tZSIgOiB0b0RvbGxhcihpdGVtLmdldE5ld0luY29tZSgpKSwKICAgICAgICAgICAgICAgICAgICAgICAgInBheVBhaWRSYXRpbyIgOiBwYXlQYWlkUmF0aW8sCiAgICAgICAgICAgICAgICAgICAgICAgICJuZXdQYXlQYWlkUmF0aW8iIDogbmV3UGF5UGFpZFJhdGlvLAogICAgICAgICAgICAgICAgICAgICAgICAibmV3VXNlciIgOiBpdGVtLmdldE5ld1VzZXIoKSwKICAgICAgICAgICAgICAgICAgICAgICAgInBheVVzZXIiIDogaXRlbS5nZXRQYXlVc2VyKCksCiAgICAgICAgICAgICAgICAgICAgICAgICJhbnN3ZXJSYXRpbyIgOiBhbnN3ZXJSYXRpbywKICAgICAgICAgICAgICAgICAgICAgICAgImR1cmF0aW9uUmF0aW8iIDogZHVyYXRpb25SYXRpbwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0YWJsZURhdGEucHVzaChqc29uKQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC8v5pW05L2T5pS25YWlCiAgICAgICAgICAgICAgICAkdGhpcy5pbmNvbWVEYXRhLmtleXMgPSBrZXlzCiAgICAgICAgICAgICAgICAkdGhpcy5pbmNvbWVEYXRhLnZhbHVlcyA9IFtdCiAgICAgICAgICAgICAgICAkdGhpcy5pbmNvbWVEYXRhLnZhbHVlcy5wdXNoKGluY29tZXMpCgogICAgICAgICAgICAgICAgLy/mlrDlop7mlLblhaUKICAgICAgICAgICAgICAgICR0aGlzLm5ld0luY29tZURhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgICAgICR0aGlzLm5ld0luY29tZURhdGEudmFsdWVzID0gW10KICAgICAgICAgICAgICAgICR0aGlzLm5ld0luY29tZURhdGEudmFsdWVzLnB1c2gobmV3SW5jb21lcykKCiAgICAgICAgICAgICAgICAvL+aVtOS9k+S7mOi0ueeOhwogICAgICAgICAgICAgICAgJHRoaXMucGF5UGFpZFJhdGlvRGF0YS5rZXlzID0ga2V5cwogICAgICAgICAgICAgICAgJHRoaXMucGF5UGFpZFJhdGlvRGF0YS52YWx1ZXMgPSBbXQogICAgICAgICAgICAgICAgJHRoaXMucGF5UGFpZFJhdGlvRGF0YS52YWx1ZXMucHVzaChwYXlQYWlkUmF0aW9zKQoKICAgICAgICAgICAgICAgIC8v5paw5aKe5LuY6LS5546HCiAgICAgICAgICAgICAgICAkdGhpcy5uZXdQYXlQYWlkUmF0aW9EYXRhLmtleXMgPSBrZXlzCiAgICAgICAgICAgICAgICAkdGhpcy5uZXdQYXlQYWlkUmF0aW9EYXRhLnZhbHVlcyA9IFtdCiAgICAgICAgICAgICAgICAkdGhpcy5uZXdQYXlQYWlkUmF0aW9EYXRhLnZhbHVlcy5wdXNoKG5ld1BheVBhaWRSYXRpb3MpCgogICAgICAgICAgICAgICAgLy/mlrDlop7nlKjmiLfmlbAKICAgICAgICAgICAgICAgICR0aGlzLm5ld1VzZXJEYXRhLmtleXMgPSBrZXlzCiAgICAgICAgICAgICAgICAkdGhpcy5uZXdVc2VyRGF0YS52YWx1ZXMgPSBbXQogICAgICAgICAgICAgICAgJHRoaXMubmV3VXNlckRhdGEudmFsdWVzLnB1c2gobmV3VXNlcikKCiAgICAgICAgICAgICAgICAvL+a0u+i3g+eahOS7mOi0ueeUqOaIt+aVsAogICAgICAgICAgICAgICAgJHRoaXMucGF5VXNlckRhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgICAgICR0aGlzLnBheVVzZXJEYXRhLnZhbHVlcyA9IFtdCiAgICAgICAgICAgICAgICAkdGhpcy5wYXlVc2VyRGF0YS52YWx1ZXMucHVzaChwYXlVc2VyKQoKICAgICAgICAgICAgICAgIC8v55S16K+d5o6l6YCa546HCiAgICAgICAgICAgICAgICAkdGhpcy5hbnN3ZXJSYXRpb0RhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgICAgICR0aGlzLmFuc3dlclJhdGlvRGF0YS52YWx1ZXMgPSBbXQogICAgICAgICAgICAgICAgJHRoaXMuYW5zd2VyUmF0aW9EYXRhLnZhbHVlcy5wdXNoKGFuc3dlclJhdGlvcykKCiAgICAgICAgICAgICAgICAvL+W5s+Wdh+mAmuivneaXtumVvwogICAgICAgICAgICAgICAgJHRoaXMuZHVyYXRpb25SYXRpb0RhdGEua2V5cyA9IGtleXMKICAgICAgICAgICAgICAgICR0aGlzLmR1cmF0aW9uUmF0aW9EYXRhLnZhbHVlcyA9IFtdCiAgICAgICAgICAgICAgICAkdGhpcy5kdXJhdGlvblJhdGlvRGF0YS52YWx1ZXMucHVzaChkdXJhdGlvblJhdGlvcykKCiAgICAgICAgICAgICAgICAkdGhpcy50b3RhbCA9IHRhYmxlRGF0YS5sZW5ndGgKICAgICAgICAgICAgICAgICR0aGlzLnRhYmxlRGF0YSA9IHRhYmxlRGF0YQogICAgICAgICAgICAgICAgJHRoaXMubGlzdExvYWRpbmcgPSBmYWxzZQoKICAgICAgICAgICAgICAgICR0aGlzLnNlbEl0ZW0oJHRoaXMuYWN0aXZlSW5kZXgpCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgdG9GbXQocGFyYW0pewogICAgICAgICAgICBsZXQgZm10ID0gIk1NLWRkIGhoOm1tIjsKICAgICAgICAgICAgbGV0IGludGVydmFsID0gcGFyYW0uaW50ZXJ2YWwKICAgICAgICAgICAgaWYoaW50ZXJ2YWwgPT09IDMpewogICAgICAgICAgICAgICAgbGV0IHN0YXJ0RGF0ZSA9IHBhcmFtLmRhdGVbMF0KICAgICAgICAgICAgICAgIGxldCBlbmREYXRlID0gcGFyYW0uZGF0ZVsxXQogICAgICAgICAgICAgICAgZm10ID0gc3RhcnREYXRlLmdldFRpbWUoKSA9PT0gZW5kRGF0ZS5nZXRUaW1lKCkgPyAiaGg6bW0iIDogIk1NLWRkIGhoOm1tIgogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiBmbXQKICAgICAgICB9LAogICAgICAgIHRvUmF0aW8obnVtLCB0b3RhbCl7CiAgICAgICAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtKTsKICAgICAgICAgICAgdG90YWwgPSBwYXJzZUZsb2F0KHRvdGFsKTsKICAgICAgICAgICAgaWYgKGlzTmFOKG51bSkgfHwgaXNOYU4odG90YWwpKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gdG90YWwgPD0gMCA/IDAgOiAoTWF0aC5yb3VuZChudW0gLyB0b3RhbCAqIDEwMDAwKSAvIDEwMC4wMCk7CiAgICAgICAgfSwKICAgICAgICB0b0F2ZShudW0sIHRvdGFsKXsKICAgICAgICAgICAgaWYgKHRvdGFsID09PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gbnVtCiAgICAgICAgICAgIH1lbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKG51bSAvIHRvdGFsKQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBoYW5kbGVTZWFyY2goKXsKICAgICAgICAgICAgbGV0IHBhcmFtID0gdGhpcy5zZWFyY2g7CiAgICAgICAgICAgIHBhcmFtLnN0YXJ0QXQgPSBzdGFydFVuaXgodGhpcy5zZWFyY2guZGF0ZVswXSkKICAgICAgICAgICAgcGFyYW0uZW5kQXQgPSBlbmRVbml4KHRoaXMuc2VhcmNoLmRhdGVbMV0pCiAgICAgICAgICAgIHJldHVybiBwYXJhbQogICAgICAgIH0sCiAgICAgICAgb25TZWFyY2goKSB7CiAgICAgICAgICAgIHRoaXMuc2VhcmNoLnBhZ2UuY3VycmVudFBhZ2UgPSAxCiAgICAgICAgICAgIHRoaXMuZmV0Y2hEYXRhKCkKICAgICAgICB9LAogICAgICAgIHNlbEl0ZW0oa2V5KSB7CiAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSB7fQogICAgICAgICAgICBzd2l0Y2ggKGtleSl7CiAgICAgICAgICAgICAgICBjYXNlICcxJzoKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy5pbmNvbWVEYXRhCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICcyJzoKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy5uZXdJbmNvbWVEYXRhCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICczJzoKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy5wYXlQYWlkUmF0aW9EYXRhCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICc0JzoKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy5uZXdQYXlQYWlkUmF0aW9EYXRhCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlICc1JzoKICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRlID0gdGhpcy5uZXdVc2VyRGF0YQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnNic6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IHRoaXMucGF5VXNlckRhdGEKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIGNhc2UgJzcnOgogICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGUgPSB0aGlzLmFuc3dlclJhdGlvRGF0YQogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAnOCc6CiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0ZSA9IHRoaXMuZHVyYXRpb25SYXRpb0RhdGEKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLiRyZWZzLmNoYXJ0c0xpbmUuaW5pdCh0aGlzLmN1cnJlbnREYXRlKTsKICAgICAgICB9LAogICAgICAgIGNoYW5nZUFyZWEodmFsKXsKICAgICAgICAgICAgdGhpcy5hcHBMaXN0ID0gZ2V0QXBwTGlzdEJ5QXJlYUlkKHZhbCwgdHJ1ZSwgdHJ1ZSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["data-report.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"data-report.vue","sourceRoot":"src/views/manage/count","sourcesContent":["<template>\n    <div class=\"home-wrapper\">\n        <el-row class=\"date-box\" :gutter=\"20\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <el-form\n                        ref=\"searchForm\"\n                        :inline=\"true\"\n                        :model=\"search\"\n                        label-width=\"90px\"\n                        class=\"search-form\"\n                    >\n                        <el-form-item label=\"区域\">\n                            <el-select v-model=\"search.areaId\" @change=\"changeArea\" :disabled=\"authAreaId !== 0\" placeholder=\"请选择\">\n                                <el-option v-for=\"item in areaList\"\n                                           :key=\"item.value\"\n                                           :label=\"item.label\"\n                                           :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"APP\">\n                            <el-select v-model=\"search.appId\" placeholder=\"请选择\">\n                                <el-option v-for=\"item in appList\"\n                                           :key=\"item.value\"\n                                           :label=\"item.label\"\n                                           :value=\"item.value\">\n                                    <span style=\"float: left\">{{ item.label }}</span>\n                                    <span v-if=\"item.os === 1\">\n                                            <i class=\"icon-android-fill\" style=\"float: right\"></i>\n                                        </span>\n                                    <span v-else-if=\"item.os === 2\">\n                                            <i class=\"icon-pingguo\" style=\"float: right\"></i>\n                                        </span>\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"间隔\">\n                            <el-select v-model=\"search.interval\" placeholder=\"请选择\">\n                                <el-option v-for=\"item in intervalList\"\n                                           :key=\"item.value\"\n                                           :label=\"item.label\"\n                                           :value=\"item.value\">\n                                </el-option>\n                            </el-select>\n                        </el-form-item>\n                        <el-form-item label=\"时间\" prop=\"createdStart\">\n                            <el-date-picker\n                                v-model=\"search.date\"\n                                type=\"daterange\"\n                                range-separator=\"至\"\n                                start-placeholder=\"开始日期\"\n                                end-placeholder=\"结束日期\">\n                            </el-date-picker>\n                        </el-form-item>\n                        <el-form-item>\n                            <el-button type=\"danger\" @click=\"onSearch\" icon=\"el-icon-refresh\">刷 新</el-button>\n                        </el-form-item>\n                    </el-form>\n                </el-card>\n            </el-col>\n        </el-row>\n\n        <el-menu :default-active=\"activeIndex\" class=\"el-menu-demo\" mode=\"horizontal\" @select=\"selItem\">\n            <el-menu-item index=\"1\">整体收入</el-menu-item>\n            <el-menu-item index=\"2\">新增收入</el-menu-item>\n            <el-menu-item index=\"3\">整体付费率</el-menu-item>\n            <el-menu-item index=\"4\">新增付费率</el-menu-item>\n            <el-menu-item index=\"5\">新增用户数</el-menu-item>\n            <el-menu-item index=\"6\">活跃的付费用户数</el-menu-item>\n            <el-menu-item index=\"7\">电话接通率</el-menu-item>\n            <el-menu-item index=\"8\">平均通话时长</el-menu-item>\n        </el-menu>\n\n        <el-row class=\"date-box\" :gutter=\"30\">\n            <el-col :span=\"24\">\n                <el-card shadow=\"always\" :body-style=\"{padding: '10px', paddingTop:'20px'}\">\n                    <ChartsLine :data=\"incomeData\" ref=\"chartsLine\" class=\"data-chart\"/>\n                </el-card>\n            </el-col>\n        </el-row>\n        <el-card shadow=\"always\" style=\"padding-top: 30px;padding-bottom: 50px\">\n        <!-- 表格栏 -->\n        <el-table\n            ref=\"multipleTable\"\n            v-loading=\"listLoading\"\n            :data=\"tableData\"\n            tooltip-effect=\"dark\"\n            style=\"width: 100%\"\n            size=\"medium\"\n        >\n            <el-table-column prop=\"date\" label=\"日期\" align=\"center\" width=\"200\" />\n            <el-table-column prop=\"app\" label=\"APP\" align=\"center\" width=\"120\">\n                <template scope=\"scope\">\n                    <div slot=\"reference\">\n                        {{ scope.row.app.label }}\n                        <span v-if=\"scope.row.app.os === 1\">\n                            <i class=\"icon-android-fill\"></i>\n                        </span>\n                        <span v-else-if=\"scope.row.app.os === 2\">\n                            <i class=\"icon-pingguo\"></i>\n                        </span>\n                    </div>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"areaName\" label=\"区域\" align=\"center\" width=\"120\" />\n            <el-table-column prop=\"income\" label=\"整体收入\" align=\"center\" width=\"120\"/>\n            <el-table-column prop=\"newIncome\" label=\"新增收入\" align=\"center\" width=\"120\"/>\n            <el-table-column prop=\"payPaidRatio\" label=\"整体付费率\" align=\"center\" width=\"120\"/>\n            <el-table-column prop=\"newPayPaidRatio\" label=\"新增付费率\" align=\"center\" width=\"120\"/>\n            <el-table-column prop=\"newUser\" label=\"新增用户数\" align=\"center\" width=\"120\"/>\n            <el-table-column prop=\"payUser\" label=\"活跃的付费用户数\" align=\"center\"/>\n            <el-table-column prop=\"answerRatio\" label=\"电话接通率\" align=\"center\"/>\n            <el-table-column prop=\"durationRatio\" label=\"平均通话时长\" align=\"center\"/>\n        </el-table>\n        <!-- 分页栏 -->\n        <Pagination :total=\"total\" :page.sync=\"search.page.currentPage\" :limit.sync=\"search.page.pageSize\"\n                    @pagination=\"fetchData\"/>\n        </el-card>\n    </div>\n</template>\n\n<script>\nimport CountTo from 'vue-count-to'\nimport ChartsLine from '../../../components/Charts/ChartsLine'\nimport Pagination from '../../../components/Pagination'\nimport {\n    getAppListByAreaId,\n    getAppName,\n    getAreaList,\n    getArrName,\n    getCurrentUserAreaId,\n    getStatInterval\n} from \"@/utils/dist\";\nimport {endUnix, getCurrentDate, startUnix, toDollar} from \"@/utils/util\";\n\nexport default {\n    name: 'Home',\n    components: {CountTo, ChartsLine, Pagination},\n    data() {\n        return {\n            // 数据列表加载动画\n            listLoading: true,\n            // 查询列表参数对象\n            search: {\n                areaId: 0,\n                appId: 0,\n                date: [\n                    getCurrentDate(-6),\n                    getCurrentDate()\n                ],\n                interval: 4,\n                page: {\n                    currentPage: 1,\n                    pageSize: 1000\n                }\n            },\n            total: 0,\n            activeIndex: '1',\n            currentDate: {},\n            authAreaId: getCurrentUserAreaId(),\n            appList: undefined,\n            areaList: getAreaList(true),\n            areaListAll: getAreaList(false),\n            intervalList: getStatInterval(),\n            incomeData: {\n                title: '整体收入',\n                legend: ['整体收入'],\n                values: []\n            },\n            newIncomeData: {\n                title: '新增收入',\n                legend: ['新增收入']\n            },\n            payPaidRatioData: {\n                title: '整体付费率',\n                legend: ['整体付费率'],\n                values: []\n            },\n            newPayPaidRatioData: {\n                title: '新增付费率',\n                legend: ['新增付费率'],\n                keys: [],\n                values: []\n            },\n            newUserData: {\n                title: '新增用户数',\n                legend: ['新增用户'],\n                keys: [],\n                values: []\n            },\n            payUserData: {\n                title: '活跃的付费用户数',\n                legend: ['付费率用户'],\n                keys: [],\n                values: []\n            },\n            answerRatioData: {\n                title: '电话接通率',\n                legend: ['接通率'],\n                keys: [],\n                values: []\n            },\n            durationRatioData: {\n                title: '平均通话时长',\n                legend: ['通话时长'],\n                keys: [],\n                values: []\n            }\n        }\n    },\n    mounted() {\n        this.init()\n    },\n    methods: {\n        init(){\n            this.search.areaId = this.authAreaId === 0 ? this.areaList[0].value : this.authAreaId\n            this.changeArea(this.search.areaId)\n            this.fetchData()\n        },\n        fetchData() {\n            const $this = this\n            this.cardInfoData = []\n            let param = this.handleSearch()\n            this.$service.home.getUserStat(param, function (result){\n                const list = result.getStatsList()\n                let keys = []\n                let tableData = []\n\n                let fmt = $this.toFmt(param)\n\n                let incomes = []\n                let newIncomes = []\n                let payPaidRatios = []\n                let newPayPaidRatios = []\n                let newUser = []\n                let payUser = []\n                let answerRatios = []\n                let durationRatios = []\n                list.forEach((item, index)=>{\n                    let startAt = item.getStartAt()\n                    keys.push(new Date(startAt * 1000).format(fmt))\n                    incomes.push(toDollar(item.getIncome()))\n                    newIncomes.push(toDollar(item.getNewIncome()))\n\n                    let payPaidRatio = $this.toRatio(item.getPayUser(), item.getActiveUser())\n                    payPaidRatios.push(payPaidRatio)\n\n                    let newPayPaidRatio = $this.toRatio(item.getNewPayUser(), item.getNewUser())\n                    newPayPaidRatios.push(newPayPaidRatio)\n\n                    newUser.push(item.getNewUser())\n\n                    payUser.push(item.getPayUser())\n\n                    let answerRatio = $this.toRatio(item.getAnswer(), item.getCall())\n                    answerRatios.push(answerRatio)\n\n                    let durationRatio = $this.toAve(item.getDuration(), item.getAnswer())\n                    durationRatios.push(durationRatio)\n\n                    // 列表数据\n                    const json = {\n                        \"id\" : item.getId(),\n                        \"date\" : new Date(startAt * 1000).format(\"yyyy-MM-dd hh:mm\"),\n                        \"appId\" : item.getAppId(),\n                        \"app\" : getAppName($this.appList, item.getAppId()),\n                        \"areaId\" : item.getAreaId(),\n                        \"areaName\" : getArrName($this.areaListAll, item.getAreaId()),\n                        \"income\" : toDollar(item.getIncome()),\n                        \"newIncome\" : toDollar(item.getNewIncome()),\n                        \"payPaidRatio\" : payPaidRatio,\n                        \"newPayPaidRatio\" : newPayPaidRatio,\n                        \"newUser\" : item.getNewUser(),\n                        \"payUser\" : item.getPayUser(),\n                        \"answerRatio\" : answerRatio,\n                        \"durationRatio\" : durationRatio\n                    }\n                    tableData.push(json)\n                })\n                //整体收入\n                $this.incomeData.keys = keys\n                $this.incomeData.values = []\n                $this.incomeData.values.push(incomes)\n\n                //新增收入\n                $this.newIncomeData.keys = keys\n                $this.newIncomeData.values = []\n                $this.newIncomeData.values.push(newIncomes)\n\n                //整体付费率\n                $this.payPaidRatioData.keys = keys\n                $this.payPaidRatioData.values = []\n                $this.payPaidRatioData.values.push(payPaidRatios)\n\n                //新增付费率\n                $this.newPayPaidRatioData.keys = keys\n                $this.newPayPaidRatioData.values = []\n                $this.newPayPaidRatioData.values.push(newPayPaidRatios)\n\n                //新增用户数\n                $this.newUserData.keys = keys\n                $this.newUserData.values = []\n                $this.newUserData.values.push(newUser)\n\n                //活跃的付费用户数\n                $this.payUserData.keys = keys\n                $this.payUserData.values = []\n                $this.payUserData.values.push(payUser)\n\n                //电话接通率\n                $this.answerRatioData.keys = keys\n                $this.answerRatioData.values = []\n                $this.answerRatioData.values.push(answerRatios)\n\n                //平均通话时长\n                $this.durationRatioData.keys = keys\n                $this.durationRatioData.values = []\n                $this.durationRatioData.values.push(durationRatios)\n\n                $this.total = tableData.length\n                $this.tableData = tableData\n                $this.listLoading = false\n\n                $this.selItem($this.activeIndex)\n            });\n        },\n        toFmt(param){\n            let fmt = \"MM-dd hh:mm\";\n            let interval = param.interval\n            if(interval === 3){\n                let startDate = param.date[0]\n                let endDate = param.date[1]\n                fmt = startDate.getTime() === endDate.getTime() ? \"hh:mm\" : \"MM-dd hh:mm\"\n            }\n            return fmt\n        },\n        toRatio(num, total){\n            num = parseFloat(num);\n            total = parseFloat(total);\n            if (isNaN(num) || isNaN(total)) {\n                return 0;\n            }\n            return total <= 0 ? 0 : (Math.round(num / total * 10000) / 100.00);\n        },\n        toAve(num, total){\n            if (total === 0) {\n                return num\n            }else {\n                return Math.round(num / total)\n            }\n        },\n        handleSearch(){\n            let param = this.search;\n            param.startAt = startUnix(this.search.date[0])\n            param.endAt = endUnix(this.search.date[1])\n            return param\n        },\n        onSearch() {\n            this.search.page.currentPage = 1\n            this.fetchData()\n        },\n        selItem(key) {\n            this.currentDate = {}\n            switch (key){\n                case '1':\n                    this.currentDate = this.incomeData\n                    break;\n                case '2':\n                    this.currentDate = this.newIncomeData\n                    break;\n                case '3':\n                    this.currentDate = this.payPaidRatioData\n                    break;\n                case '4':\n                    this.currentDate = this.newPayPaidRatioData\n                    break;\n                case '5':\n                    this.currentDate = this.newUserData\n                    break;\n                case '6':\n                    this.currentDate = this.payUserData\n                    break;\n                case '7':\n                    this.currentDate = this.answerRatioData\n                    break;\n                case '8':\n                    this.currentDate = this.durationRatioData\n                    break;\n            }\n            this.$refs.chartsLine.init(this.currentDate);\n        },\n        changeArea(val){\n            this.appList = getAppListByAreaId(val, true, true)\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../../../assets/less/home\";\n</style>\n<style lang=\"less\">\n.table-classic-wrapper {\n    .el-card {\n        min-height: 656px;\n    }\n\n    .control-btns {\n        margin-bottom: 20px;\n    }\n\n    .search-form {\n        padding-top: 18px;\n        margin-bottom: 15px;\n        background-color: #f7f8fb;\n    }\n\n    .el-table thead {\n        font-weight: 600;\n\n        th {\n            background-color: #f2f3f7;\n        }\n    }\n\n    .dialog-form {\n        .el-input {\n            width: 380px;\n        }\n        .footer-item {\n            margin-top: 50px;\n            text-align: right;\n        }\n    }\n    .el-divider--horizontal{\n        width: 95%;\n        margin-left: 20px;\n        margin-right: 20px;\n    }\n    .search-box {\n        margin-left: 0;\n        text-align: center;\n        margin-top: 10px;\n        margin-bottom: 20px\n    }\n}\n</style>\n"]}]}