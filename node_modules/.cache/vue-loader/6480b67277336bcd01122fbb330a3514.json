{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/layout/components/TagsView/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/layout/components/TagsView/index.vue","mtime":1626074721942},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgcGF0aCBmcm9tICdwYXRoJw0KaW1wb3J0IHttYXBHZXR0ZXJzLCBtYXBNdXRhdGlvbnN9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgVGFnSXRlbSBmcm9tICcuL1RhZ0l0ZW0nDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAnVGFnc1ZpZXcnLA0KICAgIGNvbXBvbmVudHM6IHtUYWdJdGVtfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgdGFnc0NvbnRMZWZ0OiAwLA0KICAgICAgICAgICAgY29udFBhZGRpbmc6IDQsDQogICAgICAgICAgICBzZWxlY3RlZFRhZzoge30NCiAgICAgICAgfQ0KICAgIH0sDQogICAgY29tcHV0ZWQ6IHsNCiAgICAgICAgLi4ubWFwR2V0dGVycyhbJ3Zpc2l0ZWRWaWV3cyddKSwNCiAgICAgICAgcm91dGVzKCkgew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5vcHRpb25zLnJvdXRlcw0KICAgICAgICB9DQogICAgfSwNCiAgICB3YXRjaDogew0KICAgICAgICAkcm91dGUodmFsKSB7DQogICAgICAgICAgICB0aGlzLmFkZFRhZ3MoKQ0KICAgICAgICAgICAgdGhpcy5nZXRUYWdFbGVtZW50KHZhbCkNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRUYWcgPSB2YWwNCiAgICAgICAgfQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICAgICAgdGhpcy5pbml0VGFncygpDQogICAgICAgIHRoaXMuYWRkVGFncygpDQogICAgfSwNCiAgICBtZXRob2RzOiB7DQogICAgICAgIC4uLm1hcE11dGF0aW9ucyhbJ2FkZFZpc2l0ZWRWaWV3JywgJ2RlbFZpc2l0ZWRWaWV3JywgJ2RlbEFsbFZpc2l0ZWRWaWV3JywgJ2RlbE90aGVyc1Zpc2l0ZWRWaWV3J10pLA0KICAgICAgICBpc0FjdGl2ZSh0YWcpIHsNCiAgICAgICAgICAgIHJldHVybiB0YWcucGF0aCA9PT0gdGhpcy4kcm91dGUucGF0aA0KICAgICAgICB9LA0KICAgICAgICBmaWx0ZXJGaXhlZFRhZ3Mocm91dGVzLCBiYXNlUGF0aCA9ICcvJykgew0KICAgICAgICAgICAgbGV0IHRhZ3MgPSBbXQ0KICAgICAgICAgICAgcm91dGVzLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW0ubWV0YSAmJiBpdGVtLm1ldGEuZml4ZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFnUGF0aCA9IHBhdGgucmVzb2x2ZShiYXNlUGF0aCwgaXRlbS5wYXRoKQ0KICAgICAgICAgICAgICAgICAgICB0YWdzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgZnVsbFBhdGg6IHRhZ1BhdGgsDQogICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiB0YWdQYXRoLA0KICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLA0KICAgICAgICAgICAgICAgICAgICAgICAgbWV0YTogey4uLml0ZW0ubWV0YX0NCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGl0ZW0uY2hpbGRyZW4pIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVtcFRhZ3MgPSB0aGlzLmZpbHRlckZpeGVkVGFncyhpdGVtLmNoaWxkcmVuLCBpdGVtLnBhdGgpDQogICAgICAgICAgICAgICAgICAgIGlmICh0ZW1wVGFncy5sZW5ndGggPj0gMSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFncyA9IFsuLi50YWdzLCAuLi50ZW1wVGFnc10NCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICByZXR1cm4gdGFncw0KICAgICAgICB9LA0KICAgICAgICBpbml0VGFncygpIHsNCiAgICAgICAgICAgIGNvbnN0IGZpeGVkVGFncyA9IHRoaXMuZmlsdGVyRml4ZWRUYWdzKHRoaXMucm91dGVzKQ0KICAgICAgICAgICAgZm9yIChjb25zdCB0YWcgb2YgZml4ZWRUYWdzKSB7DQogICAgICAgICAgICAgICAgaWYgKHRhZy5uYW1lKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVmlzaXRlZFZpZXcodGFnKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgYWRkVGFncygpIHsNCiAgICAgICAgICAgIGNvbnN0IHtuYW1lfSA9IHRoaXMuJHJvdXRlDQogICAgICAgICAgICBpZiAobmFtZSkgew0KICAgICAgICAgICAgICAgIHRoaXMuYWRkVmlzaXRlZFZpZXcodGhpcy4kcm91dGUpDQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gZmFsc2UNCiAgICAgICAgfSwNCiAgICAgICAgaGFuZGxlc2Nyb2xsKGUpIHsNCiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBlLnR5cGUNCiAgICAgICAgICAgIGxldCBkaXN0YW5jZSA9IDANCiAgICAgICAgICAgIC8vIG1vdXNld2hlZWzpnZ7ngavni5DmtY/op4jlmajpvKDmoIfmu5rliqjkuovku7Y7IERPTU1vdXNlU2Nyb2xs54Gr54uQ5rWP6KeI5Zmo6byg5qCH5rua5Yqo5LqL5Lu2DQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNld2hlZWwnIHx8IHR5cGUgPT09ICdET01Nb3VzZVNjcm9sbCcpIHsNCiAgICAgICAgICAgICAgICAvLyBtb3VzZXdoZWVsIOS6i+S7tuS4reeahCBldmVudC53aGVlbERlbHRhIOWxnuaAp+WAvO+8muiLpea7mui9ruaYr+WQkeS4iua7muWKqO+8jOi/lOWbnuWAvOS4uuato++8jOWPjeS5i+S4uui0n++8m+S4lOi/lOWbnueahOWAvO+8jOWdh+S4uiAxMjAg55qE5YCN5pWw77yM5Y2z77ya5bmF5bqm5aSn5bCPID0g6L+U5Zue55qE5YC8IC8gMTIwDQogICAgICAgICAgICAgICAgLy8gRE9NTW91c2VTY3JvbGwg5LqL5Lu25Lit55qEIGV2ZW50LmRldGFpbCDlsZ7mgKflgLzvvJrov5Tlm57nmoTlgLzvvIzkuI4gZXZlbnQud2hlZWxEZWx0YSDmraPlpb3nm7jlj43vvIzljbPmu5rova7mmK/lkJHkuIrmu5rliqjvvIzov5Tlm57lgLzkuLrotJ/vvIzlj43kuYvkuLrmraPvvJvov5Tlm57nmoTlgLzvvIzlnYfkuLogMyDnmoTlgI3mlbDvvIzljbPvvJrluYXluqblpKflsI8gPSDov5Tlm57nmoTlgLwgLyAzDQogICAgICAgICAgICAgICAgZGlzdGFuY2UgPSAoZS53aGVlbERlbHRhKSA/IGUud2hlZWxEZWx0YSA6IC0oZS5kZXRhaWwgfHwgMCkgKiA0MA0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3ZlKGRpc3RhbmNlKQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVNb3ZlKG9mZnNldCkgew0KICAgICAgICAgICAgY29uc3Qgdmlld1dpZHRoID0gdGhpcy4kcmVmcy50YWdzVmlld3Mub2Zmc2V0V2lkdGgNCiAgICAgICAgICAgIGNvbnN0IGNvbnRXaWR0aCA9IHRoaXMuJHJlZnMudGFnc0NvbnQub2Zmc2V0V2lkdGgNCiAgICAgICAgICAgIGlmIChvZmZzZXQgPiAwKSB7DQogICAgICAgICAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSBNYXRoLm1pbigwLCB0aGlzLnRhZ3NDb250TGVmdCArIG9mZnNldCkNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgaWYgKHZpZXdXaWR0aCA8IGNvbnRXaWR0aCkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzQ29udExlZnQgPCAtKGNvbnRXaWR0aCAtIHZpZXdXaWR0aCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoaXMudGFnc0NvbnRMZWZ0ID0gdGhpcy50YWdzQ29udExlZnQNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFnc0NvbnRMZWZ0ID0gTWF0aC5tYXgodGhpcy50YWdzQ29udExlZnQgKyBvZmZzZXQsIHZpZXdXaWR0aCAtIGNvbnRXaWR0aCkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMudGFnc0NvbnRMZWZ0ID0gMA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgZ2V0VGFnRWxlbWVudChyb3V0ZSkgew0KICAgICAgICAgICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gew0KICAgICAgICAgICAgICAgIGNvbnN0IHRhZ3NJdGVtQXJyID0gdGhpcy4kcmVmcy50YWdzSXRlbQ0KICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdGFnc0l0ZW1BcnIuZmluZEluZGV4KGl0ZW0gPT4gew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS50by5wYXRoID09PSByb3V0ZS5mdWxsUGF0aA0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgY29uc3QgdGFnID0gdGFnc0l0ZW1BcnJbaW5kZXhdLiRlbA0KICAgICAgICAgICAgICAgIHRoaXMubW92ZVRvQ3VycmVudFRhZyh0YWcpDQogICAgICAgICAgICB9KQ0KICAgICAgICB9LA0KICAgICAgICBtb3ZlVG9DdXJyZW50VGFnKHRhZykgew0KICAgICAgICAgICAgY29uc3Qgdmlld1dpZHRoID0gdGhpcy4kcmVmcy50YWdzVmlld3Mub2Zmc2V0V2lkdGgNCiAgICAgICAgICAgIGNvbnN0IGNvbnRXaWR0aCA9IHRoaXMuJHJlZnMudGFnc0NvbnQub2Zmc2V0V2lkdGgNCiAgICAgICAgICAgIGlmIChjb250V2lkdGggPCB2aWV3V2lkdGgpIHsNCiAgICAgICAgICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IDANCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnLm9mZnNldExlZnQgPCAtdGhpcy50YWdzQ29udExlZnQpIHsNCiAgICAgICAgICAgICAgICAvLyDmoIfnrb7lnKjlj6/op4bljLrln5/lt6bkvqcNCiAgICAgICAgICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IC10YWcub2Zmc2V0TGVmdCArIHRoaXMuY29udFBhZGRpbmcNCiAgICAgICAgICAgIH0gZWxzZSBpZiAodGFnLm9mZnNldExlZnQgPiAtdGhpcy50YWdzQ29udExlZnQgJiYgdGFnLm9mZnNldExlZnQgKyB0YWcub2Zmc2V0V2lkdGggPCAtdGhpcy50YWdzQ29udExlZnQgKyB2aWV3V2lkdGgpIHsNCiAgICAgICAgICAgICAgICAvLyDmoIfnrb7lnKjlj6/op4bljLrln58NCiAgICAgICAgICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IE1hdGgubWluKDAsIHZpZXdXaWR0aCAtIHRhZy5vZmZzZXRXaWR0aCAtIHRhZy5vZmZzZXRMZWZ0IC0gdGhpcy5jb250UGFkZGluZykNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8g5qCH562+5Zyo5Y+v6KeG5Yy65Z+f5Y+z5L6nDQogICAgICAgICAgICAgICAgdGhpcy50YWdzQ29udExlZnQgPSAtKHRhZy5vZmZzZXRMZWZ0IC0gKHZpZXdXaWR0aCAtIHRoaXMuY29udFBhZGRpbmcgLSB0YWcub2Zmc2V0V2lkdGgpKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBoYW5kbGVTZWxlY3RlZENsb3NlKHZpZXcpIHsNCiAgICAgICAgICAgIHRoaXMuZGVsVmlzaXRlZFZpZXcodmlldykNCiAgICAgICAgICAgIGlmICh0aGlzLmlzQWN0aXZlKHZpZXcpKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zaG93TGFzdFZpZXcoKQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBzaG93TGFzdFZpZXcoKSB7DQogICAgICAgICAgICBjb25zdCBsYXN0VmlldyA9IHRoaXMudmlzaXRlZFZpZXdzLnNsaWNlKC0xKVswXQ0KICAgICAgICAgICAgaWYgKGxhc3RWaWV3KSB7DQogICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2gobGFzdFZpZXcuZnVsbFBhdGgpDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGhhbmRsZUNsb3NlQ3RybCh0eXBlKSB7DQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2FsbCcpIHsNCiAgICAgICAgICAgICAgICB0aGlzLmRlbEFsbFZpc2l0ZWRWaWV3KCkNCiAgICAgICAgICAgICAgICB0aGlzLnNob3dMYXN0VmlldygpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ290aGVyJykgew0KICAgICAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkVGFnKSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMuZGVsT3RoZXJzVmlzaXRlZFZpZXcodGhpcy5zZWxlY3RlZFRhZykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLnRhZ3NDb250TGVmdCA9IDANCiAgICAgICAgfQ0KICAgIH0NCn0NCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout/components/TagsView","sourcesContent":["<template>\r\n    <div class=\"tags-nav-wrapper clear-fix\">\r\n        <el-button type=\"text\" class=\"btn-con\" @click=\"handleMove(240)\">\r\n            <i class=\"icon el-icon-arrow-left\"/>\r\n        </el-button>\r\n        <div ref=\"tagsViews\" class=\"tags-views\" @DOMMouseScroll=\"handlescroll\" @mousewheel=\"handlescroll\">\r\n            <div ref=\"tagsCont\" class=\"tags-cont\" :style=\"{left: tagsContLeft + 'px'}\">\r\n                <transition-group>\r\n                    <router-link v-for=\"item in visitedViews\" ref=\"tagsItem\" :key=\"item.name\" :to=\"{ path: item.path }\">\r\n                        <TagItem :class=\"{active: isActive(item)}\" :fixed=\"item.meta.fixed\"\r\n                                 @on-close=\"handleSelectedClose(item)\">{{ item.title }}\r\n                        </TagItem>\r\n                    </router-link>\r\n                </transition-group>\r\n            </div>\r\n        </div>\r\n        <el-button type=\"text\" class=\"btn-con\" @click=\"handleMove(-240)\">\r\n            <i class=\"icon el-icon-arrow-right\"/>\r\n        </el-button>\r\n        <div class=\"btn-con btn-close\">\r\n            <el-dropdown @command=\"handleCloseCtrl\">\r\n        <span class=\"el-dropdown-link\">\r\n          <i class=\"icon el-icon-circle-close\"/>\r\n        </span>\r\n                <el-dropdown-menu slot=\"dropdown\">\r\n                    <el-dropdown-item command=\"all\">关闭所有</el-dropdown-item>\r\n                    <el-dropdown-item command=\"other\">关闭其他</el-dropdown-item>\r\n                </el-dropdown-menu>\r\n            </el-dropdown>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport path from 'path'\r\nimport {mapGetters, mapMutations} from 'vuex'\r\nimport TagItem from './TagItem'\r\n\r\nexport default {\r\n    name: 'TagsView',\r\n    components: {TagItem},\r\n    data() {\r\n        return {\r\n            tagsContLeft: 0,\r\n            contPadding: 4,\r\n            selectedTag: {}\r\n        }\r\n    },\r\n    computed: {\r\n        ...mapGetters(['visitedViews']),\r\n        routes() {\r\n            return this.$router.options.routes\r\n        }\r\n    },\r\n    watch: {\r\n        $route(val) {\r\n            this.addTags()\r\n            this.getTagElement(val)\r\n            this.selectedTag = val\r\n        }\r\n    },\r\n    mounted() {\r\n        this.initTags()\r\n        this.addTags()\r\n    },\r\n    methods: {\r\n        ...mapMutations(['addVisitedView', 'delVisitedView', 'delAllVisitedView', 'delOthersVisitedView']),\r\n        isActive(tag) {\r\n            return tag.path === this.$route.path\r\n        },\r\n        filterFixedTags(routes, basePath = '/') {\r\n            let tags = []\r\n            routes.forEach(item => {\r\n                if (item.meta && item.meta.fixed) {\r\n                    const tagPath = path.resolve(basePath, item.path)\r\n                    tags.push({\r\n                        fullPath: tagPath,\r\n                        path: tagPath,\r\n                        name: item.name,\r\n                        meta: {...item.meta}\r\n                    })\r\n                }\r\n                if (item.children) {\r\n                    const tempTags = this.filterFixedTags(item.children, item.path)\r\n                    if (tempTags.length >= 1) {\r\n                        tags = [...tags, ...tempTags]\r\n                    }\r\n                }\r\n            })\r\n            return tags\r\n        },\r\n        initTags() {\r\n            const fixedTags = this.filterFixedTags(this.routes)\r\n            for (const tag of fixedTags) {\r\n                if (tag.name) {\r\n                    this.addVisitedView(tag)\r\n                }\r\n            }\r\n        },\r\n        addTags() {\r\n            const {name} = this.$route\r\n            if (name) {\r\n                this.addVisitedView(this.$route)\r\n            }\r\n            return false\r\n        },\r\n        handlescroll(e) {\r\n            const type = e.type\r\n            let distance = 0\r\n            // mousewheel非火狐浏览器鼠标滚动事件; DOMMouseScroll火狐浏览器鼠标滚动事件\r\n            if (type === 'mousewheel' || type === 'DOMMouseScroll') {\r\n                // mousewheel 事件中的 event.wheelDelta 属性值：若滚轮是向上滚动，返回值为正，反之为负；且返回的值，均为 120 的倍数，即：幅度大小 = 返回的值 / 120\r\n                // DOMMouseScroll 事件中的 event.detail 属性值：返回的值，与 event.wheelDelta 正好相反，即滚轮是向上滚动，返回值为负，反之为正；返回的值，均为 3 的倍数，即：幅度大小 = 返回的值 / 3\r\n                distance = (e.wheelDelta) ? e.wheelDelta : -(e.detail || 0) * 40\r\n            }\r\n            this.handleMove(distance)\r\n        },\r\n        handleMove(offset) {\r\n            const viewWidth = this.$refs.tagsViews.offsetWidth\r\n            const contWidth = this.$refs.tagsCont.offsetWidth\r\n            if (offset > 0) {\r\n                this.tagsContLeft = Math.min(0, this.tagsContLeft + offset)\r\n            } else {\r\n                if (viewWidth < contWidth) {\r\n                    if (this.tagsContLeft < -(contWidth - viewWidth)) {\r\n                        // this.tagsContLeft = this.tagsContLeft\r\n                    } else {\r\n                        this.tagsContLeft = Math.max(this.tagsContLeft + offset, viewWidth - contWidth)\r\n                    }\r\n                } else {\r\n                    this.tagsContLeft = 0\r\n                }\r\n            }\r\n        },\r\n        getTagElement(route) {\r\n            this.$nextTick(() => {\r\n                const tagsItemArr = this.$refs.tagsItem\r\n                const index = tagsItemArr.findIndex(item => {\r\n                    return item.to.path === route.fullPath\r\n                })\r\n                const tag = tagsItemArr[index].$el\r\n                this.moveToCurrentTag(tag)\r\n            })\r\n        },\r\n        moveToCurrentTag(tag) {\r\n            const viewWidth = this.$refs.tagsViews.offsetWidth\r\n            const contWidth = this.$refs.tagsCont.offsetWidth\r\n            if (contWidth < viewWidth) {\r\n                this.tagsContLeft = 0\r\n            } else if (tag.offsetLeft < -this.tagsContLeft) {\r\n                // 标签在可视区域左侧\r\n                this.tagsContLeft = -tag.offsetLeft + this.contPadding\r\n            } else if (tag.offsetLeft > -this.tagsContLeft && tag.offsetLeft + tag.offsetWidth < -this.tagsContLeft + viewWidth) {\r\n                // 标签在可视区域\r\n                this.tagsContLeft = Math.min(0, viewWidth - tag.offsetWidth - tag.offsetLeft - this.contPadding)\r\n            } else {\r\n                // 标签在可视区域右侧\r\n                this.tagsContLeft = -(tag.offsetLeft - (viewWidth - this.contPadding - tag.offsetWidth))\r\n            }\r\n        },\r\n        handleSelectedClose(view) {\r\n            this.delVisitedView(view)\r\n            if (this.isActive(view)) {\r\n                this.showLastView()\r\n            }\r\n        },\r\n        showLastView() {\r\n            const lastView = this.visitedViews.slice(-1)[0]\r\n            if (lastView) {\r\n                this.$router.push(lastView.fullPath)\r\n            }\r\n        },\r\n        handleCloseCtrl(type) {\r\n            if (type === 'all') {\r\n                this.delAllVisitedView()\r\n                this.showLastView()\r\n            }\r\n            if (type === 'other') {\r\n                if (this.selectedTag) {\r\n                    this.delOthersVisitedView(this.selectedTag)\r\n                }\r\n            }\r\n            this.tagsContLeft = 0\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\">\r\n.tags-nav-wrapper {\r\n    width: 100%;\r\n    height: 40px;\r\n\r\n    .icon {\r\n        font-size: 18px;\r\n    }\r\n\r\n    .btn-con {\r\n        float: left;\r\n        width: 28px;\r\n        height: 40px;\r\n        padding: 8px 7px 8px 3px;\r\n        border-top: solid 1px #f0f0f0;\r\n        border-bottom: solid 1px #f0f0f0;\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .btn-close {\r\n        width: 40px;\r\n        padding-top: 10px;\r\n        padding-left: 11px;\r\n        border-left: solid 1px #f0f0f0;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .tags-views {\r\n        position: relative;\r\n        float: left;\r\n        width: calc(100% - 96px);\r\n        height: 40px;\r\n        background: #f0f0f0;\r\n        box-shadow: inset 0 0 3px 2px #6464641a;\r\n        overflow: hidden;\r\n\r\n        .tags-cont {\r\n            position: absolute;\r\n            padding: 0 4px;\r\n            overflow: visible;\r\n            white-space: nowrap;\r\n            transition: left .5s ease;\r\n        }\r\n    }\r\n}\r\n</style>\r\n"]}]}