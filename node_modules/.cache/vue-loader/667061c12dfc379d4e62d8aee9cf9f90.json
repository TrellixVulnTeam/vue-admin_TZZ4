{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/settle/dialog/import-data.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/manage/settle/dialog/import-data.vue","mtime":1634111099599},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/css-loader/index.js","mtime":1634111098946},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1634111096162},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/postcss-loader/src/index.js","mtime":1634111098843},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/less-loader/dist/cjs.js","mtime":1634111096326},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":1634111096329},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":1634111096162}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5pbXBvcnQtZXhjZWwtd3JhcHBlciB7CiAgICAuZWwtY2FyZCB7CiAgICAgICAgbWluLWhlaWdodDogNDAwcHg7CiAgICB9CiAgICAuc2VhcmNoLWZvcm0gewogICAgICAgIHBhZGRpbmctdG9wOiAxOHB4OwogICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2Y3ZjhmYjsKICAgIH0KICAgIC5lbC10YWJsZSB0aGVhZCB7CiAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICB0aHsKICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjNmNzsKICAgICAgICB9CiAgICB9CiAgICAuZWwtZGlhbG9nX19ib2R5IHsKICAgICAgICBwYWRkaW5nOiAxNXB4IDVweDsKICAgICAgICBjb2xvcjogIzYwNjI2NjsKICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgd29yZC1icmVhazogYnJlYWstYWxsOwogICAgfQogICAgLnVwbG9hZC1leGNlbC13cmFwcGVyIHsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICAgICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgfQoKfQouaW1wb3J0QnV0dG9uewogICAgbWFyZ2luLWJvdHRvbTogMTBweDsKfQo="},{"version":3,"sources":["import-data.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"import-data.vue","sourceRoot":"src/views/manage/settle/dialog","sourcesContent":["<template>\n    <el-dialog title=\"导入数据\" :visible.sync=\"dialogVisible\" width=\"80%\" :before-close=\"closeDialog\">\n        <el-card shadow=\"always\">\n            <UploadExcel @on-success=\"handleSuccess\" />\n            <div align=\"center\" class=\"importButton\">\n                <el-button @click=\"onImport\" type=\"primary\" size=\"small\" style=\"width: 120px;\">导&nbsp;&nbsp;入</el-button>\n            </div>\n            <el-table\n                :data=\"tableData\"\n                tooltip-effect=\"dark\"\n                style=\"width: 100%\"\n                size=\"medium\"\n            >\n                <el-table-column v-for=\"item in tableHeader\" :key=\"item\" :prop=\"item\" :label=\"item\" align=\"center\" />\n            </el-table>\n        </el-card>\n    </el-dialog>\n</template>\n\n<script>\nimport UploadExcel from '@/components/UploadExcel'\nimport Hints from '@/components/Hints'\n\nexport default {\n    components: { UploadExcel, Hints },\n    data() {\n        return {\n            dialogVisible: false,\n            tableHeader: [],\n            tableData: [],\n            recordsArr: []\n        }\n    },\n    methods: {\n        init(row){},\n        handleSuccess({ header, results }) {\n            this.tableHeader = header\n            this.tableData = results\n            results.forEach((item, index) => {\n                this.recordsArr[index] = {\n                    id: item.ID,\n                    adjustment: item[\"手动调整数额\"]\n                }\n            })\n        },\n        onImport(){\n            if(this.recordsArr.length === 0){\n                this.$message.error(\"数据为空!\")\n                return\n            }\n            this.$emit('importSuccess', {arr: this.recordsArr});\n            this.closeDialog()\n        },\n        closeDialog() {\n            this.dialogVisible = false\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n.import-excel-wrapper {\n    .el-card {\n        min-height: 400px;\n    }\n    .search-form {\n        padding-top: 18px;\n        margin-bottom: 15px;\n        background-color: #f7f8fb;\n    }\n    .el-table thead {\n        font-weight: 600;\n        th{\n            background-color: #f2f3f7;\n        }\n    }\n    .el-dialog__body {\n        padding: 15px 5px;\n        color: #606266;\n        font-size: 14px;\n        word-break: break-all;\n    }\n    .upload-excel-wrapper {\n        display: flex;\n        align-content: center;\n        justify-content: center;\n        margin-bottom: 10px;\n    }\n\n}\n.importButton{\n    margin-bottom: 10px;\n}\n</style>\n\n"]}]}