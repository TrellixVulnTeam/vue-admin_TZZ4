{"remainingRequest":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCompress.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/mengy/develop/iwork/kafo/vue-admin/src/views/image/ImageCompress.vue","mtime":1626074721105},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/mengy/develop/iwork/kafo/vue-admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIaW50cyBmcm9tICcuLi8uLi9jb21wb25lbnRzL0hpbnRzJwppbXBvcnQgVXBsb2FkSW1hZ2UgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9VcGxvYWRJbWFnZScKaW1wb3J0IHtiYXNlNjR0b0Jsb2IsIGNhbGNJbWFnZVNpemV9IGZyb20gJy4uLy4uL3V0aWxzJwoKY29uc3QgcXVhbGl0eU9wdGlvbnMgPSBbCiAgICB7bGFiZWw6IDEwMCwgdmFsdWU6IDF9LAogICAge2xhYmVsOiA5MCwgdmFsdWU6IDAuOX0sCiAgICB7bGFiZWw6IDgwLCB2YWx1ZTogMC44fSwKICAgIHtsYWJlbDogNzAsIHZhbHVlOiAwLjd9LAogICAge2xhYmVsOiA2MCwgdmFsdWU6IDAuNn0sCiAgICB7bGFiZWw6IDUwLCB2YWx1ZTogMC41fQpdCgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAnSW1hZ2VDb21wcmVzcycsCiAgICBjb21wb25lbnRzOiB7SGludHMsIFVwbG9hZEltYWdlfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgLy8g5Zu+54mH5a+56LGhCiAgICAgICAgICAgIGltYWdlOiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMTkyMCwKICAgICAgICAgICAgICAgIGhlaWdodDogMTA4MCwKICAgICAgICAgICAgICAgIHNyYzogJ2h0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9iYWltaW5neHVhbi9tZWRpYS1zdG9yZS9pbWFnZXMvaW1nMDMuanBnJwogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDlm77niYfmmL7npLrlr7nosaEKICAgICAgICAgICAgaW1hZ2VTaG93OiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMCwKICAgICAgICAgICAgICAgIGhlaWdodDogMCwKICAgICAgICAgICAgICAgIGltZ1NyYzogJycKICAgICAgICAgICAgfSwKICAgICAgICAgICAgLy8g5Zu+54mH5Y6L57yp55qE5YC85a+56LGhCiAgICAgICAgICAgIGltYWdlT2JqOiB7CiAgICAgICAgICAgICAgICB3aWR0aDogMCwKICAgICAgICAgICAgICAgIGhlaWdodDogMCwKICAgICAgICAgICAgICAgIHJhdGlvOiAxMDAgKyAnJScsCiAgICAgICAgICAgICAgICBxdWFsaXR5OiAxCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHF1YWxpdHlPcHRpb25zCiAgICAgICAgfQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLy8g5Zu+54mH5pi+56S65Yy65qC35byPCiAgICAgICAgaW1hZ2VTdHlsZSgpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmltYWdlU2hvdy53aWR0aCArICdweCcsCiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMuaW1hZ2VTaG93LmhlaWdodCArICdweCcsCiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kSW1hZ2U6ICd1cmwoXCcnICsgdGhpcy5pbWFnZVNob3cuaW1nU3JjICsgJ1wnKScKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5Zu+54mH5a696auY5q+U546HCiAgICAgICAgaW1hZ2VSYXRpbygpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1hZ2Uud2lkdGggLyB0aGlzLmltYWdlLmhlaWdodAogICAgICAgIH0KICAgIH0sCiAgICB3YXRjaDogewogICAgICAgIGltYWdlOiB7CiAgICAgICAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgICAgICAgICB0aGlzLmdldERyYWdDb250YWluZXJTaXplKHZhbC53aWR0aCwgdmFsLmhlaWdodCkKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VTaG93LmltZ1NyYyA9IHZhbC5zcmMKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VPYmoud2lkdGggPSB2YWwud2lkdGgKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VPYmouaGVpZ2h0ID0gdmFsLmhlaWdodAogICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iai5yYXRpbyA9IDEwMCArICclJwogICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iai5xdWFsaXR5ID0gMQogICAgICAgICAgICB9LAogICAgICAgICAgICBkZWVwOiB0cnVlCiAgICAgICAgfQogICAgfSwKICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgdGhpcy5nZXREcmFnQ29udGFpbmVyU2l6ZSh0aGlzLmltYWdlLndpZHRoLCB0aGlzLmltYWdlLmhlaWdodCkKICAgICAgICB0aGlzLmltYWdlU2hvdy5pbWdTcmMgPSB0aGlzLmltYWdlLnNyYwogICAgICAgIHRoaXMuaW1hZ2VPYmoud2lkdGggPSB0aGlzLmltYWdlLndpZHRoCiAgICAgICAgdGhpcy5pbWFnZU9iai5oZWlnaHQgPSB0aGlzLmltYWdlLmhlaWdodAogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvLyDovpPlhaXlrr3pq5jlhbPogZQKICAgICAgICBiaW5kSW5wdXQodHlwZSkgewogICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2gnKSB7CiAgICAgICAgICAgICAgICB0aGlzLmltYWdlT2JqLmhlaWdodCA9IE1hdGgucm91bmQodGhpcy5pbWFnZU9iai53aWR0aCAvIHRoaXMuaW1hZ2VSYXRpbykudG9GaXhlZCgwKQogICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd3JykgewogICAgICAgICAgICAgICAgdGhpcy5pbWFnZU9iai53aWR0aCA9IE1hdGgucm91bmQodGhpcy5pbWFnZU9iai5oZWlnaHQgKiB0aGlzLmltYWdlUmF0aW8pLnRvRml4ZWQoMCkKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLmltYWdlT2JqLnJhdGlvID0gKHRoaXMuaW1hZ2VPYmoud2lkdGggLyB0aGlzLmltYWdlLndpZHRoICogMTAwKS50b0ZpeGVkKDIpICsgJyUnCiAgICAgICAgfSwKICAgICAgICAvLyDorqHnrpflm77niYfmmL7npLrlrr3pq5gKICAgICAgICBnZXREcmFnQ29udGFpbmVyU2l6ZShpbWFnZVcsIGltYWdlSCkgewogICAgICAgICAgICBjb25zdCBbc2hvd0FyZWFXLCBzaG93QXJlYUhdID0gWzg1MCwgNTUwXQogICAgICAgICAgICBjb25zdCBzaXplT2JqID0gY2FsY0ltYWdlU2l6ZShpbWFnZVcsIGltYWdlSCwgc2hvd0FyZWFXLCBzaG93QXJlYUgpCiAgICAgICAgICAgIC8vIOabtOaWsOWbvueJh+WxleekuuWMuuWuvemrmAogICAgICAgICAgICB0aGlzLmltYWdlU2hvdy53aWR0aCA9IHNpemVPYmoud2lkdGgKICAgICAgICAgICAgdGhpcy5pbWFnZVNob3cuaGVpZ2h0ID0gc2l6ZU9iai5oZWlnaHQKICAgICAgICB9LAogICAgICAgIGhhbmRsZVN1Y2Nlc3MoZGF0YSkgewogICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IGRhdGEKICAgICAgICAgICAgY29uc3QgaW1hZ2UgPSBuZXcgSW1hZ2UoKQogICAgICAgICAgICBpbWFnZS5zcmMgPSBkYXRhCiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uud2lkdGggPSBpbWFnZS53aWR0aAogICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5oZWlnaHQgPSBpbWFnZS5oZWlnaHQKICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgLy8g5Zu+54mH5Y6L57ypCiAgICAgICAgY29tcHJlc3NJbWFnZSgpIHsKICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLmltYWdlT2JqLndpZHRoCiAgICAgICAgICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuaW1hZ2VPYmouaGVpZ2h0CiAgICAgICAgICAgIGNvbnN0IHF1YWxpdHkgPSB0aGlzLmltYWdlT2JqLnF1YWxpdHkKICAgICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCkKICAgICAgICAgICAgaW1nLnNyYyA9IHRoaXMuaW1hZ2Uuc3JjCiAgICAgICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7CiAgICAgICAgICAgICAgICAvLyDliJvlu7pjYW52YXMKICAgICAgICAgICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpCiAgICAgICAgICAgICAgICBjb25zdCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKQogICAgICAgICAgICAgICAgLy8g5Yib5bu65bGe5oCn6IqC54K5CiAgICAgICAgICAgICAgICBjb25zdCBhbncgPSBkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoJ3dpZHRoJykKICAgICAgICAgICAgICAgIGFudy5ub2RlVmFsdWUgPSB3aWR0aAogICAgICAgICAgICAgICAgY29uc3QgYW5oID0gZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKCdoZWlnaHQnKQogICAgICAgICAgICAgICAgYW5oLm5vZGVWYWx1ZSA9IGhlaWdodAogICAgICAgICAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW53KQogICAgICAgICAgICAgICAgY2FudmFzLnNldEF0dHJpYnV0ZU5vZGUoYW5oKQogICAgICAgICAgICAgICAgLy8g57uY5Yi25Zu+54mHCiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCkKICAgICAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCB3aWR0aCwgaGVpZ2h0KQogICAgICAgICAgICAgICAgLy8g55Sf5oiQYmFzZTY05Zu+54mHCiAgICAgICAgICAgICAgICBjb25zdCBpbWFnZUJhc2U2NCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycsIHF1YWxpdHkpCiAgICAgICAgICAgICAgICB0aGlzLmRvd25sb2FkSW1hZ2UoaW1hZ2VCYXNlNjQpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIOS4i+i9veWOi+e8qeeahOWbvueJhwogICAgICAgIGRvd25sb2FkSW1hZ2UoaW1hZ2VCYXNlNjQpIHsKICAgICAgICAgICAgY29uc3QgaW1hZ2VCbG9iID0gYmFzZTY0dG9CbG9iKGltYWdlQmFzZTY0KQogICAgICAgICAgICBjb25zdCBsaW5rID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpCiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0hUTUxFdmVudHMnKQogICAgICAgICAgICAvLyBpbml0RXZlbnQg5LiN5Yqg5ZCO5Lik5Liq5Y+C5pWw5Lya5Zyo54Gr54uQ5LiL5oql6ZSZIOS6i+S7tuexu+Wei++8jOaYr+WQpuWGkuazoe+8jOaYr+WQpumYu+atoua1j+iniOWZqOeahOm7mOiupOihjOS4ugogICAgICAgICAgICBldmVudC5pbml0RXZlbnQoJ2NsaWNrJywgdHJ1ZSwgdHJ1ZSkKICAgICAgICAgICAgbGluay5kb3dubG9hZCA9ICdpbWFnZS5wbmcnCiAgICAgICAgICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoaW1hZ2VCbG9iKQogICAgICAgICAgICAvLyDlhbzlrrnngavni5AKICAgICAgICAgICAgbGluay5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdjbGljaycsIHtidWJibGVzOiB0cnVlLCBjYW5jZWxhYmxlOiB0cnVlLCB2aWV3OiB3aW5kb3d9KSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["ImageCompress.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ImageCompress.vue","sourceRoot":"src/views/image","sourcesContent":["<template>\n    <div class=\"image-compress\">\n        <Hints>\n            <template slot=\"hintName\">图片压缩</template>\n            <template slot=\"hintInfo\">\n                <p>纯JS实现对图片的等比压缩和放大的功能，并对图片进行下载</p>\n            </template>\n        </Hints>\n        <el-row :gutter=\"20\">\n            <el-col :span=\"16\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">图片区域</div>\n                    <div class=\"box-wrapper\">\n                        <div class=\"image-container\" :style=\"imageStyle\"/>\n                    </div>\n                </el-card>\n            </el-col>\n            <el-col :span=\"8\">\n                <el-card shadow=\"always\">\n                    <div slot=\"header\" class=\"title\">设置区域</div>\n                    <div class=\"box-content\">\n                        <el-form label-width=\"82px\" label-position=\"left\">\n                            <el-form-item label=\"选择图片：\">\n                                <UploadImage class=\"select-image\" btn-name=\"选择图片\" @on-success=\"handleSuccess\"/>\n                            </el-form-item>\n                            <el-form-item label=\"图片尺寸：\">\n                                <div class=\"ratio-size\">\n                                    <el-input v-model.number=\"imageObj.width\" @keyup.native=\"bindInput('h')\"/>\n                                    <i class=\"vue-dsn-icon-edit-img-size-locking icon-link\"/>\n                                    <el-input v-model.number=\"imageObj.height\" @keyup.native=\"bindInput('w')\"/>\n                                    <ul class=\"ratio-type clearfix\">\n                                        <li>宽</li>\n                                        <li>高</li>\n                                    </ul>\n                                </div>\n                            </el-form-item>\n                            <el-form-item label=\"压缩比例：\" class=\"item-ratio\">\n                                <el-input v-model.number=\"imageObj.ratio\" disabled/>\n                            </el-form-item>\n                            <el-form-item label=\"图片质量：\">\n                                <el-select v-model=\"imageObj.quality\" placeholder=\"请选择\">\n                                    <el-option\n                                        v-for=\"item in qualityOptions\"\n                                        :key=\"item.value\"\n                                        :label=\"item.label\"\n                                        :value=\"item.value\"\n                                    />\n                                </el-select>\n                            </el-form-item>\n                            <div>\n                                <el-button class=\"btn-compress\" type=\"primary\" @click=\"compressImage\">压缩图片</el-button>\n                            </div>\n                        </el-form>\n                    </div>\n                </el-card>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n\n<script>\nimport Hints from '../../components/Hints'\nimport UploadImage from '../../components/UploadImage'\nimport {base64toBlob, calcImageSize} from '../../utils'\n\nconst qualityOptions = [\n    {label: 100, value: 1},\n    {label: 90, value: 0.9},\n    {label: 80, value: 0.8},\n    {label: 70, value: 0.7},\n    {label: 60, value: 0.6},\n    {label: 50, value: 0.5}\n]\n\nexport default {\n    name: 'ImageCompress',\n    components: {Hints, UploadImage},\n    data() {\n        return {\n            // 图片对象\n            image: {\n                width: 1920,\n                height: 1080,\n                src: 'https://cdn.jsdelivr.net/gh/baimingxuan/media-store/images/img03.jpg'\n            },\n            // 图片显示对象\n            imageShow: {\n                width: 0,\n                height: 0,\n                imgSrc: ''\n            },\n            // 图片压缩的值对象\n            imageObj: {\n                width: 0,\n                height: 0,\n                ratio: 100 + '%',\n                quality: 1\n            },\n            qualityOptions\n        }\n    },\n    computed: {\n        // 图片显示区样式\n        imageStyle() {\n            return {\n                width: this.imageShow.width + 'px',\n                height: this.imageShow.height + 'px',\n                backgroundImage: 'url(\\'' + this.imageShow.imgSrc + '\\')'\n            }\n        },\n        // 图片宽高比率\n        imageRatio() {\n            return this.image.width / this.image.height\n        }\n    },\n    watch: {\n        image: {\n            handler(val) {\n                this.getDragContainerSize(val.width, val.height)\n                this.imageShow.imgSrc = val.src\n                this.imageObj.width = val.width\n                this.imageObj.height = val.height\n                this.imageObj.ratio = 100 + '%'\n                this.imageObj.quality = 1\n            },\n            deep: true\n        }\n    },\n    created() {\n        this.getDragContainerSize(this.image.width, this.image.height)\n        this.imageShow.imgSrc = this.image.src\n        this.imageObj.width = this.image.width\n        this.imageObj.height = this.image.height\n    },\n    methods: {\n        // 输入宽高关联\n        bindInput(type) {\n            if (type === 'h') {\n                this.imageObj.height = Math.round(this.imageObj.width / this.imageRatio).toFixed(0)\n            } else if (type === 'w') {\n                this.imageObj.width = Math.round(this.imageObj.height * this.imageRatio).toFixed(0)\n            }\n            this.imageObj.ratio = (this.imageObj.width / this.image.width * 100).toFixed(2) + '%'\n        },\n        // 计算图片显示宽高\n        getDragContainerSize(imageW, imageH) {\n            const [showAreaW, showAreaH] = [850, 550]\n            const sizeObj = calcImageSize(imageW, imageH, showAreaW, showAreaH)\n            // 更新图片展示区宽高\n            this.imageShow.width = sizeObj.width\n            this.imageShow.height = sizeObj.height\n        },\n        handleSuccess(data) {\n            this.image.src = data\n            const image = new Image()\n            image.src = data\n            image.onload = () => {\n                this.image.width = image.width\n                this.image.height = image.height\n            }\n        },\n        // 图片压缩\n        compressImage() {\n            const width = this.imageObj.width\n            const height = this.imageObj.height\n            const quality = this.imageObj.quality\n            const img = new Image()\n            img.src = this.image.src\n            img.onload = () => {\n                // 创建canvas\n                const canvas = document.createElement('canvas')\n                const ctx = canvas.getContext('2d')\n                // 创建属性节点\n                const anw = document.createAttribute('width')\n                anw.nodeValue = width\n                const anh = document.createAttribute('height')\n                anh.nodeValue = height\n                canvas.setAttributeNode(anw)\n                canvas.setAttributeNode(anh)\n                // 绘制图片\n                ctx.fillRect(0, 0, width, height)\n                ctx.drawImage(img, 0, 0, width, height)\n                // 生成base64图片\n                const imageBase64 = canvas.toDataURL('image/png', quality)\n                this.downloadImage(imageBase64)\n            }\n        },\n        // 下载压缩的图片\n        downloadImage(imageBase64) {\n            const imageBlob = base64toBlob(imageBase64)\n            const link = document.createElement('a')\n            const event = document.createEvent('HTMLEvents')\n            // initEvent 不加后两个参数会在火狐下报错 事件类型，是否冒泡，是否阻止浏览器的默认行为\n            event.initEvent('click', true, true)\n            link.download = 'image.png'\n            link.href = URL.createObjectURL(imageBlob)\n            // 兼容火狐\n            link.dispatchEvent(new MouseEvent('click', {bubbles: true, cancelable: true, view: window}))\n        }\n    }\n}\n</script>\n\n<style lang=\"less\">\n@import \"../../assets/less/image-compress\";\n</style>\n"]}]}