{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-7364124a\"],{4502:function(e,t,o){},\"56d6\":function(e,t,o){\"use strict\";o(\"8e49\")},5758:function(e,t,o){\"use strict\";o.r(t);var a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"table-classic-wrapper\"},[o(\"el-card\",{attrs:{shadow:\"always\"}},[o(\"div\",{staticClass:\"control-btns\"},[o(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.toDialog(\"addAreaConfig\",\"\")}}},[e._v(\"+ 新增配置\")])],1),o(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:e.search,\"label-width\":\"90px\"}},[o(\"el-form-item\",{attrs:{label:\"区域\",prop:\"areaId\"}},[o(\"el-select\",{attrs:{disabled:0!==e.authAreaId,placeholder:\"请选择\"},on:{change:e.changeArea},model:{value:e.search.areaId,callback:function(t){e.$set(e.search,\"areaId\",t)},expression:\"search.areaId\"}},e._l(e.areaList,(function(e){return o(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),o(\"el-form-item\",{attrs:{label:\"App\",prop:\"areaId\"}},[o(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.search.appId,callback:function(t){e.$set(e.search,\"appId\",t)},expression:\"search.appId\"}},e._l(e.appList,(function(t){return o(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}},[o(\"span\",{staticStyle:{float:\"left\"}},[e._v(e._s(t.label))]),1===t.os?o(\"span\",[o(\"i\",{staticClass:\"icon-android-fill\",staticStyle:{float:\"right\"}})]):2===t.os?o(\"span\",[o(\"i\",{staticClass:\"icon-pingguo\",staticStyle:{float:\"right\"}})]):e._e(),t.isAnchor?o(\"span\",[o(\"i\",{staticClass:\"iconfont icon-zhuboguanli\",staticStyle:{float:\"right\"}})]):e._e()])})),1)],1),o(\"el-form-item\",{staticStyle:{\"padding-left\":\"20px\"}},[o(\"el-button\",{staticStyle:{width:\"120px\"},attrs:{type:\"primary\",size:\"small\"},on:{click:e.onSearch}},[e._v(\"查  询\")])],1)],1),o(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"}},[o(\"el-table-column\",{attrs:{prop:\"areaStr\",label:\"区域\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"app\",label:\"APP\",align:\"center\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"div\",{attrs:{slot:\"reference\"},slot:\"reference\"},[e._v(\"\\n                        \"+e._s(t.row.app.label)+\"\\n                        \"),1===t.row.app.os?o(\"span\",[o(\"i\",{staticClass:\"icon-android-fill\"})]):2===t.row.app.os?o(\"span\",[o(\"i\",{staticClass:\"icon-pingguo\"})]):e._e()])]}}])}),o(\"el-table-column\",{attrs:{prop:\"convertRate\",label:\"积分转换比例\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"depositCommission\",label:\"充值分成\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"rewardCommission\",label:\"赠送分成\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"callPrice\",label:\"通话价格\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"freeMessageCount\",label:\"免费消息\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"newUserReward\",label:\"奖励钻石\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"heartbeatInterval\",label:\"心跳间隔\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"payTypeNames\",label:\"支付方式\",align:\"center\",width:\"220\"}}),o(\"el-table-column\",{attrs:{prop:\"enableAia\",label:\"是否启用AIA\",align:\"center\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-switch\",{attrs:{disabled:\"\"},model:{value:t.row.enableAia,callback:function(o){e.$set(t.row,\"enableAia\",o)},expression:\"scope.row.enableAia\"}})]}}])}),o(\"el-table-column\",{attrs:{prop:\"matchInterval\",label:\"匹配时间间隔\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"cdn\",label:\"cdn域名\",align:\"center\",width:\"420\"}}),o(\"el-table-column\",{attrs:{prop:\"dndPeriod\",label:\"免打扰时长\",align:\"center\",width:\"120\"}}),o(\"el-table-column\",{attrs:{prop:\"tags\",label:\"标签配置\",align:\"center\",width:\"820\"}}),o(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"250\",fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[o(\"el-button\",{attrs:{type:\"text\"},on:{click:function(o){return e.toDialog(\"addAreaConfig\",t.row)}}},[e._v(\"参数配置\")]),o(\"div\",{attrs:{hidden:t.row.isHidden}},[o(\"el-button\",{attrs:{type:\"text\"}},[o(\"router-link\",{attrs:{to:{path:\"./country\",query:{areaId:t.row.areaId,areaName:t.row.areaStr}}}},[e._v(\"国家配置\")])],1),o(\"el-button\",{attrs:{type:\"text\"},on:{click:function(o){return e.toDialog(\"ossConfig\",t.row)}}},[e._v(\"OSS配置\")]),o(\"el-button\",{attrs:{type:\"text\"},on:{click:function(o){return e.toDialog(\"agoraConfig\",t.row)}}},[e._v(\"声网配置\")]),o(\"el-button\",{attrs:{type:\"text\"},on:{click:function(o){return e.toDialog(\"rongcloudConfig\",t.row)}}},[e._v(\"融云配置\")]),o(\"el-button\",{attrs:{type:\"text\"},on:{click:function(o){return e.toDialog(\"greenConfig\",t.row)}}},[e._v(\"鉴黄配置\")])],1)]}}])})],1),o(\"Pagination\",{attrs:{total:e.total,page:e.search.page.currentPage,limit:e.search.page.pageSize},on:{\"update:page\":function(t){return e.$set(e.search.page,\"currentPage\",t)},\"update:limit\":function(t){return e.$set(e.search.page,\"pageSize\",t)},pagination:e.fetchData,changePageSize:function(t){return e.changePageSize(t)}}}),o(\"addAreaConfig\",{ref:\"addAreaConfig\",on:{fetchData:e.fetchData}}),o(\"agoraConfig\",{ref:\"agoraConfig\",on:{fetchData:e.fetchData}}),o(\"ossConfig\",{ref:\"ossConfig\",on:{fetchData:e.fetchData}}),o(\"rongcloudConfig\",{ref:\"rongcloudConfig\",on:{fetchData:e.fetchData}}),o(\"greenConfig\",{ref:\"greenConfig\",on:{fetchData:e.fetchData}})],1)],1)},r=[],n=(o(\"ac1f\"),o(\"841c\"),o(\"159b\"),o(\"a15b\"),o(\"333d\")),i=o(\"528b\"),s=o(\"42b5\"),l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"el-dialog\",{attrs:{title:\"OSS配置\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[o(\"div\",{staticClass:\"form-list-wrapper\"},[o(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[o(\"el-form-item\",{attrs:{label:\"endpoint\",prop:\"ossConfigJson.endpoint\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.ossConfigJson.endpoint,callback:function(t){e.$set(e.form.ossConfigJson,\"endpoint\",t)},expression:\"form.ossConfigJson.endpoint\"}})],1),o(\"el-form-item\",{attrs:{label:\"bucket\",prop:\"ossConfigJson.bucket\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.ossConfigJson.bucket,callback:function(t){e.$set(e.form.ossConfigJson,\"bucket\",t)},expression:\"form.ossConfigJson.bucket\"}})],1),o(\"el-form-item\",{attrs:{label:\"key_id\",prop:\"ossConfigJson.keyId\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.ossConfigJson.keyId,callback:function(t){e.$set(e.form.ossConfigJson,\"keyId\",t)},expression:\"form.ossConfigJson.keyId\"}})],1),o(\"el-form-item\",{attrs:{label:\"key_secret\",prop:\"ossConfigJson.keySecret\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.ossConfigJson.keySecret,callback:function(t){e.$set(e.form.ossConfigJson,\"keySecret\",t)},expression:\"form.ossConfigJson.keySecret\"}})],1),o(\"el-form-item\",{staticClass:\"submit-box\"},[o(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确   定\")]),o(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重   置\")])],1)],1)],1)])},c=[],g=o(\"5432\"),f={data:function(){return{form:{},dialogVisible:!1,title:\"新增应用\",iconArr:[],rules:{osType:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}],appKey:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}]}}},methods:{init:function(e){this.form=e},submitForm:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(o){if(o){var a=t.handleParam();e.$service.config.saveAreaConfig(a,(function(e){e?(t.$message.success(\"保存成功!\"),t.closeDialog()):t.$message.error(\"保存失败!\")}))}}))},handleParam:function(){var e=this.form,t=e.ossConfigJson,o=new g[\"OssConfig\"];return o.setEndpoint(t.endpoint),o.setBucket(t.bucket),o.setKeyId(t.keyId),o.setKeySecret(t.keySecret),e.ossConfig=o,e},resetForm:function(){this.$refs.ruleForm.resetFields()},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},p=f,u=(o(\"a771\"),o(\"2877\")),d=Object(u[\"a\"])(p,l,c,!1,null,null,null),m=d.exports,h=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"el-dialog\",{attrs:{title:\"声网配置\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[o(\"div\",{staticClass:\"form-list-wrapper\"},[o(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[o(\"el-form-item\",{attrs:{label:\"声网appId\",prop:\"agoraConfigJson.appId\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.appId,callback:function(t){e.$set(e.form.agoraConfigJson,\"appId\",t)},expression:\"form.agoraConfigJson.appId\"}})],1),o(\"el-form-item\",{attrs:{label:\"声网app证书\",prop:\"agoraConfigJson.appCert\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.appCert,callback:function(t){e.$set(e.form.agoraConfigJson,\"appCert\",t)},expression:\"form.agoraConfigJson.appCert\"}})],1),o(\"el-form-item\",{attrs:{label:\"Api客户id\",prop:\"agoraConfigJson.clientId\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.clientId,callback:function(t){e.$set(e.form.agoraConfigJson,\"clientId\",t)},expression:\"form.agoraConfigJson.clientId\"}})],1),o(\"el-form-item\",{attrs:{label:\"Api客户密匙\",prop:\"agoraConfigJson.clientSecret\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.clientSecret,callback:function(t){e.$set(e.form.agoraConfigJson,\"clientSecret\",t)},expression:\"form.agoraConfigJson.clientSecret\"}})],1),o(\"el-form-item\",{attrs:{label:\"视频录制时长\",prop:\"agoraConfigJson.captureDuration\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.captureDuration,callback:function(t){e.$set(e.form.agoraConfigJson,\"captureDuration\",t)},expression:\"form.agoraConfigJson.captureDuration\"}})],1),o(\"el-form-item\",{attrs:{label:\"视频录制存储配置\",prop:\"agoraConfigJson.storageVendor\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.storageVendor,callback:function(t){e.$set(e.form.agoraConfigJson,\"storageVendor\",t)},expression:\"form.agoraConfigJson.storageVendor\"}})],1),o(\"el-form-item\",{attrs:{label:\"storage_region\",prop:\"agoraConfigJson.storageRegion\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.storageRegion,callback:function(t){e.$set(e.form.agoraConfigJson,\"storageRegion\",t)},expression:\"form.agoraConfigJson.storageRegion\"}})],1),o(\"el-form-item\",{attrs:{label:\"storage_endpoint\",prop:\"agoraConfigJson.storageEndpoint\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.storageEndpoint,callback:function(t){e.$set(e.form.agoraConfigJson,\"storageEndpoint\",t)},expression:\"form.agoraConfigJson.storageEndpoint\"}})],1),o(\"el-form-item\",{attrs:{label:\"storage_bucket\",prop:\"agoraConfigJson.storageBucket\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.storageBucket,callback:function(t){e.$set(e.form.agoraConfigJson,\"storageBucket\",t)},expression:\"form.agoraConfigJson.storageBucket\"}})],1),o(\"el-form-item\",{attrs:{label:\"storage_access_key\",prop:\"agoraConfigJson.storageAccessKey\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.storageAccessKey,callback:function(t){e.$set(e.form.agoraConfigJson,\"storageAccessKey\",t)},expression:\"form.agoraConfigJson.storageAccessKey\"}})],1),o(\"el-form-item\",{attrs:{label:\"storage_secret_key\",prop:\"agoraConfigJson.storageSecretKey\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.agoraConfigJson.storageSecretKey,callback:function(t){e.$set(e.form.agoraConfigJson,\"storageSecretKey\",t)},expression:\"form.agoraConfigJson.storageSecretKey\"}})],1),o(\"el-form-item\",{staticClass:\"submit-box\"},[o(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确   定\")]),o(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重   置\")])],1)],1)],1)])},b=[],C={data:function(){return{form:{},dialogVisible:!1,title:\"新增应用\",iconArr:[],rules:{osType:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}],appKey:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}]}}},methods:{init:function(e){this.form=e},submitForm:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(o){if(o){var a=t.handleParam();e.$service.config.saveAreaConfig(a,(function(e){e?(t.$message.success(\"保存成功!\"),t.closeDialog()):t.$message.error(\"保存失败!\")}))}}))},handleParam:function(){var e=this.form,t=e.agoraConfigJson,o=new g[\"AgoraConfig\"];return o.setAppId(t.appId),o.setAppCert(t.appCert),o.setClientId(t.clientId),o.setClientSecret(t.clientSecret),o.setCaptureDuration(t.captureDuration),o.setStorageVendor(t.storageVendor),o.setStorageRegion(t.storageRegion),o.setStorageEndpoint(t.storageEndpoint),o.setStorageBucket(t.storageBucket),o.setStorageAccessKey(t.storageAccessKey),o.setStorageSecretKey(t.storageSecretKey),e.agoraConfig=o,e},resetForm:function(){this.$refs.ruleForm.resetFields()},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},y=C,v=(o(\"bd73\"),Object(u[\"a\"])(y,h,b,!1,null,null,null)),J=v.exports,k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"el-dialog\",{attrs:{title:\"融云配置\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[o(\"div\",{staticClass:\"form-list-wrapper\"},[o(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[o(\"el-form-item\",{attrs:{label:\"融云appKey\",prop:\"rongcloudConfigJson.appKey\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.rongcloudConfigJson.appKey,callback:function(t){e.$set(e.form.rongcloudConfigJson,\"appKey\",t)},expression:\"form.rongcloudConfigJson.appKey\"}})],1),o(\"el-form-item\",{attrs:{label:\"融云appSecret\",prop:\"rongcloudConfigJson.appSecret\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.rongcloudConfigJson.appSecret,callback:function(t){e.$set(e.form.rongcloudConfigJson,\"appSecret\",t)},expression:\"form.rongcloudConfigJson.appSecret\"}})],1),o(\"el-form-item\",{attrs:{label:\"融云api\",prop:\"rongcloudConfigJson.domain\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.rongcloudConfigJson.domain,callback:function(t){e.$set(e.form.rongcloudConfigJson,\"domain\",t)},expression:\"form.rongcloudConfigJson.domain\"}})],1),o(\"el-form-item\",{attrs:{label:\"融云appKey(旧)\",prop:\"rongcloudConfigJson.oldAppKey\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.rongcloudConfigJson.oldAppKey,callback:function(t){e.$set(e.form.rongcloudConfigJson,\"oldAppKey\",t)},expression:\"form.rongcloudConfigJson.oldAppKey\"}})],1),o(\"el-form-item\",{attrs:{label:\"融云appSecret(旧)\",prop:\"rongcloudConfigJson.oldAppSecret\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.rongcloudConfigJson.oldAppSecret,callback:function(t){e.$set(e.form.rongcloudConfigJson,\"oldAppSecret\",t)},expression:\"form.rongcloudConfigJson.oldAppSecret\"}})],1),o(\"el-form-item\",{attrs:{label:\"融云api(旧)\",prop:\"rongcloudConfigJson.oldDomain\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.rongcloudConfigJson.oldDomain,callback:function(t){e.$set(e.form.rongcloudConfigJson,\"oldDomain\",t)},expression:\"form.rongcloudConfigJson.oldDomain\"}})],1),o(\"el-form-item\",{staticClass:\"submit-box\"},[o(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确   定\")]),o(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重   置\")])],1)],1)],1)])},S=[],A={data:function(){return{form:{},dialogVisible:!1,title:\"新增应用\",iconArr:[],rules:{osType:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}],appKey:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}]}}},methods:{init:function(e){this.form=e},submitForm:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(o){if(o){var a=t.handleParam();e.$service.config.saveAreaConfig(a,(function(e){e?(t.$message.success(\"保存成功!\"),t.closeDialog()):t.$message.error(\"保存失败!\")}))}}))},handleParam:function(){var e=this.form,t=e.rongcloudConfigJson,o=new g[\"RongcloudConfig\"];return o.setAppKey(t.appKey),o.setAppSecret(t.appSecret),o.setDomain(t.domain),o.setOldAppKey(t.oldAppKey),o.setOldAppSecret(t.oldAppSecret),o.setOldDomain(t.oldDomain),e.rongcloudConfig=o,e},resetForm:function(){this.$refs.ruleForm.resetFields()},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},w=A,I=(o(\"aede\"),Object(u[\"a\"])(w,k,S,!1,null,null,null)),$=I.exports,D=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"el-dialog\",{attrs:{title:\"鉴黄配置\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[o(\"div\",{staticClass:\"form-list-wrapper\"},[o(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[o(\"el-form-item\",{attrs:{label:\"key_id\",prop:\"greenConfigJson.keyId\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.greenConfigJson.keyId,callback:function(t){e.$set(e.form.greenConfigJson,\"keyId\",t)},expression:\"form.greenConfigJson.keyId\"}})],1),o(\"el-form-item\",{attrs:{label:\"key_secret\",prop:\"greenConfigJson.keySecret\"}},[o(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.greenConfigJson.keySecret,callback:function(t){e.$set(e.form.greenConfigJson,\"keySecret\",t)},expression:\"form.greenConfigJson.keySecret\"}})],1),o(\"el-form-item\",{staticClass:\"submit-box\"},[o(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确   定\")]),o(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重   置\")])],1)],1)],1)])},x=[],_={data:function(){return{form:{},dialogVisible:!1,title:\"新增应用\",iconArr:[],rules:{osType:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}],appKey:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}]}}},methods:{init:function(e){this.form=e},submitForm:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(o){if(o){var a=t.handleParam();e.$service.config.saveAreaConfig(a,(function(e){e?(t.$message.success(\"保存成功!\"),t.closeDialog()):t.$message.error(\"保存失败!\")}))}}))},handleParam:function(){var e=this.form,t=e.greenConfigJson,o=new g[\"GreenConfig\"];return o.setKeyId(t.keyId),o.setKeySecret(t.keySecret),e.greenConfig=o,e},resetForm:function(){this.$refs.ruleForm.resetFields()},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},K=_,F=(o(\"56d6\"),Object(u[\"a\"])(K,D,x,!1,null,null,null)),O=F.exports,P=o(\"7139\"),V=o(\"4ec3\"),j={components:{Pagination:n[\"a\"],imageShow:i[\"a\"],addAreaConfig:s[\"a\"],ossConfig:m,agoraConfig:J,rongcloudConfig:$,greenConfig:O},data:function(){return{listLoading:!0,search:{appId:void 0,areaId:Object(P[\"n\"])(),page:{currentPage:1,pageSize:10}},total:0,authAreaId:Object(P[\"n\"])(),tableData:[],isCollapse:!0,areaList:Object(P[\"f\"])(!0),appList:[],payType:Object(P[\"B\"])()}},created:function(){this.search.areaId=0===this.authAreaId?this.areaList[1].value:this.authAreaId,this.changeArea(this.search.areaId),this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$service.config.getAreaConfigList(this.search,(function(t){var o=t.getConfigsList(),a=[];o.forEach((function(t,o){var r={id:t.getId(),areaId:t.getAreaId(),areaStr:Object(P[\"g\"])(e.areaList,t.getAreaId()),appId:t.getAppId(),app:Object(P[\"e\"])(Object(P[\"d\"])(e.search.areaId,!1),t.getAppId()),isHidden:!Object(V[\"a\"])(t.getAppId()),convertRate:t.getConvertRate(),depositCommission:t.getDepositCommission(),rewardCommission:t.getRewardCommission(),callPrice:t.getCallPrice(),freeMessageCount:t.getFreeMessageCount(),newUserReward:t.getNewUserReward(),heartbeatInterval:t.getHeartbeatInterval(),payTypes:t.getPayTypesList(),payTypeNames:e.handlePayType(t.getPayTypesList()).join(\",\"),cdn:t.getCdn(),dndPeriod:t.getDndPeriod(),tags:t.getTagsList().join(\",\"),agoraConfig:t.getAgoraConfig(),agoraConfigJson:e.toJsonAgoraConfig(t.getAgoraConfig()),ossConfig:t.getOssConfig(),ossConfigJson:e.toJsonOssConfig(t.getOssConfig()),rongcloudConfig:t.getRongcloudConfig(),rongcloudConfigJson:e.toJsonRongcloudConfig(t.getRongcloudConfig()),greenConfig:t.getGreenConfig(),greenConfigJson:e.toJsonGreenConfig(t.getGreenConfig()),enableAia:t.getEnableAia(),matchInterval:t.getMatchInterval(),payChannelIds:t.getPayChannelIdsList(),struct:t};a.push(r)})),e.total=o.length,e.tableData=a,e.listLoading=!1}))},onSearch:function(){this.search.page.currentPage=1,this.fetchData()},changePageSize:function(e){this.search.page.pageSize=e.limit},toDialog:function(e,t){var o=this;this.$refs[e].dialogVisible=!0,this.$nextTick((function(){o.$refs[e].init(t)}))},resetForm:function(){this.$refs.searchForm.resetFields()},handlePayType:function(e){var t=[];return Object(P[\"B\"])().forEach((function(o){e.indexOf(o.value)>=0&&t.push(o.label)})),t},toJsonAgoraConfig:function(e){if(\"undefined\"==typeof e)return{};var t={appId:e.getAppId(),appCert:e.getAppCert(),clientId:e.getClientId(),clientSecret:e.getClientSecret(),captureDuration:e.getCaptureDuration(),storageVendor:e.getStorageVendor(),storageRegion:e.getStorageRegion(),storageEndpoint:e.getStorageEndpoint(),storageBucket:e.getStorageBucket(),storageAccessKey:e.getStorageAccessKey(),storageSecretKey:e.getStorageSecretKey()};return t},toJsonOssConfig:function(e){if(\"undefined\"==typeof e)return{};var t={endpoint:e.getEndpoint(),bucket:e.getBucket(),keyId:e.getKeyId(),keySecret:e.getKeySecret()};return t},toJsonRongcloudConfig:function(e){if(\"undefined\"==typeof e)return{};var t={appKey:e.getAppKey(),appSecret:e.getAppSecret(),domain:e.getDomain(),oldAppKey:e.getOldAppKey(),oldAppSecret:e.getOldAppSecret(),oldDomain:e.getOldDomain()};return t},toJsonGreenConfig:function(e){if(\"undefined\"==typeof e)return{};var t={keyId:e.getKeyId(),keySecret:e.getKeySecret()};return t},changeArea:function(e){this.appList=Object(P[\"d\"])(e,!0,!0)}}},R=j,E=(o(\"69e3\"),Object(u[\"a\"])(R,a,r,!1,null,null,null));t[\"default\"]=E.exports},\"69e3\":function(e,t,o){\"use strict\";o(\"e01b\")},\"77c9\":function(e,t,o){},\"8e49\":function(e,t,o){},a15b:function(e,t,o){\"use strict\";var a=o(\"23e7\"),r=o(\"44ad\"),n=o(\"fc6a\"),i=o(\"a640\"),s=[].join,l=r!=Object,c=i(\"join\",\",\");a({target:\"Array\",proto:!0,forced:l||!c},{join:function(e){return s.call(n(this),void 0===e?\",\":e)}})},a771:function(e,t,o){\"use strict\";o(\"77c9\")},aede:function(e,t,o){\"use strict\";o(\"de68\")},bd73:function(e,t,o){\"use strict\";o(\"4502\")},de68:function(e,t,o){},e01b:function(e,t,o){}}]);","extractedComments":[]}