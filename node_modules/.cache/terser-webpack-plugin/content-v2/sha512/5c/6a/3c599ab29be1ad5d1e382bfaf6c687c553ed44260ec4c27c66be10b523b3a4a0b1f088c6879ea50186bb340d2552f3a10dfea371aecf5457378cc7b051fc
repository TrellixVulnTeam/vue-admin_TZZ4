{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-362fc494\"],{1:function(t,e){},\"15d4\":function(t,e,a){},\"206f\":function(t,e,a){\"use strict\";a(\"f678\")},\"333d\":function(t,e,a){\"use strict\";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"pagination-wrapper\"},[a(\"el-pagination\",{attrs:{background:t.background,\"current-page\":t.currentPage,\"page-sizes\":t.pageSizes,\"page-size\":t.pageSize,total:t.total,layout:t.layout},on:{\"update:currentPage\":function(e){t.currentPage=e},\"update:current-page\":function(e){t.currentPage=e},\"update:pageSize\":function(e){t.pageSize=e},\"update:page-size\":function(e){t.pageSize=e},\"size-change\":t.handleSizeChange,\"current-change\":t.handleCurrentChange}})],1)},r=[],o=(a(\"a9e3\"),{name:\"Pagination\",props:{page:{type:Number,default:1,required:!0},limit:{type:Number,default:10,required:!0},background:{type:Boolean,default:!0},pageSizes:{type:Array,default:function(){return[5,10,15,20,50,1e3]}},total:{type:Number,default:0,required:!0},layout:{type:String,default:\"total, prev, pager, next, sizes, jumper\"}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit(\"update:page\",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.emit(\"update:limit\",t)}}},methods:{handleSizeChange:function(t){this.$emit(\"changePageSize\",{page:this.currentPage,limit:t}),this.$emit(\"pagination\",{page:this.currentPage,limit:t})},handleCurrentChange:function(t){this.$emit(\"pagination\",{page:t,limit:this.pageSize})}}}),n=o,s=(a(\"206f\"),a(\"2877\")),l=Object(s[\"a\"])(n,i,r,!1,null,null,null);e[\"a\"]=l.exports},\"655f\":function(t,e,a){},\"9ae9\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"table-classic-wrapper\"},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"div\",{staticClass:\"control-btns\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(e){return t.toDialog(\"editRobot\",\"\")}}},[t._v(\"+ 新增机器人\")])],1),a(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:t.search,\"label-width\":\"90px\"}},[[a(\"el-form-item\",{attrs:{label:\"区域\",prop:\"areaId\"}},[a(\"el-select\",{attrs:{disabled:0!==t.authAreaId,placeholder:\"请选择\"},model:{value:t.search.areaId,callback:function(e){t.$set(t.search,\"areaId\",e)},expression:\"search.areaId\"}},t._l(t.areaData,(function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"机器人ID\",prop:\"robotId\"}},[a(\"el-input\",{attrs:{type:\"number\",placeholder:\"机器人主播ID\"},model:{value:t.search.robotId,callback:function(e){t.$set(t.search,\"robotId\",e)},expression:\"search.robotId\"}})],1),a(\"el-form-item\",{attrs:{label:\"状态\",prop:\"enable\"}},[a(\"el-switch\",{model:{value:t.search.enable,callback:function(e){t.$set(t.search,\"enable\",e)},expression:\"search.enable\"}})],1),a(\"el-form-item\",[a(\"el-button\",{staticStyle:{width:\"120px\"},attrs:{type:\"primary\",size:\"small\"},on:{click:t.onSearch}},[t._v(\"查  询\")])],1)]],2),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"}},[a(\"el-table-column\",{attrs:{prop:\"anchorId\",label:\"机器人ID\",align:\"center\",width:\"150\"}}),a(\"el-table-column\",{attrs:{prop:\"areaStr\",label:\"区域\",align:\"center\",width:\"150\"}}),a(\"el-table-column\",{attrs:{prop:\"avatar\",label:\"头像\",align:\"center\",width:\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(t){return[a(\"el-image\",{staticStyle:{width:\"50px\",height:\"50px\"},attrs:{contain:\"\",src:t.row.avatar,\"preview-src-list\":[t.row.avatar]}})]}}])}),a(\"el-table-column\",{attrs:{prop:\"nickname\",label:\"昵称\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"statusBool\",label:\"是否启用\",align:\"center\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-switch\",{attrs:{disabled:\"\"},model:{value:e.row.statusBool,callback:function(a){t.$set(e.row,\"statusBool\",a)},expression:\"scope.row.statusBool\"}})]}}])}),a(\"el-table-column\",{attrs:{prop:\"data\",label:\"动态\",align:\"center\",width:\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"text\"}},[a(\"router-link\",{attrs:{to:{path:\"./robot-dynamic\",query:{robotId:e.row.anchorId,nickname:e.row.nickname}}}},[t._v(\" 查看 \")])],1)]}}])}),a(\"el-table-column\",{attrs:{prop:\"words\",label:\"对话\",align:\"center\",width:\"150\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"a\",{staticStyle:{color:\"#1E88C7\"},on:{click:function(a){return t.toDialog(\"showDialog\",e.row.anchorId)}}},[t._v(\"查看\")])]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"250\",fixed:\"right\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return t.toDialog(\"editRobot\",e.row)}}},[t._v(\"编辑资料\")]),a(\"el-button\",{attrs:{type:\"text\"}},[a(\"router-link\",{attrs:{to:{path:\"./robot-message\",query:{robotId:e.row.anchorId,nickname:e.row.nickname}}}},[t._v(\"编辑话术\")])],1)]}}])})],1),a(\"Pagination\",{attrs:{total:t.total,page:t.search.page.currentPage,limit:t.search.page.pageSize},on:{\"update:page\":function(e){return t.$set(t.search.page,\"currentPage\",e)},\"update:limit\":function(e){return t.$set(t.search.page,\"pageSize\",e)},pagination:t.fetchData,changePageSize:function(e){return t.changePageSize(e)}}}),a(\"editRobot\",{ref:\"editRobot\",on:{fetchData:t.fetchData}}),a(\"showDialog\",{ref:\"showDialog\",on:{fetchData:t.fetchData}})],1)],1)},r=[],o=(a(\"ac1f\"),a(\"841c\"),a(\"159b\"),a(\"333d\")),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"el-dialog\",{attrs:{title:t.title,visible:t.dialogVisible,\"modal-append-to-body\":!1,\"append-to-body\":\"\",width:\"50%\",\"before-close\":t.closeDialog},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[a(\"div\",{staticClass:\"form-list-wrapper\"},[a(\"el-form\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.formLoading,expression:\"formLoading\"}],ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:t.form,\"label-width\":\"150px\"}},[a(\"el-form-item\",{attrs:{label:\"区域\",prop:\"areaId\"}},[a(\"el-select\",{attrs:{disabled:0!==t.authAreaId,placeholder:\"请选择\"},model:{value:t.form.areaId,callback:function(e){t.$set(t.form,\"areaId\",e)},expression:\"form.areaId\"}},t._l(t.areaData,(function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),0==typeof t.form.anchorId?a(\"el-form-item\",{attrs:{label:\"ID\",prop:\"anchorId\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:t.form.robotId,callback:function(e){t.$set(t.form,\"robotId\",e)},expression:\"form.robotId\"}})],1):t._e(),a(\"el-form-item\",{attrs:{label:\"昵称\",prop:\"nickname\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:t.form.nickname,callback:function(e){t.$set(t.form,\"nickname\",e)},expression:\"form.nickname\"}})],1),a(\"el-form-item\",{attrs:{label:\"头像\",prop:\"avatar\"}},[a(\"div\",{staticClass:\"img\"},[a(\"el-upload\",{attrs:{limit:1,accept:\"image/*\",\"on-preview\":t.imgPreview,\"on-change\":t.successAvatar,\"list-type\":\"picture-card\",\"file-list\":t.avatarArr,\"auto-upload\":!1}},[a(\"i\",{staticClass:\"el-icon-plus\"})])],1),a(\"div\",{staticClass:\"imgSpan2\"},[t._v(\"只能上传jpg/png文件，50X50px\")])]),a(\"el-form-item\",{attrs:{label:\"签名\",prop:\"signature\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:t.form.signature,callback:function(e){t.$set(t.form,\"signature\",e)},expression:\"form.signature\"}})],1),a(\"el-form-item\",{attrs:{label:\"职业\",prop:\"occupation\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.form.occupation,callback:function(e){t.$set(t.form,\"occupation\",e)},expression:\"form.occupation\"}},t._l(t.occupationTypes,(function(t){return a(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"出生日期\",prop:\"birthdayStr\"}},[a(\"el-date-picker\",{staticStyle:{width:\"35%\"},attrs:{type:\"date\",placeholder:\"出生日期\"},model:{value:t.form.birthday,callback:function(e){t.$set(t.form,\"birthday\",e)},expression:\"form.birthday\"}})],1),a(\"el-form-item\",{attrs:{label:\"经常在线\",prop:\"onlineStartStr\"}},[a(\"el-input-number\",{attrs:{min:1,max:24,label:\"开始时间\"},model:{value:t.form.onlineStart,callback:function(e){t.$set(t.form,\"onlineStart\",e)},expression:\"form.onlineStart\"}}),a(\"el-input-number\",{attrs:{min:t.form.onlineStart,max:24,label:\"结束时间\"},model:{value:t.form.onlineEnd,callback:function(e){t.$set(t.form,\"onlineEnd\",e)},expression:\"form.onlineEnd\"}})],1),a(\"el-form-item\",{attrs:{label:\"是否启用\",prop:\"statusBool\"}},[a(\"el-switch\",{model:{value:t.form.statusBool,callback:function(e){t.$set(t.form,\"statusBool\",e)},expression:\"form.statusBool\"}})],1),a(\"el-form-item\",{attrs:{label:\"图片\",prop:\"photoIds\"}},[a(\"div\",{staticClass:\"img\"},[a(\"el-upload\",{attrs:{limit:10,accept:\"image/*\",\"on-preview\":t.imgPreview,\"on-change\":t.successPhoto,\"on-remove\":t.removePhoto,\"list-type\":\"picture-card\",\"file-list\":t.form.photoUris,\"auto-upload\":!1}},[a(\"i\",{staticClass:\"el-icon-plus\"})])],1)]),a(\"el-form-item\",{attrs:{label:\"视频\",prop:\"videoIds\"}},[a(\"div\",{staticClass:\"img\"},[a(\"el-upload\",{attrs:{limit:10,accept:\"video/*\",\"on-preview\":t.imgPreview,\"on-change\":t.successVideo,\"on-remove\":t.removeVideo,\"list-type\":\"picture-card\",\"file-list\":t.form.videoUris,\"auto-upload\":!1}},[a(\"i\",{staticClass:\"el-icon-plus\"})])],1)]),a(\"el-form-item\",{staticClass:\"submit-box\"},[a(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:function(e){return t.submitForm()}}},[t._v(\"确   定\")]),a(\"el-button\",{on:{click:function(e){return t.resetForm()}}},[t._v(\"重   置\")])],1)],1)],1),a(\"el-dialog\",{attrs:{visible:t.imgDialog,\"modal-append-to-body\":!0,\"append-to-body\":\"\"},on:{\"update:visible\":function(e){t.imgDialog=e}}},[a(\"img\",{attrs:{width:\"100%\",src:t.imgUri,alt:\"\"}})])],1)},s=[],l=(a(\"b0c0\"),a(\"a434\"),a(\"f3e4\")),c=a(\"7139\"),u=a(\"cebe\"),d=a.n(u),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"img\"},[a(\"el-upload\",{ref:\"uploadImage\",attrs:{action:\"\",accept:\".jpg, .png, .bmp, .jpeg, .webp\",\"list-type\":\"picture-card\",multiple:!1,\"show-file-list\":!1,\"auto-upload\":!1,\"on-change\":t.handleChange}},[a(\"i\",{staticClass:\"el-icon-plus\"}),a(\"el-dialog\",{attrs:{\"modal-append-to-body\":!0,\"append-to-body\":\"\"}},[a(\"img\",{attrs:{width:\"100%\",alt:\"\"}})])],1)],1)},f=[],m={name:\"UploadImage\",props:{btnName:{type:String,default:\"选择图片\"}},methods:{handleChange:function(t){var e=t.raw;return!!e&&(this.isImage(e)?void(this.isLimit5M(e)&&(this.$emit(\"on-success\",e),this.$refs.uploadImage.clearFiles())):(this.$message.warning(\"图片只支持.jpg, .png, .bmp, .jpeg, .webp格式!\"),!1))},isLimit5M:function(t){var e=t.size/1024/1024<5;return!!e||(this.$message.warning(\"上传的图片大小不能超过5M!\"),!1)},isImage:function(t){return/\\.(jpg|png|bmp|jpeg|webp)$/.test(t.name)}}},h=m,g=a(\"2877\"),b=Object(g[\"a\"])(h,p,f,!1,null,null,null),v=b.exports,y=a(\"ca00\"),w={components:{ImgUpdate:v},data:function(){return{form:{areaId:Object(c[\"n\"])(),photoIds:[],photos:[],photoUris:[],videoIds:[],videos:[],statusBool:!0},title:\"新增机器人\",formLoading:!1,dialogImageUrl:\"\",dialogVisible:!1,imgDialog:!1,imgUri:void 0,authAreaId:Object(c[\"n\"])(),areaData:Object(c[\"f\"])(!0),occupationTypes:Object(c[\"w\"])(),appList:Object(c[\"c\"])(),avatarArr:[],rules:{nickname:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}],areaId:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}]}}},methods:{init:function(t){var e=this;\"undefined\"!=typeof t.anchorId?(this.title=\"编辑机器人\",this.form=t,this.avatarArr.push({url:t.avatar}),this.form.photoUris=[],this.form.photos.forEach((function(t){e.form.photoUris.push({name:t.getId(),url:t.getUri()})})),this.form.videoUris=[],this.form.videos.forEach((function(t){e.form.videoUris.push({name:t.getId(),url:t.getUri()})})),this.form.birthday=new Date(1e3*t.birthday)):(this.changeArea(this.form.areaId),this.form.birthday=Object(y[\"c\"])())},submitForm:function(){var t=this,e=this;this.$refs.ruleForm.validate((function(a){if(a){var i=t.form;i.birthdayTime=i.birthday.getTime()/1e3,i.status=t.form.statusBool?5:6,t.$service.robot.saveRobot(i,(function(t){t?(e.$message.success(\"保存成功!\"),e.closeDialog()):e.$message.error(\"保存失败!\")}))}}))},resetForm:function(){this.form.photoIds=[],this.form.photos=[],this.form.photoUris=[],this.form.videoIds=[],this.form.videos=[],this.form.videoUris=[],this.$refs.ruleForm.resetFields()},closeDialog:function(){this.formLoading=!1,this.dialogVisible=!1,this.avatarArr=[],this.form={},this.resetForm(),this.$emit(\"fetchData\")},imgPreview:function(t){this.imgDialog=!0,this.imgUri=t.url},successAvatar:function(t){var e=this;this.formLoading=!0,this.imgUpload(t.raw,1,(function(t){e.form.avatar=t.uri,e.formLoading=!1}))},successPhoto:function(t){var e=this;this.formLoading=!0,this.imgUpload(t.raw,1,(function(t){e.form.photoIds.push(t.id),e.formLoading=!1}))},successVideo:function(t){var e=this;this.formLoading=!0,this.imgUpload(t.raw,2,(function(t){e.form.videoIds.push(t.id),e.form.video=t.id,e.formLoading=!1}))},removePhoto:function(t,e){for(var a=this.form.photoIds,i=t.name,r=0;r<a.length;r++)if(a[r]===i){a.splice(r,1);break}},removeVideo:function(t,e){for(var a=this.form.videoIds,i=t.name,r=0;r<a.length;r++)if(a[r]===i){a.splice(r,1);break}},imgUpload:function(t,e,a){var i={\"Content-Type\":\"multipart/form-data\",token:Object(l[\"a\"])(),\"area-id\":1,\"file-type\":e},r=new FormData;r.append(\"file\",t),d()({url:\"https://freshjuice.cc/file/upload\",method:\"post\",data:r,headers:i}).then((function(t){var e=t.data;a(e)}))},changeArea:function(t){var e=Object(c[\"d\"])(t,!0);e.splice(0,1),this.appList=e}}},I=w,S=(a(\"af02\"),Object(g[\"a\"])(I,n,s,!1,null,null,null)),D=S.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"el-dialog\",{attrs:{title:\"对话\",visible:t.dialogVisible,\"append-to-body\":\"\",width:\"80%\",\"before-close\":t.closeDialog},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[a(\"div\",{staticClass:\"table-classic-wrapper\"},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:t.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"}},[a(\"el-table-column\",{attrs:{prop:\"app\",label:\"来源App\",align:\"center\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"div\",{attrs:{slot:\"reference\"},slot:\"reference\"},[t._v(\"\\n                            \"+t._s(e.row.app.label)+\"\\n                            \"),1===e.row.app.os?a(\"span\",[a(\"i\",{staticClass:\"icon-android-fill\"})]):a(\"span\",[a(\"i\",{staticClass:\"icon-pingguo\"})])])]}}])}),a(\"el-table-column\",{attrs:{prop:\"userId\",label:\"用户id\",align:\"center\",width:\"120\"}}),a(\"el-table-column\",{attrs:{prop:\"directionStr\",label:\"消息方向\",align:\"center\",width:\"120\"}}),a(\"el-table-column\",{attrs:{prop:\"anchorId\",label:\"主播id\",align:\"center\",width:\"120\"}}),a(\"el-table-column\",{attrs:{prop:\"typeStr\",label:\"消息类型\",align:\"center\",width:\"120\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[a(\"div\",{attrs:{slot:\"reference\"},slot:\"reference\"},[a(\"el-tag\",{attrs:{size:\"medium\"}},[t._v(t._s(e.row.typeStr))])],1)]}}])}),a(\"el-table-column\",{attrs:{prop:\"text\",label:\"私信内容\",align:\"center\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[1===e.row.type?a(\"div\",[t._v(\"\\n                            \"+t._s(e.row.text)+\"\\n                        \")]):t._e(),4===e.row.type?a(\"div\",[a(\"el-image\",{staticStyle:{width:\"50px\",height:\"50px\"},attrs:{contain:\"\",src:e.row.uri,\"preview-src-list\":[e.row.uri]}})],1):t._e(),5===e.row.type||8===e.row.type?a(\"div\",[a(\"div\",{on:{click:function(a){return t.play(e.row)}}},[a(\"el-image\",{staticStyle:{width:\"50px\",height:\"50px\"},attrs:{src:e.row.thumb,contain:\"\"}})],1)]):t._e(),6===e.row.type?a(\"div\",[e.row.uri?a(\"div\",[a(\"m-audio\",{attrs:{src:e.row.uri}})],1):t._e()]):t._e()]}}])}),a(\"el-table-column\",{attrs:{prop:\"sendAt\",label:\"发送时间\",align:\"center\",width:\"220\"}})],1),a(\"Pagination\",{attrs:{total:t.total,page:t.search.page.currentPage,limit:t.search.page.pageSize},on:{\"update:page\":function(e){return t.$set(t.search.page,\"currentPage\",e)},\"update:limit\":function(e){return t.$set(t.search.page,\"pageSize\",e)},pagination:t.fetchData}}),a(\"el-dialog\",{attrs:{title:\"播放视频\",visible:t.playVisible,\"before-close\":t.closeVideo,\"append-to-body\":!0},on:{\"update:visible\":function(e){t.playVisible=e}}},[a(\"div\",{staticClass:\"content-item\"},[a(\"VueVideoPlayer\",{ref:\"myVideoPlayer\"})],1)])],1)],1)])},$=[],x=a(\"be3f\"),P={name:\"Table\",components:{Pagination:o[\"a\"],VueVideoPlayer:x[\"a\"]},data:function(){return{listLoading:!0,search:{areaId:void 0,userId:void 0,anchorId:void 0,appId:void 0,direction:0,type:void 0,keyword:void 0,createdStart:void 0,createdEnd:void 0,page:{currentPage:1,pageSize:10}},tableData:{},total:0,dialogVisible:!1,playVisible:!1,areaData:Object(c[\"f\"])(!0),appList:Object(c[\"c\"])(),messageTypeList:Object(c[\"u\"])()}},methods:{init:function(t){this.search.anchorId=t,this.fetchData()},fetchData:function(){var t=this;this.listLoading=!0,this.$service.chat.getChatMessageList(this.handleParam(),(function(e){var a=e.getMessagesList(),i=[];a.forEach((function(e,a){var r={id:e.getId(),appId:e.getAppId(),app:Object(c[\"e\"])(t.appList,e.getAppId()),userId:e.getUserId(),direction:e.getDirection(),directionStr:1===e.getDirection()?\"<--\":\"--\\x3e\",anchorId:e.getAnchorId(),type:e.getType(),typeStr:Object(c[\"u\"])(e.getType()),text:e.getText(),uri:e.getUri(),sendAt:Object(y[\"i\"])(e.getSendAt())};i.push(r)})),t.total=e.getTotalCount(),t.tableData=i,t.listLoading=!1}))},handleParam:function(){var t=this.search;return\"undefined\"!=typeof this.search.createdStart&&(t.createdStartUint=this.search.createdStart.getTime()/1e3),\"undefined\"!=typeof this.search.createdEnd&&(t.createdEndUint=this.search.createdEnd.getTime()/1e3),t},resetForm:function(){this.$refs.ruleForm.resetFields()},play:function(t){var e=this;this.playVisible=!0;var a=t.uri;this.$nextTick((function(){e.$refs.myVideoPlayer.initSrc(a)}))},closeVideo:function(){var t=this;this.playVisible=!1,this.$nextTick((function(){t.$refs.myVideoPlayer.emptySrc()}))},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},_=P,L=(a(\"f26d\"),Object(g[\"a\"])(_,k,$,!1,null,null,null)),j=L.exports,C={components:{Pagination:o[\"a\"],editRobot:D,showDialog:j},data:function(){return{listLoading:!0,search:{areaId:Object(c[\"n\"])(),enable:!0,robotId:void 0,page:{currentPage:1,pageSize:10}},total:0,tableData:[],authAreaId:Object(c[\"n\"])(),isSubmit:!1,areaData:Object(c[\"f\"])(!0),appListAll:Object(c[\"c\"])(!1),bools:Object(c[\"j\"])()}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;this.listLoading=!0,this.$service.robot.getRobotList(this.search,(function(e){var a=e.getRobotsList(),i=[];a.forEach((function(e,a){var r={appId:e.getAppId(),app:Object(c[\"e\"])(t.appListAll,e.getAppId()),anchorId:e.getAnchorId(),status:e.getStatus(),statusBool:t.handleStatus(e.getStatus()),areaId:e.getAreaId(),areaStr:Object(c[\"g\"])(t.areaData,e.getAreaId()),nickname:e.getNickname(),avatar:e.getAvatar(),birthday:e.getBirthday(),occupation:e.getOccupation(),onlineStart:e.getOnlineStart(),onlineEnd:e.getOnlineEnd(),signature:e.getSignature(),photoIds:e.getPhotoIdsList(),photos:e.getPhotosList(),videoIds:e.getVideoIdsList(),videos:e.getVideosList(),struct:e};i.push(r)})),t.total=e.getTotalCount(),t.tableData=i,t.listLoading=!1}))},onSearch:function(){this.search.page.currentPage=1,this.fetchData()},toDialog:function(t,e){var a=this;this.$refs[t].dialogVisible=!0,this.$nextTick((function(){a.$refs[t].init(e)}))},handleStatus:function(t){return 5===t},resetForm:function(){this.$refs.searchForm.resetFields()},changePageSize:function(t){this.search.page.pageSize=t.limit}}},O=C,z=(a(\"f43b\"),Object(g[\"a\"])(O,i,r,!1,null,null,null));e[\"default\"]=z.exports},a03a:function(t,e,a){},af02:function(t,e,a){\"use strict\";a(\"15d4\")},be3f:function(t,e,a){\"use strict\";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"videoPlayer\",{ref:\"videoPlayer\",staticClass:\"video-player vjs-custom-skin\",attrs:{playsinline:!0,options:t.playerOptions}})},r=[],o=a(\"d6d3\"),n=(a(\"fda2\"),{name:\"VueVideoPlayer\",components:{videoPlayer:o[\"videoPlayer\"]},data:function(){return{playerOptions:{playbackRates:[.7,1,1.5,2],autoplay:!0,muted:!1,loop:!1,preload:\"auto\",language:\"zh-CN\",aspectRatio:\"16:9\",fluid:!0,sources:[{type:\"video/mp4\",src:\"\"}],poster:\"\",notSupportedMessage:\"此视频暂无法播放，请稍后再试\",controlBar:{timeDivider:!0,durationDisplay:!0,remainingTimeDisplay:!1,fullscreenToggle:!0}}}},methods:{initSrc:function(t){this.playerOptions.sources[0].src=t},emptySrc:function(){this.playerOptions.sources[0].src=\"\"}}}),s=n,l=a(\"2877\"),c=Object(l[\"a\"])(s,i,r,!1,null,null,null);e[\"a\"]=c.exports},ca00:function(t,e,a){\"use strict\";a.d(e,\"h\",(function(){return i})),a.d(e,\"g\",(function(){return r})),a.d(e,\"i\",(function(){return o})),a.d(e,\"d\",(function(){return n})),a.d(e,\"c\",(function(){return s})),a.d(e,\"e\",(function(){return l})),a.d(e,\"a\",(function(){return c})),a.d(e,\"f\",(function(){return u})),a.d(e,\"b\",(function(){return d}));a(\"b0c0\");function i(t){return t/100}function r(t){return 0===t?\"\":new Date(1e3*t).format(\"yyyy-MM-dd\")}function o(t){return 0===t?\"\":new Date(1e3*t).format(\"yyyy-MM-dd hh:mm:ss\")}function n(t){return\"undefined\"==typeof t&&(t=new Date),t.format(\"yyyy-MM-dd\")}function s(t){var e=new Date((new Date).toLocaleDateString());return t?new Date(e.setDate(e.getDate()+t)):e}function l(){return new Date((new Date).toLocaleDateString())}function c(){return new Date(1e3*d(new Date))}function u(t){return new Date(t.toLocaleDateString()).getTime()/1e3}function d(t){return u(t)+86400-1}},f26d:function(t,e,a){\"use strict\";a(\"a03a\")},f43b:function(t,e,a){\"use strict\";a(\"655f\")},f678:function(t,e,a){}}]);","extractedComments":[]}