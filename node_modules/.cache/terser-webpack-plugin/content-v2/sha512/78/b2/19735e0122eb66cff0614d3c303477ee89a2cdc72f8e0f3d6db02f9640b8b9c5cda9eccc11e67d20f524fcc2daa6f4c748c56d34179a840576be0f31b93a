{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-78597f1e\"],{1148:function(t,a,e){\"use strict\";var n=e(\"a691\"),i=e(\"577e\"),s=e(\"1d80\");t.exports=function(t){var a=i(s(this)),e=\"\",o=n(t);if(o<0||o==1/0)throw RangeError(\"Wrong number of repetitions\");for(;o>0;(o>>>=1)&&(a+=a))1&o&&(e+=a);return e}},\"3dc1\":function(t,a,e){},\"408a\":function(t,a){var e=1..valueOf;t.exports=function(t){return e.call(t)}},4175:function(t,a,e){\"use strict\";e(\"3dc1\")},\"6f2c\":function(t,a,e){\"use strict\";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-bar\"})},i=[],s=(e(\"b0c0\"),e(\"d81d\"),e(\"313e\")),o=e.n(s),r={name:\"ChartsBar\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=this.data.title,a=this.data.name,e=this.data.legend,n=this.data.data.map((function(t){return t.title})),i=this.data.data.map((function(t){return t.val1})),s=this.data.data.map((function(t){return t.val2})),r=this.data.data.map((function(t){return t.val3})),l={title:{text:t,subtext:a,top:5},tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:n,axisTick:{alignWithLabel:!0}}],yAxis:[{type:\"value\"},{type:\"value\",show:!1,axisLabel:{formatter:\"{value} %\"},max:function(t){return 100*Math.ceil(t.max/100)+200}}],color:[\"#2d8cf0\"],series:[{name:e[0],type:\"bar\",stack:\"total\",color:\"#2d8cf0\",barWidth:\"40%\",label:{show:!0},emphasis:{focus:\"series\"},data:i},{name:e[1],type:\"bar\",stack:\"total\",color:\"#19be6b\",label:{show:!0},emphasis:{focus:\"series\"},data:s},{name:e[2],type:\"bar\",stack:\"total\",color:\"#ff9900\",label:{show:!0},emphasis:{focus:\"series\"},data:r}]};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(l,!0),window.addEventListener(\"resize\",this.resize)}}},l=r,c=e(\"2877\"),d=Object(c[\"a\"])(l,n,i,!1,null,null,null);a[\"a\"]=d.exports},b3d7:function(t,a,e){\"use strict\";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticClass:\"home-wrapper\"},[e(\"div\",{staticClass:\"date-row\"},t._l(t.cardInfoData,(function(a,n){return e(\"div\",{key:n,staticClass:\"data-col\"},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"0px\"}}},[e(\"div\",{staticClass:\"date-block\"},[e(\"div\",{staticClass:\"date-cont\"},[3===a.num?e(\"div\",{staticStyle:{display:\"inline\"}},[e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+\"\\n                            /\"),e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count2,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+\"\\n                            /\"),e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count3,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+\"\\n                        \")],1):2===a.num?e(\"div\",{staticStyle:{display:\"inline\"}},[e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count,duration:1e3,decimals:a.decimals}}),t._v(\"\\n                            /\"),e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count2,duration:1e3}})],1):1===a.num?e(\"div\",{staticStyle:{display:\"inline\"}},[e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count,duration:1e3}})],1):t._e(),e(\"p\",{staticClass:\"title\"},[t._v(t._s(a.title))])])])])],1)})),0),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:20}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:t.search,\"label-width\":\"90px\"}},[[e(\"el-form-item\",{attrs:{label:\"区域\"}},[e(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.search.areaId,callback:function(a){t.$set(t.search,\"areaId\",a)},expression:\"search.areaId\"}},t._l(t.areaList,(function(t){return e(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"时间\"}},[e(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"选择日期\"},model:{value:t.search.date,callback:function(a){t.$set(t.search,\"date\",a)},expression:\"search.date\"}})],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-refresh\"},on:{click:t.onSearch}},[t._v(\"刷 新\")])],1)]],2)],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBarLine\",{key:t.incomeKey,staticClass:\"data-chart\",attrs:{data:t.incomeData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBarLine\",{key:t.totalKey,staticClass:\"data-chart\",attrs:{data:t.totalDate}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBar\",{key:t.newUserKey,staticClass:\"data-chart\",attrs:{title:\"新增用户\",data:t.userDate}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsLine\",{key:t.activeKey,staticClass:\"data-chart\",attrs:{data:t.activeData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBar\",{key:t.channelKey,staticClass:\"data-chart\",attrs:{title:\"充值渠道\",data:t.channelData}})],1)],1)],1)],1)},i=[],s=(e(\"ac1f\"),e(\"841c\"),e(\"159b\"),e(\"b0c0\"),e(\"4e82\"),e(\"d3b7\"),e(\"ddb0\"),e(\"b680\"),e(\"ec1b\")),o=e.n(s),r=e(\"cc56\"),l=e(\"6f2c\"),c=e(\"d909\"),d=e(\"7139\"),u={name:\"Home\",components:{CountTo:o.a,ChartsBar:l[\"a\"],ChartsBarLine:r[\"a\"],ChartsLine:c[\"a\"]},data:function(){return{listLoading:!1,search:{areaId:void 0,date:new Date((new Date).format(\"yyyy-MM-dd\")),startAt:void 0,endAt:void 0},authAreaId:Object(d[\"n\"])(),areaList:Object(d[\"f\"])(!1),appList:Object(d[\"c\"])(),cardInfoData:[],newUserKey:1,incomeKey:20,totalKey:40,activeKey:60,channelKey:80,incomeData:{title:\"新增收入\",name:\"\",legend:[\"新增收入\"],data:[]},totalDate:{title:\"全部收入\",name:\"\",legend:[\"总收入\"],data:[]},userDate:{title:\"新增用户\",name:\"\",legend:[\"新增用户\"],data:[]},activeData:{title:\"活跃用户\",legend:[\"活跃用户\"],keys:[],values:[]},channelData:{title:\"充值渠道\",legend:[\"google\",\"apple\",\"其他\"],data:[]}}},created:function(){this.search.areaId=0===this.authAreaId?this.areaList[0].value:this.authAreaId,this.initCard(),this.initData()},methods:{onSearch:function(){this.listLoading=!0,this.initCard(),this.initData()},initCard:function(){var t=this;this.cardInfoData=[],this.$service.home.getOverview(this.handleSearch(),(function(a){var e=a.getIncome(),n=0;e>0&&(e/=100,n=2);var i={title:\"大盘实时收入/订单数\",num:2,count:e,count2:a.getPayCount(),decimals:n},s={title:\"新增/活跃用户\",num:2,count:a.getNewUser(),count2:a.getActiveUser(),decimals:0},o={title:\"通话/在线主播\",num:2,count:a.getBusyAnchor(),count2:a.getOnlineAnchor(),decimals:0},r={title:\"待审核主播/资料/视频\",num:3,count:a.getReviewAnchor(),count2:a.getReviewProfile(),count3:a.getReviewVideo(),decimals:0},l=a.getNewAmount()/1e3,c=a.getExpenseAmount()/1e3,d=a.getTotalAmount()/1e3,u={title:\"新充值/消费/总余额\",num:3,count:l,count2:c,count3:d,decimals:0,unit:\"K\"};t.cardInfoData.push(i),t.cardInfoData.push(s),t.cardInfoData.push(o),t.cardInfoData.push(r),t.cardInfoData.push(u)}))},initData:function(){var t=this;this.$service.home.getHomeStat(this.handleSearch(),(function(a){var e=a.getStatsList(),n=[],i=[],s=[],o=[];e.forEach((function(a){var e=Object(d[\"e\"])(t.appList,a.getAppId()),r=1===e.os?\"🤖\":\"\",l=e.label+r;if(a.getNewIncome()>0&&n.push({title:l,val1:a.getNewIncome()/100}),a.getTotalIncome()>0&&i.push({title:l,val1:a.getTotalIncome()/100}),a.getNewUser()>0&&s.push({title:l,val1:a.getNewUser()}),a.getGoogleIncome()>0||a.getAppleIncome()>0||a.getOtherIncome()>0){var c=a.getGoogleIncome()/100,u=a.getAppleIncome()/100,h=a.getOtherIncome()/100;o.push({title:l,val1:c,val2:u,val3:h,total:c+u+h})}})),t.userDate.name=\"总计:\"+t.countTotal(s,\"val1\"),t.userDate.data=s.sort((function(t,a){return a.val1-t.val1})),++t.newUserKey,t.incomeData.name=\"总计:\"+t.countTotal(n,\"val1\"),t.incomeData.data=n.sort((function(t,a){return a.val1-t.val1})),++t.incomeKey,t.totalDate.name=\"总计:\"+t.countTotal(i,\"val1\"),t.totalDate.data=i.sort((function(t,a){return a.val1-t.val1})),++t.totalKey,t.channelData.name=\"总计:\"+t.countTotal(o,\"tatal\")+\"  google:\"+t.countTotal(o,\"val1\")+\"  apple:\"+t.countTotal(o,\"val2\")+\"  其他:\"+t.countTotal(o,\"val3\"),t.channelData.data=o.sort((function(t,a){return a.total-t.total})),++t.channelKey;var r=a.getHourlyActivesList();t.handleActiveData(r),++t.activeKey,t.listLoading=!1}))},handleSearch:function(){var t=this.search.date;return this.search.startAt=this.startUnix(t),this.search.endAt=this.endUnix(t),this.search},handleActiveData:function(t){var a=[],e=[],n=[];t.forEach((function(t,e){a.push(e+\":00\"),n.push(t)})),e.push(n),this.activeData.keys=a,this.activeData.values=e,++this.activeKey},startUnix:function(t){return new Date(t.toLocaleDateString()).getTime()/1e3},endUnix:function(t){return this.startUnix(t)+86400-1},countTotal:function(t,a){var e=0;return e=t.reduce((function(t,e,n,i){return e[a]?t+e[a]:t}),0),e.toFixed(2)}}},h=u,p=(e(\"4175\"),e(\"2877\")),m=Object(p[\"a\"])(h,n,i,!1,null,null,null);a[\"default\"]=m.exports},b680:function(t,a,e){\"use strict\";var n=e(\"23e7\"),i=e(\"a691\"),s=e(\"408a\"),o=e(\"1148\"),r=e(\"d039\"),l=1..toFixed,c=Math.floor,d=function(t,a,e){return 0===a?e:a%2===1?d(t,a-1,e*t):d(t*t,a/2,e)},u=function(t){var a=0,e=t;while(e>=4096)a+=12,e/=4096;while(e>=2)a+=1,e/=2;return a},h=function(t,a,e){var n=-1,i=e;while(++n<6)i+=a*t[n],t[n]=i%1e7,i=c(i/1e7)},p=function(t,a){var e=6,n=0;while(--e>=0)n+=t[e],t[e]=c(n/a),n=n%a*1e7},m=function(t){var a=6,e=\"\";while(--a>=0)if(\"\"!==e||0===a||0!==t[a]){var n=String(t[a]);e=\"\"===e?n:e+o.call(\"0\",7-n.length)+n}return e},f=l&&(\"0.000\"!==8e-5.toFixed(3)||\"1\"!==.9.toFixed(0)||\"1.25\"!==1.255.toFixed(2)||\"1000000000000000128\"!==(0xde0b6b3a7640080).toFixed(0))||!r((function(){l.call({})}));n({target:\"Number\",proto:!0,forced:f},{toFixed:function(t){var a,e,n,r,l=s(this),c=i(t),f=[0,0,0,0,0,0],v=\"\",g=\"0\";if(c<0||c>20)throw RangeError(\"Incorrect fraction digits\");if(l!=l)return\"NaN\";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(v=\"-\",l=-l),l>1e-21)if(a=u(l*d(2,69,1))-69,e=a<0?l*d(2,-a,1):l/d(2,a,1),e*=4503599627370496,a=52-a,a>0){h(f,0,e),n=c;while(n>=7)h(f,1e7,0),n-=7;h(f,d(10,n,1),0),n=a-1;while(n>=23)p(f,1<<23),n-=23;p(f,1<<n),h(f,1,1),p(f,2),g=m(f)}else h(f,0,e),h(f,1<<-a,0),g=m(f)+o.call(\"0\",c);return c>0?(r=g.length,g=v+(r<=c?\"0.\"+o.call(\"0\",c-r)+g:g.slice(0,r-c)+\".\"+g.slice(r-c))):g=v+g,g}})},cc56:function(t,a,e){\"use strict\";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-bar\"})},i=[],s=(e(\"b0c0\"),e(\"d81d\"),e(\"313e\")),o=e.n(s),r={name:\"ChartsBar\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){console.log(\"组件......\");var t=this.data.title,a=this.data.name,e=this.data.legend,n=this.data.data.map((function(t){return t.title})),i=this.data.data.map((function(t){return t.val1})),s=this.data.data.map((function(t){return t.val2})),r=this.data.data.map((function(t){return t.val3})),l=this.data.data.map((function(t){return t.val4})),c={title:{text:t,subtext:a,top:5},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",crossStyle:{color:\"#999\"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:n,axisPointer:{type:\"shadow\"}}],yAxis:[{type:\"value\"},{type:\"value\",show:!1,axisLabel:{formatter:\"{value} %\"},max:function(t){return 100*Math.ceil(t.max/100)+200}}],series:[{name:e[0],type:\"bar\",stack:\"total\",color:\"#2d8cf0\",barWidth:\"40%\",label:{show:!0},emphasis:{focus:\"series\"},data:i},{name:e[1],type:\"bar\",stack:\"total\",color:\"#19be6b\",label:{show:!0},emphasis:{focus:\"series\"},data:s},{name:e[2],type:\"line\",color:\"#19be6b\",yAxisIndex:1,data:r},{name:e[3],type:\"line\",color:\"#ff9900\",yAxisIndex:1,data:l}]};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(c),window.addEventListener(\"resize\",this.resize)}}},l=r,c=e(\"2877\"),d=Object(c[\"a\"])(l,n,i,!1,null,null,null);a[\"a\"]=d.exports},d909:function(t,a,e){\"use strict\";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-line\"})},i=[],s=(e(\"d3b7\"),e(\"ddb0\"),e(\"159b\"),e(\"313e\")),o=e.n(s),r={name:\"ChartsLine\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{init:function(t){this.data=t,this.drawing()},resize:function(){this.dom.resize()},drawing:function(){var t=this,a=this.data.title,e=this.data.legend,n=this.data.keys,i=[];e.forEach((function(a,e){var n={name:a,type:\"line\",data:t.data.values[e]};i.push(n)}));var s={title:{text:a,top:15},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",crossStyle:{color:\"#999\"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:n,axisTick:{alignWithLabel:!0,type:\"shadow\"}}],yAxis:[{type:\"value\"}],series:i};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(s),window.addEventListener(\"resize\",this.resize)}}},l=r,c=e(\"2877\"),d=Object(c[\"a\"])(l,n,i,!1,null,null,null);a[\"a\"]=d.exports}}]);","extractedComments":[]}