{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-41796d5a\"],{\"129f\":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},\"2d5b\":function(e,t,a){\"use strict\";a(\"5168\")},\"44b6\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"table-classic-wrapper\"},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"div\",{staticClass:\"control-btns\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.toDialog(\"addSysAccount\",\"\")}}},[e._v(\"+ 新增管理帐号\")])],1),a(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:e.search,\"label-width\":\"90px\"}},[[a(\"el-row\",[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"区域\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.search.area,callback:function(t){e.$set(e.search,\"area\",t)},expression:\"search.area\"}},e._l(e.areaData,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)]],2),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"}},[a(\"el-table-column\",{attrs:{prop:\"id\",label:\"编号\",align:\"center\",width:\"50\"}}),a(\"el-table-column\",{attrs:{prop:\"email\",label:\"邮箱\",align:\"center\",width:\"300\"}}),a(\"el-table-column\",{attrs:{prop:\"name\",label:\"真实姓名\",align:\"center\",width:\"200\"}}),a(\"el-table-column\",{attrs:{prop:\"photo\",label:\"权限\",align:\"center\",width:\"250\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"a\",{staticStyle:{color:\"#1E88C7\"},on:{click:function(a){return e.toDialog(\"editRobot\",t.row)}}},[e._v(\"查看\")])]}}])}),a(\"el-table-column\",{attrs:{prop:\"enable\",label:\"状态\",align:\"center\",width:\"200\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-switch\",{attrs:{disabled:\"\"},model:{value:t.row.enable,callback:function(a){e.$set(t.row,\"enable\",a)},expression:\"scope.row.enable\"}})]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return e.toDialog(\"addSysAccount\",t.row)}}},[e._v(\"编辑\")])]}}])})],1),a(\"Pagination\",{attrs:{total:e.total,page:e.search.page.currentPage,limit:e.search.page.pageSize},on:{\"update:page\":function(t){return e.$set(e.search.page,\"currentPage\",t)},\"update:limit\":function(t){return e.$set(e.search.page,\"pageSize\",t)},pagination:e.fetchData,changePageSize:function(t){return e.changePageSize(t)}}}),a(\"addSysAccount\",{ref:\"addSysAccount\",on:{fetchData:e.fetchData}})],1)],1)},i=[],n=(a(\"ac1f\"),a(\"841c\"),a(\"159b\"),a(\"333d\")),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{title:\"新增管理帐号\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"div\",{staticClass:\"form-list-wrapper\"},[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[a(\"el-form-item\",{attrs:{label:\"账户名：\",prop:\"email\"}},[a(\"el-input\",{attrs:{maxlength:\"15\",\"show-word-limit\":\"\",placeholder:\"请输入\"},model:{value:e.form.email,callback:function(t){e.$set(e.form,\"email\",t)},expression:\"form.email\"}})],1),a(\"el-form-item\",{attrs:{label:\"密码：\",prop:\"password\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\",maxlength:\"16\",\"show-password\":\"\"},model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}})],1),a(\"el-form-item\",{attrs:{label:\"真实姓名：\",prop:\"name\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\",\"show-word-limit\":\"\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"权限设置：\",prop:\"url\"}},[a(\"div\",{staticClass:\"content-box\",staticStyle:{height:\"360px\"}},[a(\"el-transfer\",{attrs:{data:e.data,titles:[\"权限\",\"已有权限\"]},model:{value:e.value1,callback:function(t){e.value1=t},expression:\"value1\"}})],1)]),a(\"el-form-item\",{attrs:{label:\"是否开启\",prop:\"isOpen\"}},[a(\"el-switch\",{model:{value:e.form.isOpen,callback:function(t){e.$set(e.form,\"isOpen\",t)},expression:\"form.isOpen\"}})],1),a(\"el-form-item\",{staticClass:\"submit-box\"},[a(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm(\"ruleForm\")}}},[e._v(\"确   定\")]),a(\"el-button\",{on:{click:function(t){return e.resetForm(\"form\")}}},[e._v(\"重   置\")])],1)],1)],1)])},l=[],o=(a(\"b0c0\"),a(\"7139\")),c={data:function(){var e=function(){for(var e=[],t=1;t<10;t++)e.push({key:t,label:\"备选项 \".concat(t)});return e};return{data:e(),form:{id:\"\",areaId:\"\",email:\"\",password:\"\",name:\"\",isOpen:\"\"},value1:[1,5],value2:[1,5],dialogVisible:!1,areaData:Object(o[\"e\"])(),rules:{areaId:[{required:!0,message:\"请选择\",trigger:\"blur\"}],email:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}],password:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"},{min:6,max:16,message:\"密码长度在 6 到 16 个字符\",trigger:[\"blur\",\"change\"]},{pattern:/^[a-zA-Z0-9_-]{6,16}$/,message:\"密码只支持字母、数字和下划线\",trigger:[\"blur\",\"change\"]}],name:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}]}}},methods:{init:function(e){this.form.areaId=e.areaId,this.form.email=e.email,this.form.password=e.password,this.form.name=e.name},submitForm:function(e){var t=this,a=this;this.$refs[e].validate((function(e){e&&t.$service.admin.saveAdmin(t.form,(function(e){e?(a.$message.success(\"保存成功!\"),a.closeDialog()):a.$message.error(\"保存失败!\")}))}))},resetForm:function(){this.$refs.ruleForm.resetFields()},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},u=c,d=(a(\"2d5b\"),a(\"2877\")),f=Object(d[\"a\"])(u,s,l,!1,null,null,null),m=f.exports,p={components:{Pagination:n[\"a\"],addSysAccount:m},data:function(){return{listLoading:!0,search:{uid:void 0,app:void 0,robotId:void 0,page:{currentPage:1,pageSize:10}},total:0,isSubmit:!1,areaData:Object(o[\"e\"])()}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$service.admin.getAdminList(this.search,(function(t){var a=t.getAdminsList(),r=[];a.forEach((function(e,t){var a={id:e.getId(),enable:e.getEnable(),email:e.getEmail(),password:e.getPassword(),name:e.getName(),note:e.getNote(),area_ids:e.getAreaIdsList(),app_ids:e.getAppIdsList(),modules:e.getModulesList(),login_at:e.getLoginAt(),login_ip:e.getLoginIp(),fail_count:e.getFailCount(),access_token:e.getAccessToken(),updated_at:e.getUpdatedAt(),created_at:e.getCreatedAt()};r.push(a)})),e.total=a.length,e.tableData=r,e.listLoading=!1}))},onSearch:function(){this.search.currentPage=1,this.fetchData()},toDialog:function(e,t){var a=this;this.$refs[e].dialogVisible=!0,this.$nextTick((function(){a.$refs[e].init(t)}))},resetForm:function(){this.$refs.searchForm.resetFields()},changePageSize:function(e){this.search.page.pageSize=e.limit}}},g=p,h=(a(\"a5c5\"),Object(d[\"a\"])(g,r,i,!1,null,null,null));t[\"default\"]=h.exports},5168:function(e,t,a){},\"841c\":function(e,t,a){\"use strict\";var r=a(\"d784\"),i=a(\"825a\"),n=a(\"1d80\"),s=a(\"129f\"),l=a(\"577e\"),o=a(\"14c3\");r(\"search\",(function(e,t,a){return[function(t){var a=n(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a):new RegExp(t)[e](l(a))},function(e){var r=i(this),n=l(e),c=a(t,r,n);if(c.done)return c.value;var u=r.lastIndex;s(u,0)||(r.lastIndex=0);var d=o(r,n);return s(r.lastIndex,u)||(r.lastIndex=u),null===d?-1:d.index}]}))},9734:function(e,t,a){},a5c5:function(e,t,a){\"use strict\";a(\"9734\")},a9e3:function(e,t,a){\"use strict\";var r=a(\"83ab\"),i=a(\"da84\"),n=a(\"94ca\"),s=a(\"6eeb\"),l=a(\"5135\"),o=a(\"c6b6\"),c=a(\"7156\"),u=a(\"d9b5\"),d=a(\"c04e\"),f=a(\"d039\"),m=a(\"7c73\"),p=a(\"241c\").f,g=a(\"06cf\").f,h=a(\"9bf2\").f,b=a(\"58a8\").trim,v=\"Number\",w=i[v],I=w.prototype,_=o(m(I))==v,x=function(e){if(u(e))throw TypeError(\"Cannot convert a Symbol value to a number\");var t,a,r,i,n,s,l,o,c=d(e,\"number\");if(\"string\"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(n=c.slice(2),s=n.length,l=0;l<s;l++)if(o=n.charCodeAt(l),o<48||o>i)return NaN;return parseInt(n,r)}return+c};if(n(v,!w(\" 0o1\")||!w(\"0b1\")||w(\"+0x1\"))){for(var S,k=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof k&&(_?f((function(){I.valueOf.call(a)})):o(a)!=v)?c(new w(x(t)),a,k):x(t)},y=r?p(w):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range\".split(\",\"),A=0;y.length>A;A++)l(w,S=y[A])&&!l(k,S)&&h(k,S,g(w,S));k.prototype=I,I.constructor=k,s(i,v,k)}}}]);","extractedComments":[]}