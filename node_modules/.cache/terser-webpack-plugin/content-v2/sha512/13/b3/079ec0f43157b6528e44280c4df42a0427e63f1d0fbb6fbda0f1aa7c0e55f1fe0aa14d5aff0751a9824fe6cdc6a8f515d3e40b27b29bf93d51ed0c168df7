{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-d6ba738e\"],{\"129f\":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},\"18a5\":function(e,t,a){\"use strict\";var r=a(\"23e7\"),n=a(\"857a\"),i=a(\"af03\");r({target:\"String\",proto:!0,forced:i(\"anchor\")},{anchor:function(e){return n(this,\"a\",\"name\",e)}})},\"206f\":function(e,t,a){\"use strict\";a(\"f678\")},\"248a\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"table-classic-wrapper\"},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:e.search,\"label-width\":\"90px\"}},[[a(\"el-form-item\",{attrs:{label:\"区域\",prop:\"areaId\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.search.areaId,callback:function(t){e.$set(e.search,\"areaId\",t)},expression:\"search.areaId\"}},e._l(e.areaData,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"主播Id\",prop:\"reportedId\"}},[a(\"el-input\",{attrs:{type:\"number\",placeholder:\"主播Id\"},model:{value:e.search.reportedId,callback:function(t){e.$set(e.search,\"reportedId\",t)},expression:\"search.reportedId\"}})],1),a(\"el-form-item\",{attrs:{label:\"封禁时间\",prop:\"reportedTime\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.search.reportedTime,callback:function(t){e.$set(e.search,\"reportedTime\",t)},expression:\"search.reportedTime\"}},e._l(e.reportedTimes,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{staticStyle:{\"padding-left\":\"20px\"}},[a(\"el-button\",{staticStyle:{width:\"120px\"},attrs:{type:\"primary\",size:\"small\"},on:{click:e.onSearch}},[e._v(\"查  询\")])],1)]],2),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"},on:{\"selection-change\":e.handleSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"60\"}}),a(\"el-table-column\",{attrs:{prop:\"areaStr\",label:\"区域\",align:\"center\",width:\"120\"}}),a(\"el-table-column\",{attrs:{prop:\"app\",label:\"App\",align:\"center\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"div\",{attrs:{slot:\"reference\"},slot:\"reference\"},[e._v(\"\\n                        \"+e._s(t.row.app.label)+\"\\n                        \"),1===t.row.app.os?a(\"span\",[a(\"i\",{staticClass:\"icon-android-fill\"})]):2===t.row.app.os?a(\"span\",[a(\"i\",{staticClass:\"icon-pingguo\"})]):e._e()])]}}])}),a(\"el-table-column\",{attrs:{prop:\"reportedId\",label:\"主播Id\",align:\"center\",width:\"120\"}}),a(\"el-table-column\",{attrs:{prop:\"dealStatusStr\",label:\"处理操作\",align:\"center\",width:\"150\"}}),a(\"el-table-column\",{attrs:{prop:\"dealMessage\",label:\"封禁信息\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"blockDuration\",label:\"封禁时常\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"dealAt\",label:\"封禁时间\",align:\"center\"}}),a(\"el-table-column\",{attrs:{prop:\"revoked\",label:\"是否撤销\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"div\",{attrs:{slot:\"reference\"},slot:\"reference\"},[a(\"el-switch\",{attrs:{disabled:\"\"},model:{value:t.row.revoked,callback:function(a){e.$set(t.row,\"revoked\",a)},expression:\"scope.row.revoked\"}})],1)]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\",width:\"150\",fixed:\"right\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[t.row.revoked?a(\"span\",{staticStyle:{\"padding-right\":\"10px\",\"padding-left\":\"10px\"}},[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return e.toDialog(\"block\",t.row)}}},[e._v(\"封禁\")])],1):a(\"span\",[a(\"el-button\",{staticStyle:{\"padding-right\":\"10px\",\"padding-left\":\"10px\"},attrs:{type:\"text\"},on:{click:function(a){return e.unblock(t.row.reportedId)}}},[e._v(\"解封\")])],1)]}}])})],1),a(\"Pagination\",{attrs:{total:e.total,page:e.search.page.currentPage,limit:e.search.page.pageSize},on:{\"update:page\":function(t){return e.$set(e.search.page,\"currentPage\",t)},\"update:limit\":function(t){return e.$set(e.search.page,\"pageSize\",t)},pagination:e.fetchData,changePageSize:function(t){return e.changePageSize(t)}}})],1),a(\"block\",{ref:\"block\",on:{fetchData:e.fetchData}})],1)},n=[],i=(a(\"ac1f\"),a(\"841c\"),a(\"159b\"),a(\"18a5\"),a(\"333d\")),o=a(\"7139\"),l=a(\"e4e0\"),s=a(\"ca00\"),c=a(\"4ec3\"),u={name:\"Table\",components:{Pagination:i[\"a\"],block:l[\"a\"]},data:function(){return{listLoading:!0,search:{areaId:void 0,reportedId:void 0,reportedTime:3,createdStart:void 0,createdEnd:void 0,page:{currentPage:1,pageSize:10}},total:0,authAreaId:Object(o[\"n\"])(),isCollapse:!0,areaData:Object(o[\"f\"])(!0),reportedTypes:Object(o[\"D\"])(),reportedTimes:Object(o[\"C\"])(),violationScenes:Object(o[\"J\"])(!0)}},created:function(){this.search.areaId=0===this.authAreaId?this.areaData[1].value:this.authAreaId,this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$service.audit.getViolationList(this.handleReportedTime(),(function(t){var a=t.getRecordsList(),r=[];a.forEach((function(t,a){var n={id:t.getId(),appId:t.getAppId(),app:Object(o[\"e\"])(Object(o[\"d\"])(e.search.areaId,!1),t.getAppId()),areaId:t.getAreaId(),areaStr:Object(o[\"g\"])(e.areaData,t.getAreaId()),reportedId:t.getReportedId(),reportMessage:t.getReportMessage(),dealStatus:t.getDealStatus(),dealStatusStr:Object(o[\"h\"])(!1,t.getDealStatus()),isHidden:!Object(c[\"a\"])(t.getDealStatus()),dealMessage:t.getDealMessage(),dealAt:Object(s[\"i\"])(t.getDealAt()),blockDuration:Object(o[\"i\"])(t.getBlockDuration()),revoked:t.getRevoked(),createdAt:Object(s[\"i\"])(t.getCreatedAt())};r.push(n)})),e.total=t.getTotalCount(),e.tableData=r,e.listLoading=!1}))},onSearch:function(){this.search.page.currentPage=1,this.fetchData()},toDialog:function(e,t){var a=this,r={id:t.reportedId};this.$refs[e].dialogVisible=!0,this.$nextTick((function(){a.$refs[e].init(r)}))},handleSelectionChange:function(e){this.multipleSelection=e},changePageSize:function(e){this.search.page.pageSize=e.limit},unblock:function(e){var t={entityId:e,entityType:2},a=this;this.$service.anchor.unblock(t,(function(e){e?(a.$message.success(\"解封成功!\"),a.fetchData()):a.$message.error(\"解封失败!\")}))},resetForm:function(){this.$refs[\"searchForm\"].resetFields()},handleReportedTime:function(){var e=this.search,t=e.reportedTime,a=void 0,r=void 0,n=86400,i=new Date((new Date).toLocaleDateString()).getTime()/1e3;return 1===t?(a=i,r=i+n-1):2===t?(a=i-3*n,r=i+n-1):3===t&&(a=i-7*n,r=i+n-1),e.createdStart=a,e.createdEnd=r,e}}},d=u,p=(a(\"2668\"),a(\"2877\")),f=Object(p[\"a\"])(d,r,n,!1,null,null,null);t[\"default\"]=f.exports},2668:function(e,t,a){\"use strict\";a(\"788e\")},\"333d\":function(e,t,a){\"use strict\";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"pagination-wrapper\"},[a(\"el-pagination\",{attrs:{background:e.background,\"current-page\":e.currentPage,\"page-sizes\":e.pageSizes,\"page-size\":e.pageSize,total:e.total,layout:e.layout},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)},n=[],i=(a(\"a9e3\"),{name:\"Pagination\",props:{page:{type:Number,default:1,required:!0},limit:{type:Number,default:10,required:!0},background:{type:Boolean,default:!0},pageSizes:{type:Array,default:function(){return[5,10,15,20,50,1e3]}},total:{type:Number,default:0,required:!0},layout:{type:String,default:\"total, prev, pager, next, sizes, jumper\"}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"changePageSize\",{page:this.currentPage,limit:e}),this.$emit(\"pagination\",{page:this.currentPage,limit:e})},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize})}}}),o=i,l=(a(\"206f\"),a(\"2877\")),s=Object(l[\"a\"])(o,r,n,!1,null,null,null);t[\"a\"]=s.exports},\"788e\":function(e,t,a){},\"841c\":function(e,t,a){\"use strict\";var r=a(\"d784\"),n=a(\"825a\"),i=a(\"1d80\"),o=a(\"129f\"),l=a(\"577e\"),s=a(\"14c3\");r(\"search\",(function(e,t,a){return[function(t){var a=i(this),r=void 0==t?void 0:t[e];return void 0!==r?r.call(t,a):new RegExp(t)[e](l(a))},function(e){var r=n(this),i=l(e),c=a(t,r,i);if(c.done)return c.value;var u=r.lastIndex;o(u,0)||(r.lastIndex=0);var d=s(r,i);return o(r.lastIndex,u)||(r.lastIndex=u),null===d?-1:d.index}]}))},\"95a1\":function(e,t,a){\"use strict\";a(\"d55a\")},a9e3:function(e,t,a){\"use strict\";var r=a(\"83ab\"),n=a(\"da84\"),i=a(\"94ca\"),o=a(\"6eeb\"),l=a(\"5135\"),s=a(\"c6b6\"),c=a(\"7156\"),u=a(\"d9b5\"),d=a(\"c04e\"),p=a(\"d039\"),f=a(\"7c73\"),g=a(\"241c\").f,h=a(\"06cf\").f,m=a(\"9bf2\").f,b=a(\"58a8\").trim,v=\"Number\",S=n[v],y=S.prototype,I=s(f(y))==v,k=function(e){if(u(e))throw TypeError(\"Cannot convert a Symbol value to a number\");var t,a,r,n,i,o,l,s,c=d(e,\"number\");if(\"string\"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,n=49;break;case 79:case 111:r=8,n=55;break;default:return+c}for(i=c.slice(2),o=i.length,l=0;l<o;l++)if(s=i.charCodeAt(l),s<48||s>n)return NaN;return parseInt(i,r)}return+c};if(i(v,!S(\" 0o1\")||!S(\"0b1\")||S(\"+0x1\"))){for(var w,D=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof D&&(I?p((function(){y.valueOf.call(a)})):s(a)!=v)?c(new S(k(t)),a,D):k(t)},x=r?g(S):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range\".split(\",\"),$=0;x.length>$;$++)l(S,w=x[$])&&!l(D,w)&&m(D,w,h(S,w));D.prototype=y,y.constructor=D,o(n,v,D)}},ca00:function(e,t,a){\"use strict\";a.d(t,\"h\",(function(){return r})),a.d(t,\"g\",(function(){return n})),a.d(t,\"i\",(function(){return i})),a.d(t,\"d\",(function(){return o})),a.d(t,\"c\",(function(){return l})),a.d(t,\"e\",(function(){return s})),a.d(t,\"a\",(function(){return c})),a.d(t,\"f\",(function(){return u})),a.d(t,\"b\",(function(){return d}));a(\"b0c0\");function r(e){return e/100}function n(e){return 0===e?\"\":new Date(1e3*e).format(\"yyyy-MM-dd\")}function i(e){return 0===e?\"\":new Date(1e3*e).format(\"yyyy-MM-dd hh:mm:ss\")}function o(e){return\"undefined\"==typeof e&&(e=new Date),e.format(\"yyyy-MM-dd\")}function l(e){var t=new Date((new Date).toLocaleDateString());return e?new Date(t.setDate(t.getDate()+e)):t}function s(){return new Date((new Date).toLocaleDateString())}function c(){return new Date(1e3*d(new Date))}function u(e){return new Date(e.toLocaleDateString()).getTime()/1e3}function d(e){return u(e)+86400-1}},d55a:function(e,t,a){},e4e0:function(e,t,a){\"use strict\";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{title:\"封禁主播\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"div\",{staticClass:\"form-list-wrapper\"},[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[a(\"el-form-item\",{attrs:{label:\"主播Id：\",prop:\"entityId\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\",disabled:!0},model:{value:e.form.entityId,callback:function(t){e.$set(e.form,\"entityId\",t)},expression:\"form.entityId\"}})],1),a(\"el-form-item\",{attrs:{label:\"封禁类型\",prop:\"blockStatus\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},on:{change:e.changeBlockStatus},model:{value:e.form.blockStatus,callback:function(t){e.$set(e.form,\"blockStatus\",t)},expression:\"form.blockStatus\"}},e._l(e.blockStatusList,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"封禁时常\",prop:\"duration\",hidden:e.isHidden}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.duration,callback:function(t){e.$set(e.form,\"duration\",t)},expression:\"form.duration\"}},e._l(e.blockTimeList,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"封禁理由\",prop:\"reason\"}},[a(\"el-input\",{attrs:{type:\"textarea\",autosize:{minRows:3,maxRows:5},placeholder:\"请输入内容\",maxlength:\"50\",\"show-word-limit\":\"\"},model:{value:e.form.reason,callback:function(t){e.$set(e.form,\"reason\",t)},expression:\"form.reason\"}})],1),a(\"el-form-item\",{staticClass:\"submit-box\"},[a(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"提   交\")]),a(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重   置\")])],1)],1)],1)])},n=[],i=(a(\"18a5\"),a(\"7139\")),o={components:{},data:function(){return{form:{entityId:\"\",entityType:2,blockStatus:1,duration:300,reason:\"\",struct:\"\"},dialogVisible:!1,isHidden:!1,blockStatusList:Object(i[\"h\"])(!1),blockTimeList:Object(i[\"i\"])(),rules:{entityId:[{required:!0,message:\"内容不能为空\",trigger:\"change\"}],blockStatus:[{required:!0,message:\"请选择封禁类型\",trigger:\"blur\"}],duration:[{required:!0,message:\"请选择\",trigger:\"blur\"}]}}},methods:{init:function(e){this.form.entityId=e.id,this.form.struct=e.struct,this.changeBlockStatus(e.struct)},submitForm:function(){var e=this,t=this;this.$refs.ruleForm.validate((function(a){a&&e.$service.anchor.block(e.form,(function(e){e?(t.$message.success(\"封禁成功!\"),t.closeDialog()):t.$message.error(\"封禁失败!\")}))}))},changeBlockStatus:function(e){this.isHidden=2===e},resetForm:function(){this.$refs.ruleForm.resetFields()},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")}}},l=o,s=(a(\"95a1\"),a(\"2877\")),c=Object(s[\"a\"])(l,r,n,!1,null,null,null);t[\"a\"]=c.exports},f678:function(e,t,a){}}]);","extractedComments":[]}