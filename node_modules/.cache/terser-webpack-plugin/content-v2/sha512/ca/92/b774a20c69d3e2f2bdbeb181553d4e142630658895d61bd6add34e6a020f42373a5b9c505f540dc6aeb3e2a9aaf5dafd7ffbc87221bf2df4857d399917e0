{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-729ff964\"],{6793:function(t,a,e){\"use strict\";e(\"b69b\")},\"6f2c\":function(t,a,e){\"use strict\";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-bar\"})},i=[],n=(e(\"b0c0\"),e(\"d81d\"),e(\"313e\")),r=e.n(n),o={name:\"ChartsBar\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=this.data.title,a=this.data.name,e=this.data.legend,s=this.data.data.map((function(t){return t.title})),i=this.data.data.map((function(t){return t.val1})),n=this.data.data.map((function(t){return t.val2})),o=this.data.data.map((function(t){return t.val3})),l={title:{text:t,subtext:a,top:5},tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:s,axisTick:{alignWithLabel:!0}}],yAxis:[{type:\"value\"},{type:\"value\",show:!1,axisLabel:{formatter:\"{value} %\"},max:function(t){return 100*Math.ceil(t.max/100)+200}}],color:[\"#2d8cf0\"],series:[{name:e[0],type:\"bar\",stack:\"total\",color:\"#2d8cf0\",barWidth:\"40%\",label:{show:!0},emphasis:{focus:\"series\"},data:i},{name:e[1],type:\"bar\",stack:\"total\",color:\"#19be6b\",label:{show:!0},emphasis:{focus:\"series\"},data:n},{name:e[2],type:\"bar\",stack:\"total\",color:\"#ff9900\",label:{show:!0},emphasis:{focus:\"series\"},data:o}]};this.dom=r.a.init(this.$refs.dom),this.dom.setOption(l,!0),window.addEventListener(\"resize\",this.resize)}}},l=o,d=e(\"2877\"),h=Object(d[\"a\"])(l,s,i,!1,null,null,null);a[\"a\"]=h.exports},b69b:function(t,a,e){},cc56:function(t,a,e){\"use strict\";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-bar\"})},i=[],n=(e(\"b0c0\"),e(\"d81d\"),e(\"313e\")),r=e.n(n),o={name:\"ChartsBar\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){console.log(\"组件......\");var t=this.data.title,a=this.data.name,e=this.data.legend,s=this.data.data.map((function(t){return t.title})),i=this.data.data.map((function(t){return t.val1})),n=this.data.data.map((function(t){return t.val2})),o=this.data.data.map((function(t){return t.val3})),l=this.data.data.map((function(t){return t.val4})),d={title:{text:t,subtext:a,top:5},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",crossStyle:{color:\"#999\"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:s,axisPointer:{type:\"shadow\"}}],yAxis:[{type:\"value\"},{type:\"value\",show:!1,axisLabel:{formatter:\"{value} %\"},max:function(t){return 100*Math.ceil(t.max/100)+200}}],series:[{name:e[0],type:\"bar\",stack:\"total\",color:\"#2d8cf0\",barWidth:\"40%\",label:{show:!0},emphasis:{focus:\"series\"},data:i},{name:e[1],type:\"bar\",stack:\"total\",color:\"#19be6b\",label:{show:!0},emphasis:{focus:\"series\"},data:n},{name:e[2],type:\"line\",color:\"#19be6b\",yAxisIndex:1,data:o},{name:e[3],type:\"line\",color:\"#ff9900\",yAxisIndex:1,data:l}]};this.dom=r.a.init(this.$refs.dom),this.dom.setOption(d),window.addEventListener(\"resize\",this.resize)}}},l=o,d=e(\"2877\"),h=Object(d[\"a\"])(l,s,i,!1,null,null,null);a[\"a\"]=h.exports},d37e:function(t,a,e){\"use strict\";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{staticClass:\"home-wrapper\"},[e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:20}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:t.search,\"label-width\":\"90px\"}},[e(\"el-form-item\",{attrs:{label:\"区域\"}},[e(\"el-select\",{attrs:{disabled:0!==t.authAreaId,placeholder:\"请选择\"},model:{value:t.search.areaId,callback:function(a){t.$set(t.search,\"areaId\",a)},expression:\"search.areaId\"}},t._l(t.areaList,(function(t){return e(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-refresh\"},on:{click:t.onSearch}},[t._v(\"刷 新\")])],1)],1)],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsCountLine\",{key:t.userKey,staticClass:\"data-chart\",attrs:{data:t.userData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsCountLine\",{key:t.callingKey,staticClass:\"data-chart\",attrs:{data:t.callingData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsCountLine\",{key:t.callKey,staticClass:\"data-chart\",attrs:{data:t.callData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsCountLine\",{key:t.expenseKey,staticClass:\"data-chart\",attrs:{data:t.expenseData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsCountLine\",{key:t.depositKey,staticClass:\"data-chart\",attrs:{data:t.depositData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsCountLine\",{key:t.payKey,staticClass:\"data-chart\",attrs:{data:t.payData}})],1)],1)],1)],1)},i=[],n=(e(\"ac1f\"),e(\"841c\"),e(\"159b\"),e(\"d3b7\"),e(\"ddb0\"),e(\"ec1b\")),r=e.n(n),o=e(\"cc56\"),l=e(\"6f2c\"),d=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-line\"})},h=[],c=e(\"313e\"),u=e.n(c),p={name:\"ChartsLine\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{init:function(t){this.data=t,this.drawing()},resize:function(){this.dom.resize()},drawing:function(){var t=this,a=this.data.title,e=this.data.legend,s=this.data.keys,i=[];e.forEach((function(a,e){var s={name:a,type:\"line\",data:t.data.values[e]};i.push(s)}));var n={title:{text:a,top:15},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",crossStyle:{color:\"#999\"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:s,axisLabel:{interval:10}}],yAxis:[{type:\"value\"}],series:i};this.dom=u.a.init(this.$refs.dom),this.dom.setOption(n),window.addEventListener(\"resize\",this.resize)}}},f=p,y=e(\"2877\"),m=Object(y[\"a\"])(f,d,h,!1,null,null,null),g=m.exports,b=e(\"7139\"),w={name:\"Home\",components:{CountTo:r.a,ChartsBar:l[\"a\"],ChartsBarLine:o[\"a\"],ChartsCountLine:g},data:function(){return{userKey:20,callingKey:40,callKey:60,expenseKey:80,depositKey:100,payKey:120,search:{areaId:void 0},authAreaId:Object(b[\"n\"])(),areaList:Object(b[\"f\"])(!1),userData:{title:\"实时用户\",legend:[\"在线用户\",\"新用户\",\"付费用户\",\"空闲主播\",\"通话主播\"],keys:[],values:[]},callingData:{title:\"实时通话\",legend:[\"AIB发起\",\"用户发起\",\"主播发起\"],keys:[],values:[]},callData:{title:\"实时呼叫\",legend:[\"整体呼叫\",\"AIB呼叫\",\"用户呼叫\",\"主播呼叫\"],keys:[],values:[]},expenseData:{title:\"实时消耗\",legend:[\"全部用户\"],keys:[],values:[]},depositData:{title:\"实时充值\",legend:[\"全部用户\"],keys:[],values:[]},payData:{title:\"渠道占比\",legend:[\"Google\",\"Apple\",\"三方渠道\"],keys:[],values:[]}}},created:function(){this.search.areaId=0===this.authAreaId?this.areaList[0].value:this.authAreaId,this.initData()},methods:{onSearch:function(){this.initData()},initData:function(){var t=this,a=this.search;a.startAt=this.startUnix(new Date),a.endAt=this.endUnix(new Date),this.$service.home.getAreaStat(this.search,(function(a){var e=a.getStatsList();t.handleUserData(e),t.handleCallingData(e),t.handleCallData(e),t.handleExpenseData(e),t.handleDepositData(e),t.handlePayData(e)}))},handleUserData:function(t){var a=[],e=[],s=[],i=[],n=[],r=[],o=[];t.length;t.forEach((function(t,e){var l=t.getStartAt();a.push(new Date(1e3*l).format(\"hh:mm\")),s.push(t.getOnlineUser()),i.push(t.getNewUser()),n.push(t.getPayUser()),r.push(t.getIdleAnchor()),o.push(t.getBusyAnchor())})),e.push(s),e.push(i),e.push(n),e.push(r),e.push(o),this.userData.keys=a,this.userData.values=e,++this.userKey},handleCallingData:function(t){var a=[],e=[],s=[],i=[],n=[];t.forEach((function(t,e){var r=t.getStartAt();a.push(new Date(1e3*r).format(\"hh:mm\")),s.push(t.getAiCalling()),i.push(t.getUserCalling()),n.push(t.getAnchorCalling())})),e.push(s),e.push(i),e.push(n),this.callingData.keys=a,this.callingData.values=e,++this.callingKey},handleCallData:function(t){var a=[],e=[],s=[],i=[],n=[];t.forEach((function(t,e){var r=t.getStartAt();a.push(new Date(1e3*r).format(\"hh:mm\")),s.push(t.getAiCall()),i.push(t.getUserCall()),n.push(t.getAnchorCall())})),e.push(s),e.push(i),e.push(n),this.callData.keys=a,this.callData.values=e,++this.callKey},handleExpenseData:function(t){var a=[],e=[],s=[];t.forEach((function(t,e){var i=t.getStartAt();a.push(new Date(1e3*i).format(\"hh:mm\")),s.push(t.getExpense())})),e.push(s),this.expenseData.values=e,this.expenseData.keys=a,++this.expenseKey},handleDepositData:function(t){var a=[],e=[],s=[];t.forEach((function(t,e){var i=t.getStartAt();a.push(new Date(1e3*i).format(\"hh:mm\")),s.push(t.getDeposit())})),e.push(s),this.depositData.values=e,this.depositData.keys=a,++this.depositKey},handlePayData:function(t){var a=[],e=[],s=[],i=[],n=[];t.forEach((function(t,e){var r=t.getStartAt();a.push(new Date(1e3*r).format(\"hh:mm\")),s.push(t.getGooglePay()),i.push(t.getApplePay()),n.push(t.getOtherPay())})),e.push(s),e.push(i),e.push(n),this.payData.values=e,this.payData.keys=a,++this.payKey},startUnix:function(t){return new Date(t.toLocaleDateString()).getTime()/1e3},endUnix:function(t){return this.startUnix(t)+86400-1}}},v=w,x=(e(\"6793\"),Object(y[\"a\"])(v,s,i,!1,null,null,null));a[\"default\"]=x.exports}}]);","extractedComments":[]}