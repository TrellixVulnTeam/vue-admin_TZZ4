{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-3e4dfde5\"],{\"3dc1\":function(t,a,e){},4175:function(t,a,e){\"use strict\";e(\"3dc1\")},\"6f2c\":function(t,a,e){\"use strict\";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-bar\"})},s=[],i=(e(\"b0c0\"),e(\"d81d\"),e(\"313e\")),o=e.n(i),r={name:\"ChartsBar\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=this.data.title,a=this.data.name,e=this.data.legend,n=this.data.data.map((function(t){return t.title})),s=this.data.data.map((function(t){return t.val1})),i=this.data.data.map((function(t){return t.val2})),r=this.data.data.map((function(t){return t.val3})),l={title:{text:t,subtext:a,top:5},tooltip:{trigger:\"axis\",axisPointer:{type:\"shadow\"}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:n,axisTick:{alignWithLabel:!0}}],yAxis:[{type:\"value\"},{type:\"value\",show:!1,axisLabel:{formatter:\"{value} %\"},max:function(t){return 100*Math.ceil(t.max/100)+200}}],color:[\"#2d8cf0\"],series:[{name:e[0],type:\"bar\",stack:\"total\",color:\"#2d8cf0\",barWidth:\"40%\",label:{show:!0},emphasis:{focus:\"series\"},data:s},{name:e[1],type:\"bar\",stack:\"total\",color:\"#19be6b\",label:{show:!0},emphasis:{focus:\"series\"},data:i},{name:e[2],type:\"bar\",stack:\"total\",color:\"#ff9900\",label:{show:!0},emphasis:{focus:\"series\"},data:r}]};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(l,!0),window.addEventListener(\"resize\",this.resize)}}},l=r,c=e(\"2877\"),d=Object(c[\"a\"])(l,n,s,!1,null,null,null);a[\"a\"]=d.exports},b3d7:function(t,a,e){\"use strict\";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:t.listLoading,expression:\"listLoading\"}],staticClass:\"home-wrapper\"},[e(\"div\",{staticClass:\"date-row\"},t._l(t.cardInfoData,(function(a,n){return e(\"div\",{key:n,staticClass:\"data-col\"},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"0px\"}}},[e(\"div\",{staticClass:\"date-block\"},[e(\"div\",{staticClass:\"date-cont\"},[3===a.num?e(\"div\",{staticStyle:{display:\"inline\"}},[e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+\"\\n                            /\"),e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count2,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+\"\\n                            /\"),e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count3,duration:1e3,decimals:a.decimals}}),t._v(t._s(a.unit)+\"\\n                        \")],1):2===a.num?e(\"div\",{staticStyle:{display:\"inline\"}},[e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count,duration:1e3,decimals:a.decimals}}),t._v(\"\\n                            /\"),e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count2,duration:1e3}})],1):1===a.num?e(\"div\",{staticStyle:{display:\"inline\"}},[e(\"CountTo\",{staticClass:\"count-min\",attrs:{\"start-val\":0,\"end-val\":a.count,duration:1e3}})],1):t._e(),e(\"p\",{staticClass:\"title\"},[t._v(t._s(a.title))])])])])],1)})),0),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:20}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:t.search,\"label-width\":\"90px\"}},[[e(\"el-form-item\",{attrs:{label:\"区域\"}},[e(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:t.search.areaId,callback:function(a){t.$set(t.search,\"areaId\",a)},expression:\"search.areaId\"}},t._l(t.areaList,(function(t){return e(\"el-option\",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e(\"el-form-item\",{attrs:{label:\"时间\"}},[e(\"el-date-picker\",{attrs:{type:\"date\",placeholder:\"选择日期\"},model:{value:t.search.date,callback:function(a){t.$set(t.search,\"date\",a)},expression:\"search.date\"}})],1),e(\"el-form-item\",[e(\"el-button\",{attrs:{type:\"danger\",icon:\"el-icon-refresh\"},on:{click:t.onSearch}},[t._v(\"刷 新\")])],1)]],2)],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBarLine\",{key:t.incomeKey,staticClass:\"data-chart\",attrs:{data:t.incomeData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBarLine\",{key:t.subscriptionKey,staticClass:\"data-chart\",attrs:{data:t.subscriptionData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBarLine\",{key:t.totalKey,staticClass:\"data-chart\",attrs:{data:t.totalDate}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBar\",{key:t.newUserKey,staticClass:\"data-chart\",attrs:{title:\"新增用户\",data:t.userDate}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsLine\",{key:t.activeKey,staticClass:\"data-chart\",attrs:{data:t.activeData}})],1)],1)],1),e(\"el-row\",{staticClass:\"date-box\",attrs:{gutter:30}},[e(\"el-col\",{attrs:{span:24}},[e(\"el-card\",{attrs:{shadow:\"always\",\"body-style\":{padding:\"10px\",paddingTop:\"20px\"}}},[e(\"ChartsBar\",{key:t.channelKey,staticClass:\"data-chart\",attrs:{title:\"充值渠道\",data:t.channelData}})],1)],1)],1)],1)},s=[],i=(e(\"ac1f\"),e(\"841c\"),e(\"159b\"),e(\"b0c0\"),e(\"4e82\"),e(\"d3b7\"),e(\"ddb0\"),e(\"b680\"),e(\"ec1b\")),o=e.n(i),r=e(\"cc56\"),l=e(\"6f2c\"),c=e(\"d909\"),d=e(\"7139\"),u=e(\"ca00\"),h={name:\"Home\",components:{CountTo:o.a,ChartsBar:l[\"a\"],ChartsBarLine:r[\"a\"],ChartsLine:c[\"a\"]},data:function(){return{listLoading:!1,search:{areaId:void 0,date:Object(u[\"c\"])(),startAt:void 0,endAt:void 0},authAreaId:Object(d[\"n\"])(),areaList:Object(d[\"f\"])(!1),appList:Object(d[\"c\"])(),cardInfoData:[],newUserKey:1,incomeKey:20,totalKey:40,activeKey:60,channelKey:80,subscriptionKey:100,incomeData:{title:\"新增收入\",name:\"\",legend:[\"新增收入\"],data:[]},subscriptionData:{title:\"订阅收入\",name:\"\",legend:[\"订阅收入\"],data:[]},totalDate:{title:\"全部收入\",name:\"\",legend:[\"总收入\"],data:[]},userDate:{title:\"新增用户\",name:\"\",legend:[\"新增用户\"],data:[]},activeData:{title:\"活跃用户\",legend:[\"活跃用户\"],keys:[],values:[]},channelData:{title:\"充值渠道\",legend:[\"google\",\"apple\",\"其他\"],data:[]}}},created:function(){this.search.areaId=0===this.authAreaId?this.areaList[0].value:this.authAreaId,this.initCard(),this.initData()},methods:{onSearch:function(){this.listLoading=!0,this.initCard(),this.initData()},initCard:function(){var t=this;this.cardInfoData=[],this.$service.home.getOverview(this.handleSearch(),(function(a){var e=a.getIncome(),n=0;e>0&&(e=Object(u[\"h\"])(e),n=2);var s={title:\"大盘实时收入/订单数\",num:2,count:e,count2:a.getPayCount(),decimals:n},i={title:\"新增/活跃用户\",num:2,count:a.getNewUser(),count2:a.getActiveUser(),decimals:0},o={title:\"通话/在线主播\",num:2,count:a.getBusyAnchor(),count2:a.getOnlineAnchor(),decimals:0},r={title:\"待审核主播/资料/视频\",num:3,count:a.getReviewAnchor(),count2:a.getReviewProfile(),count3:a.getReviewVideo(),decimals:0},l=a.getNewAmount()/1e3,c=a.getExpenseAmount()/1e3,d=a.getTotalAmount()/1e3,h={title:\"新充值/消费/总余额\",num:3,count:l,count2:c,count3:d,decimals:0,unit:\"K\"};t.cardInfoData.push(s),t.cardInfoData.push(i),t.cardInfoData.push(o),t.cardInfoData.push(r),t.cardInfoData.push(h)}))},initData:function(){var t=this;this.$service.home.getHomeStat(this.handleSearch(),(function(a){var e=a.getStatsList(),n=[],s=[],i=[],o=[];e.forEach((function(a){var e=Object(d[\"e\"])(t.appList,a.getAppId()),r=1===e.os?\"🤖\":\"\",l=e.label+r;if(a.getNewIncome()>0&&n.push({title:l,val1:Object(u[\"h\"])(a.getNewIncome())}),a.getTotalIncome()>0&&s.push({title:l,val1:Object(u[\"h\"])(a.getTotalIncome())}),a.getNewUser()>0&&i.push({title:l,val1:a.getNewUser()}),a.getGoogleIncome()>0||a.getAppleIncome()>0||a.getOtherIncome()>0){var c=Object(u[\"h\"])(a.getGoogleIncome()),h=Object(u[\"h\"])(a.getAppleIncome()),p=Object(u[\"h\"])(a.getOtherIncome());o.push({title:l,val1:c,val2:h,val3:p,total:c+h+p})}})),t.userDate.name=\"总计:\"+t.countTotal(i,\"val1\"),t.userDate.data=i.sort((function(t,a){return a.val1-t.val1})),++t.newUserKey,t.incomeData.name=\"总计:\"+t.countTotal(n,\"val1\"),t.incomeData.data=n.sort((function(t,a){return a.val1-t.val1})),++t.incomeKey,t.totalDate.name=\"总计:\"+t.countTotal(s,\"val1\"),t.totalDate.data=s.sort((function(t,a){return a.val1-t.val1})),++t.totalKey,t.channelData.name=\"总计:\"+t.countTotal(o,\"total\")+\"  google:\"+t.countTotal(o,\"val1\")+\"  apple:\"+t.countTotal(o,\"val2\")+\"  其他:\"+t.countTotal(o,\"val3\"),t.channelData.data=o.sort((function(t,a){return a.total-t.total})),++t.channelKey;var r=a.getHourlyActivesList();t.handleActiveData(r),++t.activeKey,t.listLoading=!1}))},handleSearch:function(){var t=this.search.date;return this.search.startAt=Object(u[\"f\"])(t),this.search.endAt=Object(u[\"b\"])(t),this.search},handleActiveData:function(t){var a=[],e=[],n=[];t.forEach((function(t,e){a.push(e+\":00\"),n.push(t)})),e.push(n),this.activeData.keys=a,this.activeData.values=e,++this.activeKey},countTotal:function(t,a){var e=0;return e=t.reduce((function(t,e,n,s){return e[a]?t+e[a]:t}),0),e.toFixed(2)}}},p=h,m=(e(\"4175\"),e(\"2877\")),f=Object(m[\"a\"])(p,n,s,!1,null,null,null);a[\"default\"]=f.exports},ca00:function(t,a,e){\"use strict\";e.d(a,\"h\",(function(){return n})),e.d(a,\"g\",(function(){return s})),e.d(a,\"i\",(function(){return i})),e.d(a,\"d\",(function(){return o})),e.d(a,\"c\",(function(){return r})),e.d(a,\"e\",(function(){return l})),e.d(a,\"a\",(function(){return c})),e.d(a,\"f\",(function(){return d})),e.d(a,\"b\",(function(){return u}));e(\"b0c0\");function n(t){return t/100}function s(t){return 0===t?\"\":new Date(1e3*t).format(\"yyyy-MM-dd\")}function i(t){return 0===t?\"\":new Date(1e3*t).format(\"yyyy-MM-dd hh:mm:ss\")}function o(t){return\"undefined\"==typeof t&&(t=new Date),t.format(\"yyyy-MM-dd\")}function r(t){var a=new Date((new Date).toLocaleDateString());return t?new Date(a.setDate(a.getDate()+t)):a}function l(){return new Date((new Date).toLocaleDateString())}function c(){return new Date(1e3*u(new Date))}function d(t){return new Date(t.toLocaleDateString()).getTime()/1e3}function u(t){return d(t)+86400-1}},cc56:function(t,a,e){\"use strict\";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-bar\"})},s=[],i=(e(\"b0c0\"),e(\"d81d\"),e(\"313e\")),o=e.n(i),r={name:\"ChartsBar\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{resize:function(){this.dom.resize()},drawing:function(){var t=this.data.title,a=this.data.name,e=this.data.legend,n=this.data.data.map((function(t){return t.title})),s=this.data.data.map((function(t){return t.val1})),i=this.data.data.map((function(t){return t.val2})),r=this.data.data.map((function(t){return t.val3})),l=this.data.data.map((function(t){return t.val4})),c={title:{text:t,subtext:a,top:5},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",crossStyle:{color:\"#999\"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:n,axisPointer:{type:\"shadow\"}}],yAxis:[{type:\"value\"},{type:\"value\",show:!1,axisLabel:{formatter:\"{value} %\"},max:function(t){return 100*Math.ceil(t.max/100)+200}}],series:[{name:e[0],type:\"bar\",stack:\"total\",color:\"#2d8cf0\",barWidth:\"40%\",label:{show:!0},emphasis:{focus:\"series\"},data:s},{name:e[1],type:\"bar\",stack:\"total\",color:\"#19be6b\",label:{show:!0},emphasis:{focus:\"series\"},data:i},{name:e[2],type:\"line\",color:\"#19be6b\",yAxisIndex:1,data:r},{name:e[3],type:\"line\",color:\"#ff9900\",yAxisIndex:1,data:l}]};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(c),window.addEventListener(\"resize\",this.resize)}}},l=r,c=e(\"2877\"),d=Object(c[\"a\"])(l,n,s,!1,null,null,null);a[\"a\"]=d.exports},d909:function(t,a,e){\"use strict\";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e(\"div\",{ref:\"dom\",staticClass:\"charts-line\"})},s=[],i=(e(\"d3b7\"),e(\"ddb0\"),e(\"159b\"),e(\"313e\")),o=e.n(i),r={name:\"ChartsLine\",props:{data:{type:Object,default:function(){}}},data:function(){return{dom:null}},mounted:function(){this.drawing()},beforeDestroy:function(){window.removeEventListener(\"resize\",this.resize)},methods:{init:function(t){this.data=t,this.drawing()},resize:function(){this.dom.resize()},drawing:function(){var t=this,a=this.data.title,e=this.data.legend,n=this.data.keys,s=[];e.forEach((function(a,e){var n={name:a,type:\"line\",showSymbol:!1,data:t.data.values[e]};s.push(n)}));var i={title:{text:a,top:15},tooltip:{trigger:\"axis\",axisPointer:{type:\"cross\",crossStyle:{color:\"#999\"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:[\"line\",\"bar\"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{top:5,data:e},grid:{left:\"3%\",right:\"4%\",bottom:\"3%\",containLabel:!0},xAxis:[{type:\"category\",data:n,axisTick:{alignWithLabel:!0,type:\"shadow\"}}],yAxis:[{type:\"value\"}],series:s};this.dom=o.a.init(this.$refs.dom),this.dom.setOption(i),window.addEventListener(\"resize\",this.resize)}}},l=r,c=e(\"2877\"),d=Object(c[\"a\"])(l,n,s,!1,null,null,null);a[\"a\"]=d.exports}}]);","extractedComments":[]}