{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-4a0d9afe\"],{\"2d5b\":function(e,t,a){\"use strict\";a(\"5168\")},\"44b6\":function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"table-classic-wrapper\"},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"div\",{staticClass:\"control-btns\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.toDialog(\"addSysAccount\",\"\")}}},[e._v(\"+ 新增管理帐号\")])],1),a(\"el-form\",{ref:\"searchForm\",staticClass:\"search-form\",attrs:{inline:!0,model:e.listQuery,\"label-width\":\"90px\"}},[[a(\"el-row\",[a(\"el-col\",{attrs:{span:6}},[a(\"el-form-item\",{attrs:{label:\"地区\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.listQuery.area,callback:function(t){e.$set(e.listQuery,\"area\",t)},expression:\"listQuery.area\"}},e._l(e.areaData,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)]],2),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"}},[a(\"el-table-column\",{attrs:{prop:\"id\",label:\"编号\",align:\"center\",width:\"50\"}}),a(\"el-table-column\",{attrs:{prop:\"area_ids\",label:\"地区\",align:\"center\",width:\"150\"}}),a(\"el-table-column\",{attrs:{prop:\"email\",label:\"邮箱\",align:\"center\",width:\"300\"}}),a(\"el-table-column\",{attrs:{prop:\"name\",label:\"真实姓名\",align:\"center\",width:\"200\"}}),a(\"el-table-column\",{attrs:{prop:\"photo\",label:\"权限\",align:\"center\",width:\"250\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"a\",{staticStyle:{color:\"#1E88C7\"},on:{click:function(a){return e.toDialog(\"editRobot\",t.row)}}},[e._v(\"查看\")])]}}])}),a(\"el-table-column\",{attrs:{prop:\"enable\",label:\"状态\",align:\"center\",width:\"200\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-switch\",{model:{value:t.row.enable,callback:function(a){e.$set(t.row,\"enable\",a)},expression:\"scope.row.enable\"}})]}}])}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return e.toDialog(\"addSysAccount\",t.row)}}},[e._v(\"编辑\")])]}}])})],1),a(\"Pagination\",{attrs:{total:e.total,page:e.listQuery.currentPage,limit:e.listQuery.pageSize},on:{\"update:page\":function(t){return e.$set(e.listQuery,\"currentPage\",t)},\"update:limit\":function(t){return e.$set(e.listQuery,\"pageSize\",t)},pagination:e.fetchData}}),a(\"addSysAccount\",{ref:\"addSysAccount\"})],1)],1)},i=[],l=(a(\"4160\"),a(\"159b\"),a(\"333d\")),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{title:\"新增管理帐号\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.handleClose},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"div\",{staticClass:\"form-list-wrapper\"},[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[a(\"el-form-item\",{attrs:{label:\"运营区域\",prop:\"area\",required:\"\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.area,callback:function(t){e.$set(e.form,\"area\",t)},expression:\"form.area\"}},e._l(e.areaData,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"账户名：\",prop:\"email\"}},[a(\"el-input\",{attrs:{maxlength:\"15\",\"show-word-limit\":\"\",placeholder:\"请输入\"},model:{value:e.form.email,callback:function(t){e.$set(e.form,\"email\",t)},expression:\"form.email\"}})],1),a(\"el-form-item\",{attrs:{label:\"密码：\",prop:\"password\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\",maxlength:\"16\",\"show-password\":\"\"},model:{value:e.form.password,callback:function(t){e.$set(e.form,\"password\",t)},expression:\"form.password\"}})],1),a(\"el-form-item\",{attrs:{label:\"真实姓名：\",prop:\"name\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\",\"show-word-limit\":\"\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"权限设置：\",prop:\"url\"}},[a(\"div\",{staticClass:\"content-box\",staticStyle:{height:\"360px\"}},[a(\"el-transfer\",{attrs:{data:e.data,titles:[\"权限\",\"已有权限\"]},model:{value:e.value1,callback:function(t){e.value1=t},expression:\"value1\"}})],1)]),a(\"el-form-item\",{attrs:{label:\"是否开启\",prop:\"isOpen\"}},[a(\"el-switch\",{model:{value:e.form.isOpen,callback:function(t){e.$set(e.form,\"isOpen\",t)},expression:\"form.isOpen\"}})],1),a(\"el-form-item\",{staticClass:\"submit-box\"},[a(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:function(t){return e.submitForm(\"ruleForm\")}}},[e._v(\"确   定\")]),a(\"el-button\",{on:{click:function(t){return e.resetForm(\"form\")}}},[e._v(\"重   置\")])],1)],1)],1)])},o=[],s=(a(\"b0c0\"),a(\"cf45\")),c={data:function(){var e=function(){for(var e=[],t=1;t<10;t++)e.push({key:t,label:\"备选项 \".concat(t)});return e};return{data:e(),form:{id:\"\",area:\"\",email:\"\",password:\"\",name:\"\",isOpen:\"\"},value1:[1,5],value2:[1,5],dialogVisible:!1,areaData:Object(s[\"a\"])(),rules:{area:[{required:!0,message:\"请选择\",trigger:\"change\"}],email:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}],password:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"},{min:6,max:16,message:\"密码长度在 6 到 16 个字符\",trigger:[\"blur\",\"change\"]},{pattern:/^[a-zA-Z0-9_-]{6,16}$/,message:\"密码只支持字母、数字和下划线\",trigger:[\"blur\",\"change\"]}],name:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}]}}},methods:{init:function(e){this.form.area=e.area_ids,this.form.email=e.email,this.form.password=e.password,this.form.name=e.name},submitForm:function(e){var t=this,a=this;this.$refs[e].validate((function(e){e&&t.$service.admin.saveAdmin(t.form,(function(e){e?(alert(\"保存成功!\"),a.close()):alert(\"保存失败!\")}))}))},handleChange:function(e,t,a){console.log(e,t,a)},resetForm:function(e){this.$refs[e].resetFields()},close:function(){this.dialogVisible=!1,this.$refs.dialogForm.resetFields()}}},u=c,d=(a(\"2d5b\"),a(\"2877\")),f=Object(d[\"a\"])(u,n,o,!1,null,null,null),m=f.exports,p={components:{Pagination:l[\"a\"],addSysAccount:m},data:function(){return{listLoading:!0,listQuery:this.initQuery(),total:0,isSubmit:!1,areaData:Object(s[\"a\"])()}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$service.admin.getAdminList(this.listQuery,(function(t){var a=t.getAdminsList(),r=[];a.forEach((function(e,t){var a={id:e.getId(),enable:e.getEnable(),email:e.getEmail(),password:e.getPassword(),name:e.getName(),note:e.getNote(),area_ids:e.getAreaIdsList(),app_ids:e.getAppIdsList(),modules:e.getModulesList(),login_at:e.getLoginAt(),login_ip:e.getLoginIp(),fail_count:e.getFailCount(),access_token:e.getAccessToken(),updated_at:e.getUpdatedAt(),created_at:e.getCreatedAt()};r.push(a)})),e.total=a.length,e.tableData=r,e.listLoading=!1}))},onSearch:function(){this.listQuery.currentPage=1,this.fetchData()},toDialog:function(e,t){var a=this;this.$refs[e].dialogVisible=!0,this.$nextTick((function(){a.$refs[e].init(t)}))},resetForm:function(){this.listQuery=this.initQuery()},initQuery:function(){return{uid:void 0,app:void 0,robotId:void 0,currentPage:1,pageSize:10}}}},g=p,b=(a(\"a5c5\"),Object(d[\"a\"])(g,r,i,!1,null,null,null));t[\"default\"]=b.exports},5168:function(e,t,a){},7156:function(e,t,a){var r=a(\"861d\"),i=a(\"d2bb\");e.exports=function(e,t,a){var l,n;return i&&\"function\"==typeof(l=t.constructor)&&l!==a&&r(n=l.prototype)&&n!==a.prototype&&i(e,n),e}},9734:function(e,t,a){},a5c5:function(e,t,a){\"use strict\";a(\"9734\")},a9e3:function(e,t,a){\"use strict\";var r=a(\"83ab\"),i=a(\"da84\"),l=a(\"94ca\"),n=a(\"6eeb\"),o=a(\"5135\"),s=a(\"c6b6\"),c=a(\"7156\"),u=a(\"c04e\"),d=a(\"d039\"),f=a(\"7c73\"),m=a(\"241c\").f,p=a(\"06cf\").f,g=a(\"9bf2\").f,b=a(\"58a8\").trim,h=\"Number\",v=i[h],w=v.prototype,y=s(f(w))==h,_=function(e){var t,a,r,i,l,n,o,s,c=u(e,!1);if(\"string\"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(l=c.slice(2),n=l.length,o=0;o<n;o++)if(s=l.charCodeAt(o),s<48||s>i)return NaN;return parseInt(l,r)}return+c};if(l(h,!v(\" 0o1\")||!v(\"0b1\")||v(\"+0x1\"))){for(var k,A=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof A&&(y?d((function(){w.valueOf.call(a)})):s(a)!=h)?c(new v(_(t)),a,A):_(t)},I=r?m(v):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger\".split(\",\"),x=0;I.length>x;x++)o(v,k=I[x])&&!o(A,k)&&g(A,k,p(v,k));A.prototype=w,w.constructor=A,n(i,h,A)}},cf45:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return n}));a(\"4160\"),a(\"159b\");var r=a(\"7af6\"),i=a(\"f3e4\"),l=a(\"d44d\");function n(){var e=new r[\"Empty\"],t={token:Object(i[\"a\"])()},a=[];return l[\"a\"].getAreaList(e,t,(function(e,t){if(e)console.log(e);else{var r=t.getAreasList();r.forEach((function(e,t){var r={value:e.getId(),label:e.getTitle()};a.push(r)}))}})),a}},d44d:function(e,t,a){\"use strict\";a.d(t,\"a\",(function(){return l}));var r=a(\"4a80\"),i=\"http://43.132.169.239:10000\",l=new r[\"CmsSdkClient\"](i,null,null)}}]);","extractedComments":[]}