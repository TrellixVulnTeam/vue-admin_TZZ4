{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-06374bf2\"],{\"08ee\":function(e,t,a){},\"129f\":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},\"13c9\":function(e,t,a){\"use strict\";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"table-classic-wrapper\"},[a(\"el-card\",{attrs:{shadow:\"always\"}},[a(\"div\",{staticClass:\"control-btns\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:function(t){return e.toDialog(\"edit\",\"\")}}},[e._v(\"+ 新增工会\")])],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],ref:\"multipleTable\",staticStyle:{width:\"100%\"},attrs:{data:e.tableData,\"tooltip-effect\":\"dark\",size:\"medium\"}},[a(\"el-table-column\",{attrs:{prop:\"id\",label:\"工会ID\",align:\"center\",width:\"70\"}}),a(\"el-table-column\",{attrs:{prop:\"name\",label:\"工会名称\",align:\"center\",width:\"150\"}}),a(\"el-table-column\",{attrs:{prop:\"areaStr\",label:\"区域\",align:\"center\",width:\"100\"}}),a(\"el-table-column\",{attrs:{prop:\"anchorCount\",label:\"主播数\",align:\"center\",width:\"120\"}}),a(\"el-table-column\",{attrs:{prop:\"enable\",label:\"状态\",align:\"center\",width:\"120\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"div\",{attrs:{slot:\"reference\"},slot:\"reference\"},[a(\"el-switch\",{attrs:{disabled:\"\"},model:{value:t.row.enable,callback:function(a){e.$set(t.row,\"enable\",a)},expression:\"scope.row.enable\"}})],1)]}}])}),a(\"el-table-column\",{attrs:{prop:\"createdAt\",label:\"创建时间\",align:\"center\",width:\"220\"}}),a(\"el-table-column\",{attrs:{prop:\"note\",label:\"备注\",align:\"center\"}}),a(\"el-table-column\",{attrs:{label:\"操作\",align:\"center\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return e.toDialog(\"edit\",t.row)}}},[e._v(\"编辑\")]),a(\"el-button\",{attrs:{type:\"text\"},on:{click:function(a){return e.toDialog(\"close\",t.row)}}},[e._v(\"关闭\")])]}}])})],1),a(\"Pagination\",{attrs:{total:e.total,page:e.search.page.currentPage,limit:e.search.page.pageSize},on:{\"update:page\":function(t){return e.$set(e.search.page,\"currentPage\",t)},\"update:limit\":function(t){return e.$set(e.search.page,\"pageSize\",t)},pagination:e.fetchData,changePageSize:function(t){return e.changePageSize(t)}}}),a(\"edit\",{ref:\"edit\",on:{fetchData:e.fetchData}}),a(\"close\",{ref:\"close\"})],1)],1)},r=[],i=(a(\"ac1f\"),a(\"841c\"),a(\"159b\"),a(\"333d\")),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{title:e.title,visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.closeDialog},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"div\",{staticClass:\"form-list-wrapper\"},[a(\"el-form\",{ref:\"ruleForm\",staticClass:\"form-list\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"150px\"}},[a(\"el-form-item\",{attrs:{label:\"工会名称：\",prop:\"name\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入\"},model:{value:e.form.name,callback:function(t){e.$set(e.form,\"name\",t)},expression:\"form.name\"}})],1),a(\"el-form-item\",{attrs:{label:\"工会区域\",prop:\"areaId\"}},[a(\"el-select\",{attrs:{disabled:0!==e.authAreaId,placeholder:\"请选择\"},model:{value:e.form.areaId,callback:function(t){e.$set(e.form,\"areaId\",t)},expression:\"form.areaId\"}},e._l(e.areaData,(function(e){return a(\"el-option\",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"工会状态：\",prop:\"enable\"}},[a(\"el-switch\",{model:{value:e.form.enable,callback:function(t){e.$set(e.form,\"enable\",t)},expression:\"form.enable\"}})],1),a(\"el-form-item\",{attrs:{label:\"备注\",prop:\"note\"}},[a(\"el-input\",{attrs:{type:\"textarea\",autosize:{minRows:3,maxRows:5},placeholder:\"请输入内容\",maxlength:\"50\",\"show-word-limit\":\"\"},model:{value:e.form.note,callback:function(t){e.$set(e.form,\"note\",t)},expression:\"form.note\"}})],1),a(\"el-form-item\",{staticClass:\"submit-box\"},[a(\"el-button\",{staticStyle:{\"margin-right\":\"50px\"},attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"提   交\")]),a(\"el-button\",{on:{click:e.resetForm}},[e._v(\"重   置\")])],1)],1)],1)])},o=[],u=a(\"da46\"),s=a(\"7139\"),c={name:\"Form\",components:{boolDict:u[\"d\"]},data:function(){return{form:{areaId:void 0,name:void 0,enable:!0,note:void 0},title:\"\",authAreaId:Object(s[\"n\"])(),dialogVisible:!1,boolDict:Object(s[\"j\"])(),areaData:Object(s[\"f\"])(!1),rules:{areaId:[{required:!0,message:\"请选择\",trigger:\"change\"}],name:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}],enable:[{required:!0,message:\"内容不能为空\",trigger:\"blur\"}]}}},methods:{init:function(e){this.title=\"新增工会\",\"\"!==e?(this.title=\"编辑工会\",this.form=e):this.form.areaId=0===this.authAreaId?this.areaData[0].value:this.authAreaId},submitForm:function(e){var t=this,a=this;this.$refs.ruleForm.validate((function(e){e&&t.$service.guild.saveGuild(t.form,(function(e){e?(a.$message.success(\"保存成功!\"),a.closeDialog()):a.$message.error(\"保存失败!\")}))}))},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit(\"fetchData\")},resetForm:function(){this.$refs.ruleForm.resetFields()}}},f=c,d=(a(\"2957\"),a(\"2877\")),g=Object(d[\"a\"])(f,l,o,!1,null,null,null),p=g.exports,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{title:\"关闭\",visible:e.dialogVisible,\"append-to-body\":\"\",width:\"50%\",\"before-close\":e.handleClose},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[a(\"div\",{staticClass:\"form-list-wrapper\"})])},m=[],h={name:\"Form\",components:{areaData:u[\"b\"],anchorLevel:u[\"a\"]},data:function(){return{form:{uid:\"\",area:\"\",level:\"\",unionId:\"\"},dialogVisible:!1}},methods:{init:function(e){this.form.uid=e.anchorId},submitForm:function(e){this.$refs[e].validate((function(e){if(!e)return console.log(\"提交失败!\"),!1;alert(\"提交成功!\")}))},resetForm:function(e){this.$refs[e].resetFields()}}},v=h,w=(a(\"eb3d\"),Object(d[\"a\"])(v,b,m,!1,null,null,null)),y=w.exports,D=a(\"ca00\"),I={components:{Pagination:i[\"a\"],edit:p,close:y},data:function(){return{listLoading:!0,search:{id:void 0,areaData:void 0,enable:!0,page:{currentPage:1,pageSize:1e3}},total:0,isSubmit:!1,areaData:Object(s[\"f\"])(!0),boolDict:Object(s[\"j\"])()}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$service.guild.getGuildList(this.search,(function(t){var a=t.getGuildsList(),n=[];a.forEach((function(t,a){var r={id:t.getId(),areaId:t.getAreaId(),areaStr:Object(s[\"g\"])(e.areaData,t.getAreaId()),name:t.getName(),inviteCode:t.getInviteCode(),anchorCount:t.getAnchorCount(),enable:t.getEnable(),note:t.getNote(),createdAt:Object(D[\"i\"])(t.getCreatedAt()),struct:t};n.push(r)})),e.total=n.length,e.tableData=n,e.listLoading=!1}))},onSearch:function(){this.search.page.currentPage=1,this.fetchData()},toDialog:function(e,t){var a=this;this.$refs[e].dialogVisible=!0,this.$nextTick((function(){a.$refs[e].init(t)}))},resetForm:function(){this.$refs.searchForm.resetFields()},changePageSize:function(e){this.search.page.pageSize=e.limit}}},S=I,x=(a(\"8d56\"),Object(d[\"a\"])(S,n,r,!1,null,null,null));t[\"default\"]=x.exports},\"206f\":function(e,t,a){\"use strict\";a(\"f678\")},2957:function(e,t,a){\"use strict\";a(\"bf4a\")},\"333d\":function(e,t,a){\"use strict\";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"pagination-wrapper\"},[a(\"el-pagination\",{attrs:{background:e.background,\"current-page\":e.currentPage,\"page-sizes\":e.pageSizes,\"page-size\":e.pageSize,total:e.total,layout:e.layout},on:{\"update:currentPage\":function(t){e.currentPage=t},\"update:current-page\":function(t){e.currentPage=t},\"update:pageSize\":function(t){e.pageSize=t},\"update:page-size\":function(t){e.pageSize=t},\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)},r=[],i=(a(\"a9e3\"),{name:\"Pagination\",props:{page:{type:Number,default:1,required:!0},limit:{type:Number,default:10,required:!0},background:{type:Boolean,default:!0},pageSizes:{type:Array,default:function(){return[5,10,15,20,50,1e3]}},total:{type:Number,default:0,required:!0},layout:{type:String,default:\"total, prev, pager, next, sizes, jumper\"}},computed:{currentPage:{get:function(){return this.page},set:function(e){this.$emit(\"update:page\",e)}},pageSize:{get:function(){return this.limit},set:function(e){this.emit(\"update:limit\",e)}}},methods:{handleSizeChange:function(e){this.$emit(\"changePageSize\",{page:this.currentPage,limit:e}),this.$emit(\"pagination\",{page:this.currentPage,limit:e})},handleCurrentChange:function(e){this.$emit(\"pagination\",{page:e,limit:this.pageSize})}}}),l=i,o=(a(\"206f\"),a(\"2877\")),u=Object(o[\"a\"])(l,n,r,!1,null,null,null);t[\"a\"]=u.exports},\"841c\":function(e,t,a){\"use strict\";var n=a(\"d784\"),r=a(\"825a\"),i=a(\"1d80\"),l=a(\"129f\"),o=a(\"577e\"),u=a(\"14c3\");n(\"search\",(function(e,t,a){return[function(t){var a=i(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](o(a))},function(e){var n=r(this),i=o(e),s=a(t,n,i);if(s.done)return s.value;var c=n.lastIndex;l(c,0)||(n.lastIndex=0);var f=u(n,i);return l(n.lastIndex,c)||(n.lastIndex=c),null===f?-1:f.index}]}))},\"8a4b\":function(e,t,a){},\"8d56\":function(e,t,a){\"use strict\";a(\"08ee\")},a9e3:function(e,t,a){\"use strict\";var n=a(\"83ab\"),r=a(\"da84\"),i=a(\"94ca\"),l=a(\"6eeb\"),o=a(\"5135\"),u=a(\"c6b6\"),s=a(\"7156\"),c=a(\"d9b5\"),f=a(\"c04e\"),d=a(\"d039\"),g=a(\"7c73\"),p=a(\"241c\").f,b=a(\"06cf\").f,m=a(\"9bf2\").f,h=a(\"58a8\").trim,v=\"Number\",w=r[v],y=w.prototype,D=u(g(y))==v,I=function(e){if(c(e))throw TypeError(\"Cannot convert a Symbol value to a number\");var t,a,n,r,i,l,o,u,s=f(e,\"number\");if(\"string\"==typeof s&&s.length>2)if(s=h(s),t=s.charCodeAt(0),43===t||45===t){if(a=s.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(s.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+s}for(i=s.slice(2),l=i.length,o=0;o<l;o++)if(u=i.charCodeAt(o),u<48||u>r)return NaN;return parseInt(i,n)}return+s};if(i(v,!w(\" 0o1\")||!w(\"0b1\")||w(\"+0x1\"))){for(var S,x=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof x&&(D?d((function(){y.valueOf.call(a)})):u(a)!=v)?s(new w(I(t)),a,x):I(t)},$=n?p(w):\"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range\".split(\",\"),z=0;$.length>z;z++)o(w,S=$[z])&&!o(x,S)&&m(x,S,b(w,S));x.prototype=y,y.constructor=x,l(r,v,x)}},bf4a:function(e,t,a){},ca00:function(e,t,a){\"use strict\";a.d(t,\"h\",(function(){return n})),a.d(t,\"g\",(function(){return r})),a.d(t,\"i\",(function(){return i})),a.d(t,\"d\",(function(){return l})),a.d(t,\"c\",(function(){return o})),a.d(t,\"e\",(function(){return u})),a.d(t,\"a\",(function(){return s})),a.d(t,\"f\",(function(){return c})),a.d(t,\"b\",(function(){return f}));a(\"b0c0\");function n(e){return e/100}function r(e){return 0===e?\"\":new Date(1e3*e).format(\"yyyy-MM-dd\")}function i(e){return 0===e?\"\":new Date(1e3*e).format(\"yyyy-MM-dd hh:mm:ss\")}function l(e){return\"undefined\"==typeof e&&(e=new Date),e.format(\"yyyy-MM-dd\")}function o(e){var t=new Date((new Date).toLocaleDateString());return e?new Date(t.setDate(t.getDate()+e)):t}function u(){return new Date((new Date).toLocaleDateString())}function s(){return new Date(1e3*f(new Date))}function c(e){return new Date(e.toLocaleDateString()).getTime()/1e3}function f(e){return c(e)+86400-1}},da46:function(e,t,a){\"use strict\";a.d(t,\"d\",(function(){return n})),a.d(t,\"b\",(function(){return r})),a.d(t,\"a\",(function(){return i})),a.d(t,\"c\",(function(){return l})),a.d(t,\"e\",(function(){return o}));var n=[{value:!0,label:\"是\"},{value:!1,label:\"否\"}],r=[{value:1,label:\"中东\"},{value:2,label:\"印尼\"}],i=[{value:1,label:\"差劲\"},{value:2,label:\"中等\"},{value:2,label:\"良好\"},{value:2,label:\"优秀\"}],l=[{value:\"0.5\",label:\"30分钟\"},{value:1,label:\"1小时\"},{value:3,label:\"3小时\"},{value:\"24\",label:\"1天\"},{value:\"72\",label:\"3天\"},{value:\"168\",label:\"7天\"}],o=[{value:1,label:\"奖励\"},{value:2,label:\"抽奖\"}]},eb3d:function(e,t,a){\"use strict\";a(\"8a4b\")},f678:function(e,t,a){}}]);","extractedComments":[]}