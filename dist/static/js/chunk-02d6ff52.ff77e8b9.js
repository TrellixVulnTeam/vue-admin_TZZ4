(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02d6ff52"],{"3dc1":function(t,a,e){},4175:function(t,a,e){"use strict";e("3dc1")},b3d7:function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],staticClass:"home-wrapper"},[e("div",{staticClass:"date-row"},t._l(t.cardInfoData,(function(a,s){return e("div",{key:s,staticClass:"data-col"},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"0px"}}},[e("div",{staticClass:"date-block"},[e("div",{staticClass:"date-cont"},[3===a.num?e("div",{staticStyle:{display:"inline"}},[e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count,duration:3e3}}),t._v("\n                            /"),e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count2,duration:3e3}}),t._v("\n                            /"),e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count3,duration:3e3}})],1):2===a.num?e("div",{staticStyle:{display:"inline"}},[e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count,duration:3e3}}),t._v("\n                            /"),e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count2,duration:3e3}})],1):1===a.num?e("div",{staticStyle:{display:"inline"}},[e("CountTo",{staticClass:"count-min",attrs:{"start-val":0,"end-val":a.count,duration:3e3}})],1):t._e(),e("p",{staticClass:"title"},[t._v(t._s(a.title))])])])])],1)})),0),e("el-row",{staticClass:"date-box",attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:t.search,"label-width":"90px"}},[[e("el-form-item",{attrs:{label:"区域"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.search.areaId,callback:function(a){t.$set(t.search,"areaId",a)},expression:"search.areaId"}},t._l(t.areaList,(function(t){return e("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),e("el-form-item",{attrs:{label:"时间"}},[e("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.search.date,callback:function(a){t.$set(t.search,"date",a)},expression:"search.date"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:t.onSearch}},[t._v("刷 新")])],1)]],2)],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[t.incomeData.data?e("ChartsBarLine",{staticClass:"data-chart",attrs:{data:t.incomeData}}):t._e()],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[t.totalDate.data?e("ChartsBarLine",{staticClass:"data-chart",attrs:{data:t.totalDate}}):t._e()],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[t.userDate.data?e("ChartsBar",{staticClass:"data-chart",attrs:{title:"新增用户",data:t.userDate}}):t._e()],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[t.activeData.data?e("ChartsLine",{staticClass:"data-chart",attrs:{data:t.activeData}}):t._e()],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[t.channelData.data?e("ChartsBar",{staticClass:"data-chart",attrs:{title:"充值渠道",data:t.channelData}}):t._e()],1)],1)],1)],1)},n=[],i=(e("159b"),e("ac1f"),e("841c"),e("d3b7"),e("ddb0"),e("ec1b")),r=e.n(i),o=e("cc56"),l=e("6f2c"),c=e("d909"),d=e("7139"),u={name:"Home",components:{CountTo:r.a,ChartsBar:l["a"],ChartsBarLine:o["a"],ChartsLine:c["a"]},data:function(){return{listLoading:!1,search:{areaId:1,date:new Date((new Date).format("yyyy-MM-dd")),startAt:void 0,endAt:void 0},areaList:Object(d["e"])(),appList:Object(d["c"])(),cardInfoData:[],incomeData:{title:"新增收入",legend:["新增收入"],data:void 0},totalDate:{title:"全部收入",legend:["总收入"],data:void 0},userDate:{title:"新增用户",legend:["新增用户"],data:void 0},activeData:{title:"活跃用户",legend:["活跃用户"],keys:["14:00","15:00","16:00","17:00","18:00","19:00","20:00"],values:[[120,132,101,134,90,230,210]]},channelData:{title:"充值渠道",legend:["google","apple","其他"],data:void 0}}},created:function(){this.initCard(),this.initData()},methods:{onSearch:function(){this.listLoading=!0,this.initCard(),this.initData()},initCard:function(){var t=this;this.cardInfoData=[],this.$service.home.getOverview(this.handleSearch(),(function(a){var e={title:"大盘实时收入",num:2,count:a.getIncome(),count2:a.getPayCount()},s={title:"新增/活跃用户",num:2,count:a.getNewUser(),count2:a.getActiveUser()},n={title:"通话/在线主播",num:2,count:a.getBusyAnchor(),count2:a.getOnlineAnchor()},i={title:"待审核主播/profile/视频",num:3,count:a.getReviewAnchor(),count2:a.getReviewProfile(),count3:a.getReviewVideo()},r={title:"新充值/消费/总余额",num:3,count:a.getNewAmount(),count2:a.getExpenseAmount(),count3:a.getTotalAmount()};t.cardInfoData.push(e),t.cardInfoData.push(s),t.cardInfoData.push(n),t.cardInfoData.push(i),t.cardInfoData.push(r)}))},initData:function(){var t=this;this.$service.home.getHomeStat(this.handleSearch(),(function(a){var e=a.getStatsList(),s=[],n=[],i=[],r=[];e.forEach((function(a){var e=Object(d["d"])(t.appList,a.getAppId()),o=1===e.os?"🤖":"",l=e.label+o;s.push({title:l,val1:a.getNewIncome()}),n.push({title:l,val1:a.getTotalIncome()}),i.push({title:l,val1:a.getNewUser()}),r.push({title:l,val1:a.getGoogleIncome(),val2:a.getAppleIncome(),val3:a.getOtherIncome()})})),t.incomeData.data=s,t.totalDate.data=n,t.userDate.data=i,t.channelData.data=r;var o=a.getHourlyActivesList();t.handleActiveData(o),t.listLoading=!1}))},handleSearch:function(){var t=this.search.date;return this.search.startAt=this.startUnix(t),this.search.endAt=this.endUnix(t),this.search},handleActiveData:function(t){var a=this,e=[];t.forEach((function(t,s){a.activeData.keys.push(s+":00"),e.push(t)})),this.activeData.values.push(e)},startUnix:function(t){return new Date(t.toLocaleDateString()).getTime()/1e3},endUnix:function(t){return this.startUnix(t)+86400-1}}},h=u,p=(e("4175"),e("2877")),v=Object(p["a"])(h,s,n,!1,null,null,null);a["default"]=v.exports},d81d:function(t,a,e){"use strict";var s=e("23e7"),n=e("b727").map,i=e("1dde"),r=i("map");s({target:"Array",proto:!0,forced:!r},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);