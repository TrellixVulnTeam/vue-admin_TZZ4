(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7cbc3fce"],{1:function(e,t){},5185:function(e,t,a){},"53c0":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"table-classic-wrapper"},[a("el-card",{attrs:{shadow:"always"}},[a("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:e.search,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"主播Id",prop:"anchorId"}},[a("el-input",{attrs:{placeholder:"主播Id"},model:{value:e.search.anchorId,callback:function(t){e.$set(e.search,"anchorId",t)},expression:"search.anchorId"}})],1),a("el-form-item",{attrs:{label:"区域"}},[a("el-select",{attrs:{disabled:0!==e.authAreaId,placeholder:"请选择"},model:{value:e.search.areaId,callback:function(t){e.$set(e.search,"areaId",t)},expression:"search.areaId"}},e._l(e.areaData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"medium"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"60"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"用户id",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"ownerNickname",label:"昵称",align:"center"}}),a("el-table-column",{attrs:{prop:"ownerType",label:"用户类型",align:"center"}}),a("el-table-column",{attrs:{prop:"thumb",label:"视频",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:e.row.thumb,contain:""}})]}}])}),a("el-table-column",{attrs:{prop:"ownerId",label:"已有视频",align:"center",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("a",{staticStyle:{color:"#1E88C7"},on:{click:function(a){return e.toDialog("videoList",t.row)}}},[e._v("查看")])]}}])}),a("el-table-column",{attrs:{prop:"createdAt",label:"录制时间",align:"center",width:"150"}}),a("el-table-column",{attrs:{label:"操作",align:"center",width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"primary",plain:"",size:"mini",disabled:t.row.forbid},on:{click:function(a){return e.handlePassed(t.$index,t.row)}}},[e._v("通过")]),a("el-button",{attrs:{type:"success",plain:"",size:"mini"},on:{click:function(a){return e.handleRefuse(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("Pagination",{attrs:{total:e.total,page:e.search.page.currentPage,limit:e.search.page.pageSize},on:{"update:page":function(t){return e.$set(e.search.page,"currentPage",t)},"update:limit":function(t){return e.$set(e.search.page,"pageSize",t)},pagination:e.fetchData,changePageSize:function(t){return e.changePageSize(t)}}})],1)],1)},n=[],l=(a("ac1f"),a("841c"),a("159b"),a("333d")),r=a("7139"),o=a("c4d5"),s=a("c466"),c={name:"Table",components:{Pagination:l["a"],videoList:o["a"]},data:function(){return{listLoading:!0,search:{areaId:Object(r["n"])(),reviewStatus:2,page:{currentPage:1,pageSize:10}},total:0,authAreaId:Object(r["n"])(),tableData:[],multipleSelection:[],isSubmit:!1,areaData:Object(r["f"])(),reviewStatus:Object(r["C"])()}},created:function(){this.fetchData()},methods:{fetchData:function(){var e=this;this.listLoading=!0,this.$service.audit.getLiveList(this.search,(function(t){var a=t.getRecordsList(),i=[];a.forEach((function(e,t){var a={id:e.getId(),ownerId:e.getOwnerId(),ownerNickname:"昵称",ownerType:e.getOwnerType(),thumb:e.getThumb(),videos:"查看",createdAt:Object(s["c"])(e.getCreatedAt())};i.push(a)})),e.total=t.getTotalCount(),e.tableData=i,e.listLoading=!1}))},onSubmit:function(){this.search.currentPage=1,this.fetchData()},handleSelectionChange:function(e){this.multipleSelection=e},toDialog:function(e,t){var a=this;this.$refs[e].dialogVisible=!0,this.$nextTick((function(){a.$refs[e].init(t)}))},changePageSize:function(e){this.search.page.pageSize=e.limit},handlePassed:function(e,t){var a=this;console.log(e,t),this.$confirm("是否通过?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$message({type:"success",message:"通过!"})})).catch((function(){a.$message({type:"info",message:"已取消"})}))},handleRefuse:function(e,t){var a=this;console.log(e,t),this.$confirm("是否拒绝?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$message({type:"success",message:"已拒绝!"})})).catch((function(){a.$message({type:"info",message:"已取消"})}))},selectChange:function(e){}}},u=c,d=(a("cee6"),a("2877")),p=Object(d["a"])(u,i,n,!1,null,null,null);t["default"]=p.exports},c466:function(e,t,a){"use strict";function i(e){return 0===e?"":new Date(1e3*e).format("yyyy-MM-dd")}function n(e){return 0===e?"":new Date(1e3*e).format("yyyy-MM-dd hh:mm:ss")}function l(e){return"undefined"==typeof e&&(e=new Date),e.format("yyyy-MM-dd")}a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return l}))},c4d5:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"查看视频",visible:e.dialogVisible,"append-to-body":"",width:"40%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("div",{staticClass:"table-classic-wrapper dialog-list"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,"tooltip-effect":"dark",size:"medium"}},[a("el-table-column",{attrs:{prop:"thumb",label:"视频",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"50px",height:"50px"},attrs:{src:t.row.thumb,contain:""},on:{click:function(a){return e.play(t.row)}}})]}}])}),a("el-table-column",{attrs:{prop:"thumb",label:"应用App",align:"center",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{attrs:{slot:"reference"},slot:"reference"},[e._v("\n                        "+e._s(t.row.app.label)+"\n                        "),1===t.row.app.os?a("span",[a("i",{staticClass:"icon-android-fill"})]):a("span",[a("i",{staticClass:"icon-pingguo"})])])]}}])}),a("el-table-column",{attrs:{prop:"areaStr",label:"区域",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"type",label:"文件类型",align:"center",width:"120"}}),a("el-table-column",{attrs:{prop:"ownerId",label:"所有者ID",align:"center",width:"120"}})],1),a("Pagination",{attrs:{total:e.total,page:e.search.page.currentPage,limit:e.search.page.pageSize},on:{"update:page":function(t){return e.$set(e.search.page,"currentPage",t)},"update:limit":function(t){return e.$set(e.search.page,"pageSize",t)},pagination:e.fetchData}})],1),a("el-dialog",{attrs:{title:"播放视频",visible:e.playVisible,"before-close":e.closeVideo,"append-to-body":!0},on:{"update:visible":function(t){e.playVisible=t}}},[a("div",{staticClass:"content-item"},[a("VueVideoPlayer",{ref:"myVideoPlayer"})],1)])],1)},n=[],l=(a("159b"),a("333d")),r=a("be3f"),o=a("7139"),s={name:"Table",components:{Pagination:l["a"],VueVideoPlayer:r["a"]},data:function(){return{listLoading:!0,search:{page:{currentPage:1,pageSize:10}},videoList:[],imgList:[],total:0,playVisible:!1,dialogVisible:!1,appList:Object(o["c"])(),areaList:Object(o["f"])(),fileTypeList:Object(o["o"])()}},created:function(){this.fetchData()},methods:{init:function(e){this.videoList=e.videos,this.fetchData()},fetchData:function(){var e=this,t=[];this.videoList.forEach((function(a){var i={app:Object(o["e"])(e.appList,a.getAppId()),areaStr:Object(o["g"])(e.areaList,a.getAreaId()),type:Object(o["g"])(e.fileTypeList,a.getType()),ownerId:a.getOwnerId(),thumb:a.getThumb(),uri:a.getUri()};t.push(i)})),this.total=this.videoList.length,this.tableData=t,this.listLoading=!1},play:function(e){var t=this;this.playVisible=!0;var a=e.uri;this.$nextTick((function(){t.$refs.myVideoPlayer.initSrc(a)}))},closeVideo:function(){var e=this;this.playVisible=!1,this.$nextTick((function(){e.$refs.myVideoPlayer.emptySrc()}))},closeDialog:function(){this.dialogVisible=!1,this.resetForm(),this.$emit("fetchData")}}},c=s,u=(a("fc7e"),a("2877")),d=Object(u["a"])(c,i,n,!1,null,null,null);t["a"]=d.exports},cee6:function(e,t,a){"use strict";a("e4ff")},e4ff:function(e,t,a){},fc7e:function(e,t,a){"use strict";a("5185")}}]);