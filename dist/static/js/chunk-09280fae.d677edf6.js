(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-09280fae"],{6793:function(a,t,e){"use strict";e("b69b")},b69b:function(a,t,e){},d37e:function(a,t,e){"use strict";e.r(t);var s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"home-wrapper"},[e("el-row",{staticClass:"date-box",attrs:{gutter:20}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[e("el-form",{ref:"searchForm",staticClass:"search-form",attrs:{inline:!0,model:a.search,"label-width":"90px"}},[e("el-form-item",{attrs:{label:"区域"}},[e("el-select",{attrs:{disabled:0!==a.authAreaId,placeholder:"请选择"},model:{value:a.search.areaId,callback:function(t){a.$set(a.search,"areaId",t)},expression:"search.areaId"}},a._l(a.areaList,(function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})})),1)],1),e("el-form-item",[e("el-button",{attrs:{type:"danger",icon:"el-icon-refresh"},on:{click:a.onSearch}},[a._v("刷 新")])],1)],1)],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[a.userData.values?e("ChartsLine",{staticClass:"data-chart",attrs:{data:a.userData}}):a._e()],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[a.callingData.values?e("ChartsLine",{staticClass:"data-chart",attrs:{data:a.callingData}}):a._e()],1)],1)],1),e("el-row",{staticClass:"date-box",attrs:{gutter:30}},[e("el-col",{attrs:{span:24}},[e("el-card",{attrs:{shadow:"always","body-style":{padding:"10px",paddingTop:"20px"}}},[a.callData.values?e("ChartsLine",{staticClass:"data-chart",attrs:{data:a.callData}}):a._e()],1)],1)],1)],1)},r=[],l=(e("ac1f"),e("841c"),e("159b"),e("d3b7"),e("ddb0"),e("ec1b")),n=e.n(l),i=e("cc56"),c=e("6f2c"),o=e("d909"),h=e("7139"),u={name:"Home",components:{CountTo:n.a,ChartsBar:c["a"],ChartsBarLine:i["a"],ChartsLine:o["a"]},data:function(){return{search:{areaId:Object(h["n"])()},areaList:Object(h["f"])(),userData:{title:"实时用户",legend:["在线用户","新用户","付费用户","空闲主播","通话主播"],keys:[],values:void 0},callingData:{title:"实时通话",legend:["AIB发起","用户发起","主播发起"],keys:[],values:void 0},callData:{title:"实时呼叫",legend:["整体呼叫","AIB呼叫","用户呼叫","主播呼叫"],keys:[],values:void 0}}},created:function(){this.initData()},methods:{onSearch:function(){this.initData()},initData:function(){var a=this,t=this.search;t.startAt=this.startUnix(new Date),t.endAt=this.endUnix(new Date),this.$service.home.getAreaStat(this.search,(function(t){var e=t.getStatsList();a.handleUserData(e),a.handleCallingData(e),a.handleCallData(e)}))},handleUserData:function(a){var t=[],e=[],s=[],r=[],l=[],n=[],i=[];a.forEach((function(a,e){var c=a.getStartAt();t.push(new Date(1e3*c).format("HH:mm")),s.push(a.getOnlineUser()),r.push(a.getNewUser()),l.push(a.getPayUser()),n.push(a.getIdleAnchor()),i.push(a.getBusyAnchor())})),e.push(s),e.push(r),e.push(l),e.push(n),e.push(i),this.userData.keys=t,this.userData.values=e},handleCallingData:function(a){var t=[],e=[],s=[],r=[],l=[];a.forEach((function(a,e){var n=a.getStartAt();t.push(new Date(1e3*n).format("HH:mm")),s.push(a.getAiCalling()),r.push(a.getUserCalling()),l.push(a.getAnchorCalling())})),e.push(s),e.push(r),e.push(l),this.callingData.keys=t,this.callingData.values=e},handleCallData:function(a){var t=[],e=[],s=[],r=[],l=[];a.forEach((function(a,e){var n=a.getStartAt();t.push(new Date(1e3*n).format("HH:mm")),s.push(a.getAiCall()),r.push(a.getUserCall()),l.push(a.getAnchorCall())})),e.push(s),e.push(r),e.push(l),this.callData.keys=t,this.callData.values=e},startUnix:function(a){return new Date(a.toLocaleDateString()).getTime()/1e3},endUnix:function(a){return this.startUnix(a)+86400-1}}},d=u,p=(e("6793"),e("2877")),g=Object(p["a"])(d,s,r,!1,null,null,null);t["default"]=g.exports},d81d:function(a,t,e){"use strict";var s=e("23e7"),r=e("b727").map,l=e("1dde"),n=l("map");s({target:"Array",proto:!0,forced:!n},{map:function(a){return r(this,a,arguments.length>1?arguments[1]:void 0)}})}}]);